function pI(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function gI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jg={exports:{}},Kc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function yI(){if(V1)return Kc;V1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Kc.Fragment=e,Kc.jsx=n,Kc.jsxs=n,Kc}var L1;function vI(){return L1||(L1=1,jg.exports=yI()),jg.exports}var d=vI(),Ig={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function xI(){if(U1)return Pe;U1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,P={};function k(O,ee,ue){this.props=O,this.context=ee,this.refs=P,this.updater=ue||S}k.prototype.isReactComponent={},k.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function R(){}R.prototype=k.prototype;function B(O,ee,ue){this.props=O,this.context=ee,this.refs=P,this.updater=ue||S}var F=B.prototype=new R;F.constructor=B,A(F,k.prototype),F.isPureReactComponent=!0;var te=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function D(O,ee,ue,ae,be,De){return ue=De.ref,{$$typeof:t,type:O,key:ee,ref:ue!==void 0?ue:null,props:De}}function C(O,ee){return D(O.type,ee,void 0,void 0,void 0,O.props)}function j(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function M(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return ee[ue]})}var L=/\/+/g;function H(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):ee.toString(36)}function V(){}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(V,V):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function xe(O,ee,ue,ae,be){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Se=!1;if(O===null)Se=!0;else switch(De){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(O.$$typeof){case t:case e:Se=!0;break;case y:return Se=O._init,xe(Se(O._payload),ee,ue,ae,be)}}if(Se)return be=be(O),Se=ae===""?"."+H(O,0):ae,te(be)?(ue="",Se!=null&&(ue=Se.replace(L,"$&/")+"/"),xe(be,ee,ue,"",function(Ht){return Ht})):be!=null&&(j(be)&&(be=C(be,ue+(be.key==null||O&&O.key===be.key?"":(""+be.key).replace(L,"$&/")+"/")+Se)),ee.push(be)),1;Se=0;var ct=ae===""?".":ae+":";if(te(O))for(var Ke=0;Ke<O.length;Ke++)ae=O[Ke],De=ct+H(ae,Ke),Se+=xe(ae,ee,ue,De,be);else if(Ke=w(O),typeof Ke=="function")for(O=Ke.call(O),Ke=0;!(ae=O.next()).done;)ae=ae.value,De=ct+H(ae,Ke++),Se+=xe(ae,ee,ue,De,be);else if(De==="object"){if(typeof O.then=="function")return xe(ye(O),ee,ue,ae,be);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Se}function X(O,ee,ue){if(O==null)return O;var ae=[],be=0;return xe(O,ae,"","",function(De){return ee.call(ue,De,be++)}),ae}function q(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var ne=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function he(){}return Pe.Children={map:X,forEach:function(O,ee,ue){X(O,function(){ee.apply(this,arguments)},ue)},count:function(O){var ee=0;return X(O,function(){ee++}),ee},toArray:function(O){return X(O,function(ee){return ee})||[]},only:function(O){if(!j(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Pe.Component=k,Pe.Fragment=n,Pe.Profiler=a,Pe.PureComponent=B,Pe.StrictMode=i,Pe.Suspense=f,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return W.H.useMemoCache(O)}},Pe.cache=function(O){return function(){return O.apply(null,arguments)}},Pe.cloneElement=function(O,ee,ue){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=A({},O.props),be=O.key,De=void 0;if(ee!=null)for(Se in ee.ref!==void 0&&(De=void 0),ee.key!==void 0&&(be=""+ee.key),ee)!re.call(ee,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ee.ref===void 0||(ae[Se]=ee[Se]);var Se=arguments.length-2;if(Se===1)ae.children=ue;else if(1<Se){for(var ct=Array(Se),Ke=0;Ke<Se;Ke++)ct[Ke]=arguments[Ke+2];ae.children=ct}return D(O.type,be,void 0,void 0,De,ae)},Pe.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Pe.createElement=function(O,ee,ue){var ae,be={},De=null;if(ee!=null)for(ae in ee.key!==void 0&&(De=""+ee.key),ee)re.call(ee,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(be[ae]=ee[ae]);var Se=arguments.length-2;if(Se===1)be.children=ue;else if(1<Se){for(var ct=Array(Se),Ke=0;Ke<Se;Ke++)ct[Ke]=arguments[Ke+2];be.children=ct}if(O&&O.defaultProps)for(ae in Se=O.defaultProps,Se)be[ae]===void 0&&(be[ae]=Se[ae]);return D(O,De,void 0,void 0,null,be)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(O){return{$$typeof:h,render:O}},Pe.isValidElement=j,Pe.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:q}},Pe.memo=function(O,ee){return{$$typeof:g,type:O,compare:ee===void 0?null:ee}},Pe.startTransition=function(O){var ee=W.T,ue={};W.T=ue;try{var ae=O(),be=W.S;be!==null&&be(ue,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(he,ne)}catch(De){ne(De)}finally{W.T=ee}},Pe.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Pe.use=function(O){return W.H.use(O)},Pe.useActionState=function(O,ee,ue){return W.H.useActionState(O,ee,ue)},Pe.useCallback=function(O,ee){return W.H.useCallback(O,ee)},Pe.useContext=function(O){return W.H.useContext(O)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(O,ee){return W.H.useDeferredValue(O,ee)},Pe.useEffect=function(O,ee,ue){var ae=W.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(O,ee)},Pe.useId=function(){return W.H.useId()},Pe.useImperativeHandle=function(O,ee,ue){return W.H.useImperativeHandle(O,ee,ue)},Pe.useInsertionEffect=function(O,ee){return W.H.useInsertionEffect(O,ee)},Pe.useLayoutEffect=function(O,ee){return W.H.useLayoutEffect(O,ee)},Pe.useMemo=function(O,ee){return W.H.useMemo(O,ee)},Pe.useOptimistic=function(O,ee){return W.H.useOptimistic(O,ee)},Pe.useReducer=function(O,ee,ue){return W.H.useReducer(O,ee,ue)},Pe.useRef=function(O){return W.H.useRef(O)},Pe.useState=function(O){return W.H.useState(O)},Pe.useSyncExternalStore=function(O,ee,ue){return W.H.useSyncExternalStore(O,ee,ue)},Pe.useTransition=function(){return W.H.useTransition()},Pe.version="19.1.0",Pe}var B1;function Sy(){return B1||(B1=1,Ig.exports=xI()),Ig.exports}var _=Sy();const Ee=gI(_),F1=pI({__proto__:null,default:Ee},[_]);var Dg={exports:{}},Yc={},kg={exports:{}},Mg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1;function bI(){return z1||(z1=1,function(t){function e(X,q){var ne=X.length;X.push(q);e:for(;0<ne;){var he=ne-1>>>1,O=X[he];if(0<a(O,q))X[he]=q,X[ne]=O,ne=he;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var q=X[0],ne=X.pop();if(ne!==q){X[0]=ne;e:for(var he=0,O=X.length,ee=O>>>1;he<ee;){var ue=2*(he+1)-1,ae=X[ue],be=ue+1,De=X[be];if(0>a(ae,ne))be<O&&0>a(De,ae)?(X[he]=De,X[be]=ne,he=be):(X[he]=ae,X[ue]=ne,he=ue);else if(be<O&&0>a(De,ne))X[he]=De,X[be]=ne,he=be;else break e}}return q}function a(X,q){var ne=X.sortIndex-q.sortIndex;return ne!==0?ne:X.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],g=[],y=1,b=null,w=3,S=!1,A=!1,P=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function te(X){for(var q=n(g);q!==null;){if(q.callback===null)i(g);else if(q.startTime<=X)i(g),q.sortIndex=q.expirationTime,e(f,q);else break;q=n(g)}}function W(X){if(P=!1,te(X),!A)if(n(f)!==null)A=!0,re||(re=!0,H());else{var q=n(g);q!==null&&xe(W,q.startTime-X)}}var re=!1,D=-1,C=5,j=-1;function M(){return k?!0:!(t.unstable_now()-j<C)}function L(){if(k=!1,re){var X=t.unstable_now();j=X;var q=!0;try{e:{A=!1,P&&(P=!1,B(D),D=-1),S=!0;var ne=w;try{t:{for(te(X),b=n(f);b!==null&&!(b.expirationTime>X&&M());){var he=b.callback;if(typeof he=="function"){b.callback=null,w=b.priorityLevel;var O=he(b.expirationTime<=X);if(X=t.unstable_now(),typeof O=="function"){b.callback=O,te(X),q=!0;break t}b===n(f)&&i(f),te(X)}else i(f);b=n(f)}if(b!==null)q=!0;else{var ee=n(g);ee!==null&&xe(W,ee.startTime-X),q=!1}}break e}finally{b=null,w=ne,S=!1}q=void 0}}finally{q?H():re=!1}}}var H;if(typeof F=="function")H=function(){F(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ye=V.port2;V.port1.onmessage=L,H=function(){ye.postMessage(null)}}else H=function(){R(L,0)};function xe(X,q){D=R(function(){X(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(X){switch(w){case 1:case 2:case 3:var q=3;break;default:q=w}var ne=w;w=q;try{return X()}finally{w=ne}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(X,q){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ne=w;w=X;try{return q()}finally{w=ne}},t.unstable_scheduleCallback=function(X,q,ne){var he=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?he+ne:he):ne=he,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ne+O,X={id:y++,callback:q,priorityLevel:X,startTime:ne,expirationTime:O,sortIndex:-1},ne>he?(X.sortIndex=ne,e(g,X),n(f)===null&&X===n(g)&&(P?(B(D),D=-1):P=!0,xe(W,ne-he))):(X.sortIndex=O,e(f,X),A||S||(A=!0,re||(re=!0,H()))),X},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(X){var q=w;return function(){var ne=w;w=q;try{return X.apply(this,arguments)}finally{w=ne}}}}(Mg)),Mg}var H1;function wI(){return H1||(H1=1,kg.exports=bI()),kg.exports}var Pg={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1;function _I(){if(q1)return un;q1=1;var t=Sy();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:g,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,un.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(f,g,null,y)},un.flushSync=function(f){var g=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=y,i.d.f()}},un.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},un.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},un.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:S}):y==="script"&&i.d.X(f,{crossOrigin:b,integrity:w,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},un.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin);i.d.L(f,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},un.requestFormReset=function(f){i.d.r(f)},un.unstable_batchedUpdates=function(f,g){return f(g)},un.useFormState=function(f,g,y){return c.H.useFormState(f,g,y)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.1.0",un}var $1;function _T(){if($1)return Pg.exports;$1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pg.exports=_I(),Pg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function EI(){if(G1)return Yc;G1=1;var t=wI(),e=Sy(),n=_T();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(i(188))}function f(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return h(p),r;if(v===u)return h(p),s;v=v.sibling}throw Error(i(188))}if(o.return!==u.return)o=p,u=v;else{for(var T=!1,N=p.child;N;){if(N===o){T=!0,o=p,u=v;break}if(N===u){T=!0,u=p,o=v;break}N=N.sibling}if(!T){for(N=v.child;N;){if(N===o){T=!0,o=v,u=p;break}if(N===u){T=!0,u=v,o=p;break}N=N.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function ye(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case k:return"Profiler";case P:return"StrictMode";case W:return"Suspense";case re:return"SuspenseList";case j:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case F:return(r.displayName||"Context")+".Provider";case B:return(r._context.displayName||"Context")+".Consumer";case te:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return s=r.displayName||null,s!==null?s:ye(r.type)||"Memo";case C:s=r._payload,r=r._init;try{return ye(r(s))}catch{}}return null}var xe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},he=[],O=-1;function ee(r){return{current:r}}function ue(r){0>O||(r.current=he[O],he[O]=null,O--)}function ae(r,s){O++,he[O]=r.current,r.current=s}var be=ee(null),De=ee(null),Se=ee(null),ct=ee(null);function Ke(r,s){switch(ae(Se,s),ae(De,r),ae(be,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?d1(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=d1(s),r=h1(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(be),ae(be,r)}function Ht(){ue(be),ue(De),ue(Se)}function pi(r){r.memoizedState!==null&&ae(ct,r);var s=be.current,o=h1(s,r.type);s!==o&&(ae(De,r),ae(be,o))}function gi(r){De.current===r&&(ue(be),ue(De)),ct.current===r&&(ue(ct),zc._currentValue=ne)}var ur=Object.prototype.hasOwnProperty,dr=t.unstable_scheduleCallback,hr=t.unstable_cancelCallback,fr=t.unstable_shouldYield,fe=t.unstable_requestPaint,Ae=t.unstable_now,ft=t.unstable_getCurrentPriorityLevel,Gn=t.unstable_ImmediatePriority,yi=t.unstable_UserBlockingPriority,Kn=t.unstable_NormalPriority,mo=t.unstable_LowPriority,Yn=t.unstable_IdlePriority,qt=t.log,rd=t.unstable_setDisableYieldValue,xt=null,Ze=null;function kn(r){if(typeof qt=="function"&&rd(r),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(xt,r)}catch{}}var ln=Math.clz32?Math.clz32:oa,sd=Math.log,Dm=Math.LN2;function oa(r){return r>>>=0,r===0?32:31-(sd(r)/Dm|0)|0}var la=256,ca=4194304;function vi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function po(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var p=0,v=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var N=u&134217727;return N!==0?(u=N&~v,u!==0?p=vi(u):(T&=N,T!==0?p=vi(T):o||(o=N&~r,o!==0&&(p=vi(o))))):(N=u&~v,N!==0?p=vi(N):T!==0?p=vi(T):o||(o=u&~r,o!==0&&(p=vi(o)))),p===0?0:s!==0&&s!==p&&(s&v)===0&&(v=p&-p,o=s&-s,v>=o||v===32&&(o&4194048)!==0)?s:p}function ua(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function zl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hl(){var r=la;return la<<=1,(la&4194048)===0&&(la=256),r}function ql(){var r=ca;return ca<<=1,(ca&62914560)===0&&(ca=4194304),r}function mr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function pr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function $l(r,s,o,u,p,v){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var N=r.entanglements,U=r.expirationTimes,Y=r.hiddenUpdates;for(o=T&~o;0<o;){var ie=31-ln(o),oe=1<<ie;N[ie]=0,U[ie]=-1;var Q=Y[ie];if(Q!==null)for(Y[ie]=null,ie=0;ie<Q.length;ie++){var Z=Q[ie];Z!==null&&(Z.lane&=-536870913)}o&=~oe}u!==0&&Pi(r,u,0),v!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=v&~(T&~s))}function Pi(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-ln(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Gl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-ln(o),p=1<<u;p&s|r[u]&s&&(r[u]|=s),o&=~p}}function rs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function go(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ss(){var r=q.p;return r!==0?r:(r=window.event,r===void 0?32:I1(r.type))}function ad(r,s){var o=q.p;try{return q.p=r,s()}finally{q.p=o}}var ut=Math.random().toString(36).slice(2),Vt="__reactFiber$"+ut,It="__reactProps$"+ut,Wn="__reactContainer$"+ut,Kl="__reactEvents$"+ut,km="__reactListeners$"+ut,as="__reactHandles$"+ut,od="__reactResources$"+ut,da="__reactMarker$"+ut;function os(r){delete r[Vt],delete r[It],delete r[Kl],delete r[km],delete r[as]}function gr(r){var s=r[Vt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Wn]||o[Vt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=g1(r);r!==null;){if(o=r[Vt])return o;r=g1(r)}return s}r=o,o=r.parentNode}return null}function Oi(r){if(r=r[Vt]||r[Wn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Vi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function yn(r){var s=r[od];return s||(s=r[od]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function St(r){r[da]=!0}var Yl=new Set,yo={};function xi(r,s){yr(r,s),yr(r+"Capture",s)}function yr(r,s){for(yo[r]=s,r=0;r<s.length;r++)Yl.add(s[r])}var ld=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cd={},ha={};function ud(r){return ur.call(ha,r)?!0:ur.call(cd,r)?!1:ld.test(r)?ha[r]=!0:(cd[r]=!0,!1)}function ls(r,s,o){if(ud(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Li(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Xt(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var fa,dd;function vr(r){if(fa===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);fa=s&&s[1]||"",dd=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+r+dd}var vo=!1;function xo(r,s){if(!r||vo)return"";vo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Z){var Q=Z}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(Z){Q=Z}r.call(oe.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),T=v[0],N=v[1];if(T&&N){var U=T.split(`
`),Y=N.split(`
`);for(p=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(u===U.length||p===Y.length)for(u=U.length-1,p=Y.length-1;1<=u&&0<=p&&U[u]!==Y[p];)p--;for(;1<=u&&0<=p;u--,p--)if(U[u]!==Y[p]){if(u!==1||p!==1)do if(u--,p--,0>p||U[u]!==Y[p]){var ie=`
`+U[u].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=u&&0<=p);break}}}finally{vo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?vr(o):""}function Wl(r){switch(r.tag){case 26:case 27:case 5:return vr(r.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 15:return xo(r.type,!1);case 11:return xo(r.type.render,!1);case 1:return xo(r.type,!0);case 31:return vr("Activity");default:return""}}function bo(r){try{var s="";do s+=Wl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function vn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ql(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Mm(r){var s=Ql(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,v=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){u=""+T,v.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function wo(r){r._valueTracker||(r._valueTracker=Mm(r))}function Xl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Ql(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function ma(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Pm=/[\n"\\]/g;function Dt(r){return r.replace(Pm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Mn(r,s,o,u,p,v,T,N){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+vn(s)):r.value!==""+vn(s)&&(r.value=""+vn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?cs(r,T,vn(s)):o!=null?cs(r,T,vn(o)):u!=null&&r.removeAttribute("value"),p==null&&v!=null&&(r.defaultChecked=!!v),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+vn(N):r.removeAttribute("name")}function pa(r,s,o,u,p,v,T,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),s!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;o=o!=null?""+vn(o):"",s=s!=null?""+vn(s):o,N||s===r.value||(r.value=s),r.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=N?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function cs(r,s,o){s==="number"&&ma(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function xr(r,s,o,u){if(r=r.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=s.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&u&&(r[o].defaultSelected=!0)}else{for(o=""+vn(o),s=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,u&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function tt(r,s,o){if(s!=null&&(s=""+vn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+vn(o):""}function ga(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(xe(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=vn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Qn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ya=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hd(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||ya.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Zl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&hd(r,p,u)}else for(var v in s)s.hasOwnProperty(v)&&hd(r,v,s[v])}function Jl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _o(r){return Vm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var br=null;function Xn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var wr=null,_r=null;function ec(r){var s=Oi(r);if(s&&(r=s.stateNode)){var o=r[It]||null;e:switch(r=s.stateNode,s.type){case"input":if(Mn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var p=u[It]||null;if(!p)throw Error(i(90));Mn(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Xl(u)}break e;case"textarea":tt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&xr(r,!!o.multiple,s,!1)}}}var Ui=!1;function fd(r,s,o){if(Ui)return r(s,o);Ui=!0;try{var u=r(s);return u}finally{if(Ui=!1,(wr!==null||_r!==null)&&(ah(),wr&&(s=wr,r=_r,_r=wr=null,ec(s),r)))for(s=0;s<r.length;s++)ec(r[s])}}function va(r,s){var o=r.stateNode;if(o===null)return null;var u=o[It]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zn=!1;if(bi)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Zn=!1}var Bi=null,us=null,Er=null;function tc(){if(Er)return Er;var r,s=us,o=s.length,u,p="value"in Bi?Bi.value:Bi.textContent,v=p.length;for(r=0;r<o&&s[r]===p[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===p[v-u];u++);return Er=p.slice(r,1<u?1-u:void 0)}function Fi(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function zi(){return!0}function nc(){return!1}function $t(r){function s(o,u,p,v,T){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(o=r[N],this[N]=o?o(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?zi:nc,this.isPropagationStopped=nc,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),s}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=$t(Qe),ba=y({},Qe,{view:0,detail:0}),md=$t(ba),To,So,Hi,wa=y({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Hi&&(Hi&&r.type==="mousemove"?(To=r.screenX-Hi.screenX,So=r.screenY-Hi.screenY):So=To=0,Hi=r),To)},movementY:function(r){return"movementY"in r?r.movementY:So}}),Jn=$t(wa),pd=y({},wa,{dataTransfer:0}),Lm=$t(pd),_a=y({},ba,{relatedTarget:0}),Ao=$t(_a),ic=y({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),No=$t(ic),gd=y({},Qe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Co=$t(gd),Um=y({},Qe,{data:0}),rc=$t(Um),Ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sc(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=vd[r])?!!s[r]:!1}function Ta(){return sc}var xd=y({},ba,{key:function(r){if(r.key){var s=Ea[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Fi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?yd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(r){return r.type==="keypress"?Fi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ro=$t(xd),bd=y({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ac=$t(bd),Tr=y({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),wd=$t(Tr),_d=y({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ed=$t(_d),Td=y({},wa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),jo=$t(Td),xn=y({},Qe,{newState:0,oldState:0}),Sd=$t(xn),Ad=[9,13,27,32],qi=bi&&"CompositionEvent"in window,m=null;bi&&"documentMode"in document&&(m=document.documentMode);var x=bi&&"TextEvent"in window&&!m,E=bi&&(!qi||m&&8<m&&11>=m),I=" ",G=!1;function J(r,s){switch(r){case"keyup":return Ad.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var He=!1;function Lt(r,s){switch(r){case"compositionend":return de(s);case"keypress":return s.which!==32?null:(G=!0,I);case"textInput":return r=s.data,r===I&&G?null:r;default:return null}}function qe(r,s){if(He)return r==="compositionend"||!qi&&J(r,s)?(r=tc(),Er=us=Bi=null,He=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Gt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Gt[r.type]:s==="textarea"}function Sr(r,s,o,u){wr?_r?_r.push(u):_r=[u]:wr=u,s=hh(s,"onChange"),0<s.length&&(o=new Eo("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Zt=null,$i=null;function oc(r){a1(r,0)}function Nd(r){var s=Vi(r);if(Xl(s))return r}function Nx(r,s){if(r==="change")return s}var Cx=!1;if(bi){var Bm;if(bi){var Fm="oninput"in document;if(!Fm){var Rx=document.createElement("div");Rx.setAttribute("oninput","return;"),Fm=typeof Rx.oninput=="function"}Bm=Fm}else Bm=!1;Cx=Bm&&(!document.documentMode||9<document.documentMode)}function jx(){Zt&&(Zt.detachEvent("onpropertychange",Ix),$i=Zt=null)}function Ix(r){if(r.propertyName==="value"&&Nd($i)){var s=[];Sr(s,$i,r,Xn(r)),fd(oc,s)}}function $R(r,s,o){r==="focusin"?(jx(),Zt=s,$i=o,Zt.attachEvent("onpropertychange",Ix)):r==="focusout"&&jx()}function GR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Nd($i)}function KR(r,s){if(r==="click")return Nd(s)}function YR(r,s){if(r==="input"||r==="change")return Nd(s)}function WR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Pn=typeof Object.is=="function"?Object.is:WR;function lc(r,s){if(Pn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!ur.call(s,p)||!Pn(r[p],s[p]))return!1}return!0}function Dx(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function kx(r,s){var o=Dx(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Dx(o)}}function Mx(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Mx(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Px(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ma(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=ma(r.document)}return s}function zm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var QR=bi&&"documentMode"in document&&11>=document.documentMode,Io=null,Hm=null,cc=null,qm=!1;function Ox(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;qm||Io==null||Io!==ma(u)||(u=Io,"selectionStart"in u&&zm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),cc&&lc(cc,u)||(cc=u,u=hh(Hm,"onSelect"),0<u.length&&(s=new Eo("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Io)))}function Sa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Do={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},$m={},Vx={};bi&&(Vx=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Aa(r){if($m[r])return $m[r];if(!Do[r])return r;var s=Do[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Vx)return $m[r]=s[o];return r}var Lx=Aa("animationend"),Ux=Aa("animationiteration"),Bx=Aa("animationstart"),XR=Aa("transitionrun"),ZR=Aa("transitionstart"),JR=Aa("transitioncancel"),Fx=Aa("transitionend"),zx=new Map,Gm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gm.push("scrollEnd");function wi(r,s){zx.set(r,s),xi(s,[r])}var Hx=new WeakMap;function ei(r,s){if(typeof r=="object"&&r!==null){var o=Hx.get(r);return o!==void 0?o:(s={value:r,source:s,stack:bo(s)},Hx.set(r,s),s)}return{value:r,source:s,stack:bo(s)}}var ti=[],ko=0,Km=0;function Cd(){for(var r=ko,s=Km=ko=0;s<r;){var o=ti[s];ti[s++]=null;var u=ti[s];ti[s++]=null;var p=ti[s];ti[s++]=null;var v=ti[s];if(ti[s++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}v!==0&&qx(o,p,v)}}function Rd(r,s,o,u){ti[ko++]=r,ti[ko++]=s,ti[ko++]=o,ti[ko++]=u,Km|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Ym(r,s,o,u){return Rd(r,s,o,u),jd(r)}function Mo(r,s){return Rd(r,null,null,s),jd(r)}function qx(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var p=!1,v=r.return;v!==null;)v.childLanes|=o,u=v.alternate,u!==null&&(u.childLanes|=o),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(p=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,p&&s!==null&&(p=31-ln(o),r=v.hiddenUpdates,u=r[p],u===null?r[p]=[s]:u.push(s),s.lane=o|536870912),v):null}function jd(r){if(50<Mc)throw Mc=0,eg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Po={};function ej(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(r,s,o,u){return new ej(r,s,o,u)}function Wm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ar(r,s){var o=r.alternate;return o===null?(o=On(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function $x(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Id(r,s,o,u,p,v){var T=0;if(u=r,typeof r=="function")Wm(r)&&(T=1);else if(typeof r=="string")T=nI(r,o,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case j:return r=On(31,o,s,p),r.elementType=j,r.lanes=v,r;case A:return Na(o.children,p,v,s);case P:T=8,p|=24;break;case k:return r=On(12,o,s,p|2),r.elementType=k,r.lanes=v,r;case W:return r=On(13,o,s,p),r.elementType=W,r.lanes=v,r;case re:return r=On(19,o,s,p),r.elementType=re,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case R:case F:T=10;break e;case B:T=9;break e;case te:T=11;break e;case D:T=14;break e;case C:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=On(T,o,s,p),s.elementType=r,s.type=u,s.lanes=v,s}function Na(r,s,o,u){return r=On(7,r,u,s),r.lanes=o,r}function Qm(r,s,o){return r=On(6,r,null,s),r.lanes=o,r}function Xm(r,s,o){return s=On(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Oo=[],Vo=0,Dd=null,kd=0,ni=[],ii=0,Ca=null,Nr=1,Cr="";function Ra(r,s){Oo[Vo++]=kd,Oo[Vo++]=Dd,Dd=r,kd=s}function Gx(r,s,o){ni[ii++]=Nr,ni[ii++]=Cr,ni[ii++]=Ca,Ca=r;var u=Nr;r=Cr;var p=32-ln(u)-1;u&=~(1<<p),o+=1;var v=32-ln(s)+p;if(30<v){var T=p-p%5;v=(u&(1<<T)-1).toString(32),u>>=T,p-=T,Nr=1<<32-ln(s)+p|o<<p|u,Cr=v+r}else Nr=1<<v|o<<p|u,Cr=r}function Zm(r){r.return!==null&&(Ra(r,1),Gx(r,1,0))}function Jm(r){for(;r===Dd;)Dd=Oo[--Vo],Oo[Vo]=null,kd=Oo[--Vo],Oo[Vo]=null;for(;r===Ca;)Ca=ni[--ii],ni[ii]=null,Cr=ni[--ii],ni[ii]=null,Nr=ni[--ii],ni[ii]=null}var bn=null,bt=null,We=!1,ja=null,Gi=!1,ep=Error(i(519));function Ia(r){var s=Error(i(418,""));throw hc(ei(s,r)),ep}function Kx(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Vt]=r,s[It]=u,o){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(o=0;o<Oc.length;o++)Be(Oc[o],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),pa(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),wo(s);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),ga(s,u.value,u.defaultValue,u.children),wo(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||u1(s.textContent,o)?(u.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),u.onScroll!=null&&Be("scroll",s),u.onScrollEnd!=null&&Be("scrollend",s),u.onClick!=null&&(s.onclick=fh),s=!0):s=!1,s||Ia(r)}function Yx(r){for(bn=r.return;bn;)switch(bn.tag){case 5:case 13:Gi=!1;return;case 27:case 3:Gi=!0;return;default:bn=bn.return}}function uc(r){if(r!==bn)return!1;if(!We)return Yx(r),We=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||gg(r.type,r.memoizedProps)),o=!o),o&&bt&&Ia(r),Yx(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){bt=Ei(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}bt=null}}else s===27?(s=bt,As(r.type)?(r=bg,bg=null,bt=r):bt=s):bt=bn?Ei(r.stateNode.nextSibling):null;return!0}function dc(){bt=bn=null,We=!1}function Wx(){var r=ja;return r!==null&&(Cn===null?Cn=r:Cn.push.apply(Cn,r),ja=null),r}function hc(r){ja===null?ja=[r]:ja.push(r)}var tp=ee(null),Da=null,Rr=null;function ds(r,s,o){ae(tp,s._currentValue),s._currentValue=o}function jr(r){r._currentValue=tp.current,ue(tp)}function np(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function ip(r,s,o,u){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var v=p.dependencies;if(v!==null){var T=p.child;v=v.firstContext;e:for(;v!==null;){var N=v;v=p;for(var U=0;U<s.length;U++)if(N.context===s[U]){v.lanes|=o,N=v.alternate,N!==null&&(N.lanes|=o),np(v.return,o,r),u||(T=null);break e}v=N.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=o,v=T.alternate,v!==null&&(v.lanes|=o),np(T,o,r),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===r){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function fc(r,s,o,u){r=null;for(var p=s,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var N=p.type;Pn(p.pendingProps.value,T.value)||(r!==null?r.push(N):r=[N])}}else if(p===ct.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(zc):r=[zc])}p=p.return}r!==null&&ip(s,r,o,u),s.flags|=262144}function Md(r){for(r=r.firstContext;r!==null;){if(!Pn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ka(r){Da=r,Rr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function cn(r){return Qx(Da,r)}function Pd(r,s){return Da===null&&ka(r),Qx(r,s)}function Qx(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Rr===null){if(r===null)throw Error(i(308));Rr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Rr=Rr.next=s;return o}var tj=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},nj=t.unstable_scheduleCallback,ij=t.unstable_NormalPriority,Bt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rp(){return{controller:new tj,data:new Map,refCount:0}}function mc(r){r.refCount--,r.refCount===0&&nj(ij,function(){r.controller.abort()})}var pc=null,sp=0,Lo=0,Uo=null;function rj(r,s){if(pc===null){var o=pc=[];sp=0,Lo=og(),Uo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return sp++,s.then(Xx,Xx),s}function Xx(){if(--sp===0&&pc!==null){Uo!==null&&(Uo.status="fulfilled");var r=pc;pc=null,Lo=0,Uo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function sj(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Zx=X.S;X.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&rj(r,s),Zx!==null&&Zx(r,s)};var Ma=ee(null);function ap(){var r=Ma.current;return r!==null?r:at.pooledCache}function Od(r,s){s===null?ae(Ma,Ma.current):ae(Ma,s.pool)}function Jx(){var r=ap();return r===null?null:{parent:Bt._currentValue,pool:r}}var gc=Error(i(460)),eb=Error(i(474)),Vd=Error(i(542)),op={then:function(){}};function tb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ld(){}function nb(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Ld,Ld),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,rb(r),r;default:if(typeof s.status=="string")s.then(Ld,Ld);else{if(r=at,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,rb(r),r}throw yc=s,gc}}var yc=null;function ib(){if(yc===null)throw Error(i(459));var r=yc;return yc=null,r}function rb(r){if(r===gc||r===Vd)throw Error(i(483))}var hs=!1;function lp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function fs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ms(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Je&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=jd(r),qx(r,null,o),s}return Rd(r,u,s,o),jd(r)}function vc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Gl(r,o)}}function up(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?p=v=T:v=v.next=T,o=o.next}while(o!==null);v===null?p=v=s:v=v.next=s}else p=v=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var dp=!1;function xc(){if(dp){var r=Uo;if(r!==null)throw r}}function bc(r,s,o,u){dp=!1;var p=r.updateQueue;hs=!1;var v=p.firstBaseUpdate,T=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var U=N,Y=U.next;U.next=null,T===null?v=Y:T.next=Y,T=U;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,N=ie.lastBaseUpdate,N!==T&&(N===null?ie.firstBaseUpdate=Y:N.next=Y,ie.lastBaseUpdate=U))}if(v!==null){var oe=p.baseState;T=0,ie=Y=U=null,N=v;do{var Q=N.lane&-536870913,Z=Q!==N.lane;if(Z?($e&Q)===Q:(u&Q)===Q){Q!==0&&Q===Lo&&(dp=!0),ie!==null&&(ie=ie.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var je=r,Te=N;Q=s;var rt=o;switch(Te.tag){case 1:if(je=Te.payload,typeof je=="function"){oe=je.call(rt,oe,Q);break e}oe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Te.payload,Q=typeof je=="function"?je.call(rt,oe,Q):je,Q==null)break e;oe=y({},oe,Q);break e;case 2:hs=!0}}Q=N.callback,Q!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=p.callbacks,Z===null?p.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ie===null?(Y=ie=Z,U=oe):ie=ie.next=Z,T|=Q;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;Z=N,N=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);ie===null&&(U=oe),p.baseState=U,p.firstBaseUpdate=Y,p.lastBaseUpdate=ie,v===null&&(p.shared.lanes=0),_s|=T,r.lanes=T,r.memoizedState=oe}}function sb(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function ab(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)sb(o[r],s)}var Bo=ee(null),Ud=ee(0);function ob(r,s){r=Vr,ae(Ud,r),ae(Bo,s),Vr=r|s.baseLanes}function hp(){ae(Ud,Vr),ae(Bo,Bo.current)}function fp(){Vr=Ud.current,ue(Bo),ue(Ud)}var ps=0,Oe=null,nt=null,kt=null,Bd=!1,Fo=!1,Pa=!1,Fd=0,wc=0,zo=null,aj=0;function At(){throw Error(i(321))}function mp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Pn(r[o],s[o]))return!1;return!0}function pp(r,s,o,u,p,v){return ps=v,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=r===null||r.memoizedState===null?qb:$b,Pa=!1,v=o(u,p),Pa=!1,Fo&&(v=cb(s,o,u,p)),lb(r),v}function lb(r){X.H=Kd;var s=nt!==null&&nt.next!==null;if(ps=0,kt=nt=Oe=null,Bd=!1,wc=0,zo=null,s)throw Error(i(300));r===null||Kt||(r=r.dependencies,r!==null&&Md(r)&&(Kt=!0))}function cb(r,s,o,u){Oe=r;var p=0;do{if(Fo&&(zo=null),wc=0,Fo=!1,25<=p)throw Error(i(301));if(p+=1,kt=nt=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}X.H=fj,v=s(o,u)}while(Fo);return v}function oj(){var r=X.H,s=r.useState()[0];return s=typeof s.then=="function"?_c(s):s,r=r.useState()[0],(nt!==null?nt.memoizedState:null)!==r&&(Oe.flags|=1024),s}function gp(){var r=Fd!==0;return Fd=0,r}function yp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function vp(r){if(Bd){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bd=!1}ps=0,kt=nt=Oe=null,Fo=!1,wc=Fd=0,zo=null}function An(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Oe.memoizedState=kt=r:kt=kt.next=r,kt}function Mt(){if(nt===null){var r=Oe.alternate;r=r!==null?r.memoizedState:null}else r=nt.next;var s=kt===null?Oe.memoizedState:kt.next;if(s!==null)kt=s,nt=r;else{if(r===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));nt=r,r={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},kt===null?Oe.memoizedState=kt=r:kt=kt.next=r}return kt}function xp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _c(r){var s=wc;return wc+=1,zo===null&&(zo=[]),r=nb(zo,r,s),s=Oe,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?qb:$b),r}function zd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return _c(r);if(r.$$typeof===F)return cn(r)}throw Error(i(438,String(r)))}function bp(r){var s=null,o=Oe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=xp(),Oe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=M;return s.index++,o}function Ir(r,s){return typeof s=="function"?s(r):s}function Hd(r){var s=Mt();return wp(s,nt,r)}function wp(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var p=r.baseQueue,v=u.pending;if(v!==null){if(p!==null){var T=p.next;p.next=v.next,v.next=T}s.baseQueue=p=v,u.pending=null}if(v=r.baseState,p===null)r.memoizedState=v;else{s=p.next;var N=T=null,U=null,Y=s,ie=!1;do{var oe=Y.lane&-536870913;if(oe!==Y.lane?($e&oe)===oe:(ps&oe)===oe){var Q=Y.revertLane;if(Q===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),oe===Lo&&(ie=!0);else if((ps&Q)===Q){Y=Y.next,Q===Lo&&(ie=!0);continue}else oe={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(N=U=oe,T=v):U=U.next=oe,Oe.lanes|=Q,_s|=Q;oe=Y.action,Pa&&o(v,oe),v=Y.hasEagerState?Y.eagerState:o(v,oe)}else Q={lane:oe,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(N=U=Q,T=v):U=U.next=Q,Oe.lanes|=oe,_s|=oe;Y=Y.next}while(Y!==null&&Y!==s);if(U===null?T=v:U.next=N,!Pn(v,r.memoizedState)&&(Kt=!0,ie&&(o=Uo,o!==null)))throw o;r.memoizedState=v,r.baseState=T,r.baseQueue=U,u.lastRenderedState=v}return p===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function _p(r){var s=Mt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,p=o.pending,v=s.memoizedState;if(p!==null){o.pending=null;var T=p=p.next;do v=r(v,T.action),T=T.next;while(T!==p);Pn(v,s.memoizedState)||(Kt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),o.lastRenderedState=v}return[v,u]}function ub(r,s,o){var u=Oe,p=Mt(),v=We;if(v){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Pn((nt||p).memoizedState,o);T&&(p.memoizedState=o,Kt=!0),p=p.queue;var N=fb.bind(null,u,p,r);if(Ec(2048,8,N,[r]),p.getSnapshot!==s||T||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,Ho(9,qd(),hb.bind(null,u,p,o,s),null),at===null)throw Error(i(349));v||(ps&124)!==0||db(u,s,o)}return o}function db(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Oe.updateQueue,s===null?(s=xp(),Oe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function hb(r,s,o,u){s.value=o,s.getSnapshot=u,mb(s)&&pb(r)}function fb(r,s,o){return o(function(){mb(s)&&pb(r)})}function mb(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Pn(r,o)}catch{return!0}}function pb(r){var s=Mo(r,2);s!==null&&Fn(s,r,2)}function Ep(r){var s=An();if(typeof r=="function"){var o=r;if(r=o(),Pa){kn(!0);try{o()}finally{kn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:r},s}function gb(r,s,o,u){return r.baseState=o,wp(r,nt,typeof u=="function"?u:Ir)}function lj(r,s,o,u,p){if(Gd(r))throw Error(i(485));if(r=s.action,r!==null){var v={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};X.T!==null?o(!0):v.isTransition=!1,u(v),o=s.pending,o===null?(v.next=s.pending=v,yb(s,v)):(v.next=o.next,s.pending=o.next=v)}}function yb(r,s){var o=s.action,u=s.payload,p=r.state;if(s.isTransition){var v=X.T,T={};X.T=T;try{var N=o(p,u),U=X.S;U!==null&&U(T,N),vb(r,s,N)}catch(Y){Tp(r,s,Y)}finally{X.T=v}}else try{v=o(p,u),vb(r,s,v)}catch(Y){Tp(r,s,Y)}}function vb(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){xb(r,s,u)},function(u){return Tp(r,s,u)}):xb(r,s,o)}function xb(r,s,o){s.status="fulfilled",s.value=o,bb(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,yb(r,o)))}function Tp(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,bb(s),s=s.next;while(s!==u)}r.action=null}function bb(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function wb(r,s){return s}function _b(r,s){if(We){var o=at.formState;if(o!==null){e:{var u=Oe;if(We){if(bt){t:{for(var p=bt,v=Gi;p.nodeType!==8;){if(!v){p=null;break t}if(p=Ei(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){bt=Ei(p.nextSibling),u=p.data==="F!";break e}}Ia(u)}u=!1}u&&(s=o[0])}}return o=An(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wb,lastRenderedState:s},o.queue=u,o=Fb.bind(null,Oe,u),u.dispatch=o,u=Ep(!1),v=Rp.bind(null,Oe,!1,u.queue),u=An(),p={state:s,dispatch:null,action:r,pending:null},u.queue=p,o=lj.bind(null,Oe,p,v,o),p.dispatch=o,u.memoizedState=r,[s,o,!1]}function Eb(r){var s=Mt();return Tb(s,nt,r)}function Tb(r,s,o){if(s=wp(r,s,wb)[0],r=Hd(Ir)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=_c(s)}catch(T){throw T===gc?Vd:T}else u=s;s=Mt();var p=s.queue,v=p.dispatch;return o!==s.memoizedState&&(Oe.flags|=2048,Ho(9,qd(),cj.bind(null,p,o),null)),[u,v,r]}function cj(r,s){r.action=s}function Sb(r){var s=Mt(),o=nt;if(o!==null)return Tb(s,o,r);Mt(),s=s.memoizedState,o=Mt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Ho(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=xp(),Oe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function qd(){return{destroy:void 0,resource:void 0}}function Ab(){return Mt().memoizedState}function $d(r,s,o,u){var p=An();u=u===void 0?null:u,Oe.flags|=r,p.memoizedState=Ho(1|s,qd(),o,u)}function Ec(r,s,o,u){var p=Mt();u=u===void 0?null:u;var v=p.memoizedState.inst;nt!==null&&u!==null&&mp(u,nt.memoizedState.deps)?p.memoizedState=Ho(s,v,o,u):(Oe.flags|=r,p.memoizedState=Ho(1|s,v,o,u))}function Nb(r,s){$d(8390656,8,r,s)}function Cb(r,s){Ec(2048,8,r,s)}function Rb(r,s){return Ec(4,2,r,s)}function jb(r,s){return Ec(4,4,r,s)}function Ib(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Db(r,s,o){o=o!=null?o.concat([r]):null,Ec(4,4,Ib.bind(null,s,r),o)}function Sp(){}function kb(r,s){var o=Mt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&mp(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function Mb(r,s){var o=Mt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&mp(s,u[1]))return u[0];if(u=r(),Pa){kn(!0);try{r()}finally{kn(!1)}}return o.memoizedState=[u,s],u}function Ap(r,s,o){return o===void 0||(ps&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Vw(),Oe.lanes|=r,_s|=r,o)}function Pb(r,s,o,u){return Pn(o,s)?o:Bo.current!==null?(r=Ap(r,o,u),Pn(r,s)||(Kt=!0),r):(ps&42)===0?(Kt=!0,r.memoizedState=o):(r=Vw(),Oe.lanes|=r,_s|=r,s)}function Ob(r,s,o,u,p){var v=q.p;q.p=v!==0&&8>v?v:8;var T=X.T,N={};X.T=N,Rp(r,!1,s,o);try{var U=p(),Y=X.S;if(Y!==null&&Y(N,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ie=sj(U,u);Tc(r,s,ie,Bn(r))}else Tc(r,s,u,Bn(r))}catch(oe){Tc(r,s,{then:function(){},status:"rejected",reason:oe},Bn())}finally{q.p=v,X.T=T}}function uj(){}function Np(r,s,o,u){if(r.tag!==5)throw Error(i(476));var p=Vb(r).queue;Ob(r,p,s,ne,o===null?uj:function(){return Lb(r),o(u)})}function Vb(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:ne},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Lb(r){var s=Vb(r).next.queue;Tc(r,s,{},Bn())}function Cp(){return cn(zc)}function Ub(){return Mt().memoizedState}function Bb(){return Mt().memoizedState}function dj(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Bn();r=fs(o);var u=ms(s,r,o);u!==null&&(Fn(u,s,o),vc(u,s,o)),s={cache:rp()},r.payload=s;return}s=s.return}}function hj(r,s,o){var u=Bn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Gd(r)?zb(s,o):(o=Ym(r,s,o,u),o!==null&&(Fn(o,r,u),Hb(o,s,u)))}function Fb(r,s,o){var u=Bn();Tc(r,s,o,u)}function Tc(r,s,o,u){var p={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gd(r))zb(s,p);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var T=s.lastRenderedState,N=v(T,o);if(p.hasEagerState=!0,p.eagerState=N,Pn(N,T))return Rd(r,s,p,0),at===null&&Cd(),!1}catch{}finally{}if(o=Ym(r,s,p,u),o!==null)return Fn(o,r,u),Hb(o,s,u),!0}return!1}function Rp(r,s,o,u){if(u={lane:2,revertLane:og(),action:u,hasEagerState:!1,eagerState:null,next:null},Gd(r)){if(s)throw Error(i(479))}else s=Ym(r,o,u,2),s!==null&&Fn(s,r,2)}function Gd(r){var s=r.alternate;return r===Oe||s!==null&&s===Oe}function zb(r,s){Fo=Bd=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Hb(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Gl(r,o)}}var Kd={readContext:cn,use:zd,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},qb={readContext:cn,use:zd,useCallback:function(r,s){return An().memoizedState=[r,s===void 0?null:s],r},useContext:cn,useEffect:Nb,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,$d(4194308,4,Ib.bind(null,s,r),o)},useLayoutEffect:function(r,s){return $d(4194308,4,r,s)},useInsertionEffect:function(r,s){$d(4,2,r,s)},useMemo:function(r,s){var o=An();s=s===void 0?null:s;var u=r();if(Pa){kn(!0);try{r()}finally{kn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=An();if(o!==void 0){var p=o(s);if(Pa){kn(!0);try{o(s)}finally{kn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},u.queue=r,r=r.dispatch=hj.bind(null,Oe,r),[u.memoizedState,r]},useRef:function(r){var s=An();return r={current:r},s.memoizedState=r},useState:function(r){r=Ep(r);var s=r.queue,o=Fb.bind(null,Oe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Sp,useDeferredValue:function(r,s){var o=An();return Ap(o,r,s)},useTransition:function(){var r=Ep(!1);return r=Ob.bind(null,Oe,r.queue,!0,!1),An().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Oe,p=An();if(We){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),at===null)throw Error(i(349));($e&124)!==0||db(u,s,o)}p.memoizedState=o;var v={value:o,getSnapshot:s};return p.queue=v,Nb(fb.bind(null,u,v,r),[r]),u.flags|=2048,Ho(9,qd(),hb.bind(null,u,v,o,s),null),o},useId:function(){var r=An(),s=at.identifierPrefix;if(We){var o=Cr,u=Nr;o=(u&~(1<<32-ln(u)-1)).toString(32)+o,s=""+s+"R"+o,o=Fd++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=aj++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Cp,useFormState:_b,useActionState:_b,useOptimistic:function(r){var s=An();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Rp.bind(null,Oe,!0,o),o.dispatch=s,[r,s]},useMemoCache:bp,useCacheRefresh:function(){return An().memoizedState=dj.bind(null,Oe)}},$b={readContext:cn,use:zd,useCallback:kb,useContext:cn,useEffect:Cb,useImperativeHandle:Db,useInsertionEffect:Rb,useLayoutEffect:jb,useMemo:Mb,useReducer:Hd,useRef:Ab,useState:function(){return Hd(Ir)},useDebugValue:Sp,useDeferredValue:function(r,s){var o=Mt();return Pb(o,nt.memoizedState,r,s)},useTransition:function(){var r=Hd(Ir)[0],s=Mt().memoizedState;return[typeof r=="boolean"?r:_c(r),s]},useSyncExternalStore:ub,useId:Ub,useHostTransitionStatus:Cp,useFormState:Eb,useActionState:Eb,useOptimistic:function(r,s){var o=Mt();return gb(o,nt,r,s)},useMemoCache:bp,useCacheRefresh:Bb},fj={readContext:cn,use:zd,useCallback:kb,useContext:cn,useEffect:Cb,useImperativeHandle:Db,useInsertionEffect:Rb,useLayoutEffect:jb,useMemo:Mb,useReducer:_p,useRef:Ab,useState:function(){return _p(Ir)},useDebugValue:Sp,useDeferredValue:function(r,s){var o=Mt();return nt===null?Ap(o,r,s):Pb(o,nt.memoizedState,r,s)},useTransition:function(){var r=_p(Ir)[0],s=Mt().memoizedState;return[typeof r=="boolean"?r:_c(r),s]},useSyncExternalStore:ub,useId:Ub,useHostTransitionStatus:Cp,useFormState:Sb,useActionState:Sb,useOptimistic:function(r,s){var o=Mt();return nt!==null?gb(o,nt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:bp,useCacheRefresh:Bb},qo=null,Sc=0;function Yd(r){var s=Sc;return Sc+=1,qo===null&&(qo=[]),nb(qo,r,s)}function Ac(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Wd(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Gb(r){var s=r._init;return s(r._payload)}function Kb(r){function s($,z){if(r){var K=$.deletions;K===null?($.deletions=[z],$.flags|=16):K.push(z)}}function o($,z){if(!r)return null;for(;z!==null;)s($,z),z=z.sibling;return null}function u($){for(var z=new Map;$!==null;)$.key!==null?z.set($.key,$):z.set($.index,$),$=$.sibling;return z}function p($,z){return $=Ar($,z),$.index=0,$.sibling=null,$}function v($,z,K){return $.index=K,r?(K=$.alternate,K!==null?(K=K.index,K<z?($.flags|=67108866,z):K):($.flags|=67108866,z)):($.flags|=1048576,z)}function T($){return r&&$.alternate===null&&($.flags|=67108866),$}function N($,z,K,se){return z===null||z.tag!==6?(z=Qm(K,$.mode,se),z.return=$,z):(z=p(z,K),z.return=$,z)}function U($,z,K,se){var ve=K.type;return ve===A?ie($,z,K.props.children,se,K.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===C&&Gb(ve)===z.type)?(z=p(z,K.props),Ac(z,K),z.return=$,z):(z=Id(K.type,K.key,K.props,null,$.mode,se),Ac(z,K),z.return=$,z)}function Y($,z,K,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=Xm(K,$.mode,se),z.return=$,z):(z=p(z,K.children||[]),z.return=$,z)}function ie($,z,K,se,ve){return z===null||z.tag!==7?(z=Na(K,$.mode,se,ve),z.return=$,z):(z=p(z,K),z.return=$,z)}function oe($,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Qm(""+z,$.mode,K),z.return=$,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return K=Id(z.type,z.key,z.props,null,$.mode,K),Ac(K,z),K.return=$,K;case S:return z=Xm(z,$.mode,K),z.return=$,z;case C:var se=z._init;return z=se(z._payload),oe($,z,K)}if(xe(z)||H(z))return z=Na(z,$.mode,K,null),z.return=$,z;if(typeof z.then=="function")return oe($,Yd(z),K);if(z.$$typeof===F)return oe($,Pd($,z),K);Wd($,z)}return null}function Q($,z,K,se){var ve=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ve!==null?null:N($,z,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===ve?U($,z,K,se):null;case S:return K.key===ve?Y($,z,K,se):null;case C:return ve=K._init,K=ve(K._payload),Q($,z,K,se)}if(xe(K)||H(K))return ve!==null?null:ie($,z,K,se,null);if(typeof K.then=="function")return Q($,z,Yd(K),se);if(K.$$typeof===F)return Q($,z,Pd($,K),se);Wd($,K)}return null}function Z($,z,K,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return $=$.get(K)||null,N(z,$,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case w:return $=$.get(se.key===null?K:se.key)||null,U(z,$,se,ve);case S:return $=$.get(se.key===null?K:se.key)||null,Y(z,$,se,ve);case C:var Le=se._init;return se=Le(se._payload),Z($,z,K,se,ve)}if(xe(se)||H(se))return $=$.get(K)||null,ie(z,$,se,ve,null);if(typeof se.then=="function")return Z($,z,K,Yd(se),ve);if(se.$$typeof===F)return Z($,z,K,Pd(z,se),ve);Wd(z,se)}return null}function je($,z,K,se){for(var ve=null,Le=null,we=z,Ne=z=0,Wt=null;we!==null&&Ne<K.length;Ne++){we.index>Ne?(Wt=we,we=null):Wt=we.sibling;var Ye=Q($,we,K[Ne],se);if(Ye===null){we===null&&(we=Wt);break}r&&we&&Ye.alternate===null&&s($,we),z=v(Ye,z,Ne),Le===null?ve=Ye:Le.sibling=Ye,Le=Ye,we=Wt}if(Ne===K.length)return o($,we),We&&Ra($,Ne),ve;if(we===null){for(;Ne<K.length;Ne++)we=oe($,K[Ne],se),we!==null&&(z=v(we,z,Ne),Le===null?ve=we:Le.sibling=we,Le=we);return We&&Ra($,Ne),ve}for(we=u(we);Ne<K.length;Ne++)Wt=Z(we,$,Ne,K[Ne],se),Wt!==null&&(r&&Wt.alternate!==null&&we.delete(Wt.key===null?Ne:Wt.key),z=v(Wt,z,Ne),Le===null?ve=Wt:Le.sibling=Wt,Le=Wt);return r&&we.forEach(function(Is){return s($,Is)}),We&&Ra($,Ne),ve}function Te($,z,K,se){if(K==null)throw Error(i(151));for(var ve=null,Le=null,we=z,Ne=z=0,Wt=null,Ye=K.next();we!==null&&!Ye.done;Ne++,Ye=K.next()){we.index>Ne?(Wt=we,we=null):Wt=we.sibling;var Is=Q($,we,Ye.value,se);if(Is===null){we===null&&(we=Wt);break}r&&we&&Is.alternate===null&&s($,we),z=v(Is,z,Ne),Le===null?ve=Is:Le.sibling=Is,Le=Is,we=Wt}if(Ye.done)return o($,we),We&&Ra($,Ne),ve;if(we===null){for(;!Ye.done;Ne++,Ye=K.next())Ye=oe($,Ye.value,se),Ye!==null&&(z=v(Ye,z,Ne),Le===null?ve=Ye:Le.sibling=Ye,Le=Ye);return We&&Ra($,Ne),ve}for(we=u(we);!Ye.done;Ne++,Ye=K.next())Ye=Z(we,$,Ne,Ye.value,se),Ye!==null&&(r&&Ye.alternate!==null&&we.delete(Ye.key===null?Ne:Ye.key),z=v(Ye,z,Ne),Le===null?ve=Ye:Le.sibling=Ye,Le=Ye);return r&&we.forEach(function(mI){return s($,mI)}),We&&Ra($,Ne),ve}function rt($,z,K,se){if(typeof K=="object"&&K!==null&&K.type===A&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var ve=K.key;z!==null;){if(z.key===ve){if(ve=K.type,ve===A){if(z.tag===7){o($,z.sibling),se=p(z,K.props.children),se.return=$,$=se;break e}}else if(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===C&&Gb(ve)===z.type){o($,z.sibling),se=p(z,K.props),Ac(se,K),se.return=$,$=se;break e}o($,z);break}else s($,z);z=z.sibling}K.type===A?(se=Na(K.props.children,$.mode,se,K.key),se.return=$,$=se):(se=Id(K.type,K.key,K.props,null,$.mode,se),Ac(se,K),se.return=$,$=se)}return T($);case S:e:{for(ve=K.key;z!==null;){if(z.key===ve)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){o($,z.sibling),se=p(z,K.children||[]),se.return=$,$=se;break e}else{o($,z);break}else s($,z);z=z.sibling}se=Xm(K,$.mode,se),se.return=$,$=se}return T($);case C:return ve=K._init,K=ve(K._payload),rt($,z,K,se)}if(xe(K))return je($,z,K,se);if(H(K)){if(ve=H(K),typeof ve!="function")throw Error(i(150));return K=ve.call(K),Te($,z,K,se)}if(typeof K.then=="function")return rt($,z,Yd(K),se);if(K.$$typeof===F)return rt($,z,Pd($,K),se);Wd($,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(o($,z.sibling),se=p(z,K),se.return=$,$=se):(o($,z),se=Qm(K,$.mode,se),se.return=$,$=se),T($)):o($,z)}return function($,z,K,se){try{Sc=0;var ve=rt($,z,K,se);return qo=null,ve}catch(we){if(we===gc||we===Vd)throw we;var Le=On(29,we,null,$.mode);return Le.lanes=se,Le.return=$,Le}finally{}}}var $o=Kb(!0),Yb=Kb(!1),ri=ee(null),Ki=null;function gs(r){var s=r.alternate;ae(Ft,Ft.current&1),ae(ri,r),Ki===null&&(s===null||Bo.current!==null||s.memoizedState!==null)&&(Ki=r)}function Wb(r){if(r.tag===22){if(ae(Ft,Ft.current),ae(ri,r),Ki===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Ki=r)}}else ys()}function ys(){ae(Ft,Ft.current),ae(ri,ri.current)}function Dr(r){ue(ri),Ki===r&&(Ki=null),ue(Ft)}var Ft=ee(0);function Qd(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||xg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function jp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Ip={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Bn(),p=fs(u);p.payload=s,o!=null&&(p.callback=o),s=ms(r,p,u),s!==null&&(Fn(s,r,u),vc(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Bn(),p=fs(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=ms(r,p,u),s!==null&&(Fn(s,r,u),vc(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Bn(),u=fs(o);u.tag=2,s!=null&&(u.callback=s),s=ms(r,u,o),s!==null&&(Fn(s,r,o),vc(s,r,o))}};function Qb(r,s,o,u,p,v,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,v,T):s.prototype&&s.prototype.isPureReactComponent?!lc(o,u)||!lc(p,v):!0}function Xb(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Ip.enqueueReplaceState(s,s.state,null)}function Oa(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}var Xd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Zb(r){Xd(r)}function Jb(r){console.error(r)}function ew(r){Xd(r)}function Zd(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function tw(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Dp(r,s,o){return o=fs(o),o.tag=3,o.payload={element:null},o.callback=function(){Zd(r,s)},o}function nw(r){return r=fs(r),r.tag=3,r}function iw(r,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;r.payload=function(){return p(v)},r.callback=function(){tw(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){tw(s,o,u),typeof p!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function mj(r,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&fc(s,o,p,!0),o=ri.current,o!==null){switch(o.tag){case 13:return Ki===null?ng():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===op?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),rg(r,u,p)),!1;case 22:return o.flags|=65536,u===op?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),rg(r,u,p)),!1}throw Error(i(435,o.tag))}return rg(r,u,p),ng(),!1}if(We)return s=ri.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==ep&&(r=Error(i(422),{cause:u}),hc(ei(r,o)))):(u!==ep&&(s=Error(i(423),{cause:u}),hc(ei(s,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,u=ei(u,o),p=Dp(r.stateNode,u,p),up(r,p),wt!==4&&(wt=2)),!1;var v=Error(i(520),{cause:u});if(v=ei(v,o),kc===null?kc=[v]:kc.push(v),wt!==4&&(wt=2),s===null)return!0;u=ei(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=Dp(o.stateNode,u,r),up(o,r),!1;case 1:if(s=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Es===null||!Es.has(v))))return o.flags|=65536,p&=-p,o.lanes|=p,p=nw(p),iw(p,r,o,u),up(o,p),!1}o=o.return}while(o!==null);return!1}var rw=Error(i(461)),Kt=!1;function Jt(r,s,o,u){s.child=r===null?Yb(s,null,o,u):$o(s,r.child,o,u)}function sw(r,s,o,u,p){o=o.render;var v=s.ref;if("ref"in u){var T={};for(var N in u)N!=="ref"&&(T[N]=u[N])}else T=u;return ka(s),u=pp(r,s,o,T,v,p),N=gp(),r!==null&&!Kt?(yp(r,s,p),kr(r,s,p)):(We&&N&&Zm(s),s.flags|=1,Jt(r,s,u,p),s.child)}function aw(r,s,o,u,p){if(r===null){var v=o.type;return typeof v=="function"&&!Wm(v)&&v.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=v,ow(r,s,v,u,p)):(r=Id(o.type,null,u,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,!Bp(r,p)){var T=v.memoizedProps;if(o=o.compare,o=o!==null?o:lc,o(T,u)&&r.ref===s.ref)return kr(r,s,p)}return s.flags|=1,r=Ar(v,u),r.ref=s.ref,r.return=s,s.child=r}function ow(r,s,o,u,p){if(r!==null){var v=r.memoizedProps;if(lc(v,u)&&r.ref===s.ref)if(Kt=!1,s.pendingProps=u=v,Bp(r,p))(r.flags&131072)!==0&&(Kt=!0);else return s.lanes=r.lanes,kr(r,s,p)}return kp(r,s,o,u,p)}function lw(r,s,o){var u=s.pendingProps,p=u.children,v=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=v!==null?v.baseLanes|o:o,r!==null){for(p=s.child=r.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;s.childLanes=v&~u}else s.childLanes=0,s.child=null;return cw(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Od(s,v!==null?v.cachePool:null),v!==null?ob(s,v):hp(),Wb(s);else return s.lanes=s.childLanes=536870912,cw(r,s,v!==null?v.baseLanes|o:o,o)}else v!==null?(Od(s,v.cachePool),ob(s,v),ys(),s.memoizedState=null):(r!==null&&Od(s,null),hp(),ys());return Jt(r,s,p,o),s.child}function cw(r,s,o,u){var p=ap();return p=p===null?null:{parent:Bt._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},r!==null&&Od(s,null),hp(),Wb(s),r!==null&&fc(r,s,u,!0),null}function Jd(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function kp(r,s,o,u,p){return ka(s),o=pp(r,s,o,u,void 0,p),u=gp(),r!==null&&!Kt?(yp(r,s,p),kr(r,s,p)):(We&&u&&Zm(s),s.flags|=1,Jt(r,s,o,p),s.child)}function uw(r,s,o,u,p,v){return ka(s),s.updateQueue=null,o=cb(s,u,o,p),lb(r),u=gp(),r!==null&&!Kt?(yp(r,s,v),kr(r,s,v)):(We&&u&&Zm(s),s.flags|=1,Jt(r,s,o,v),s.child)}function dw(r,s,o,u,p){if(ka(s),s.stateNode===null){var v=Po,T=o.contextType;typeof T=="object"&&T!==null&&(v=cn(T)),v=new o(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ip,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},lp(s),T=o.contextType,v.context=typeof T=="object"&&T!==null?cn(T):Po,v.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(jp(s,o,T,u),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&Ip.enqueueReplaceState(v,v.state,null),bc(s,u,v,p),xc(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){v=s.stateNode;var N=s.memoizedProps,U=Oa(o,N);v.props=U;var Y=v.context,ie=o.contextType;T=Po,typeof ie=="object"&&ie!==null&&(T=cn(ie));var oe=o.getDerivedStateFromProps;ie=typeof oe=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,ie||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||Y!==T)&&Xb(s,v,u,T),hs=!1;var Q=s.memoizedState;v.state=Q,bc(s,u,v,p),xc(),Y=s.memoizedState,N||Q!==Y||hs?(typeof oe=="function"&&(jp(s,o,oe,u),Y=s.memoizedState),(U=hs||Qb(s,o,U,u,Q,Y,T))?(ie||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),v.props=u,v.state=Y,v.context=T,u=U):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,cp(r,s),T=s.memoizedProps,ie=Oa(o,T),v.props=ie,oe=s.pendingProps,Q=v.context,Y=o.contextType,U=Po,typeof Y=="object"&&Y!==null&&(U=cn(Y)),N=o.getDerivedStateFromProps,(Y=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==oe||Q!==U)&&Xb(s,v,u,U),hs=!1,Q=s.memoizedState,v.state=Q,bc(s,u,v,p),xc();var Z=s.memoizedState;T!==oe||Q!==Z||hs||r!==null&&r.dependencies!==null&&Md(r.dependencies)?(typeof N=="function"&&(jp(s,o,N,u),Z=s.memoizedState),(ie=hs||Qb(s,o,ie,u,Q,Z,U)||r!==null&&r.dependencies!==null&&Md(r.dependencies))?(Y||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,Z,U),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,Z,U)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),v.props=u,v.state=Z,v.context=U,u=ie):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),u=!1)}return v=u,Jd(r,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,r!==null&&u?(s.child=$o(s,r.child,null,p),s.child=$o(s,null,o,p)):Jt(r,s,o,p),s.memoizedState=v.state,r=s.child):r=kr(r,s,p),r}function hw(r,s,o,u){return dc(),s.flags|=256,Jt(r,s,o,u),s.child}var Mp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pp(r){return{baseLanes:r,cachePool:Jx()}}function Op(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=si),r}function fw(r,s,o){var u=s.pendingProps,p=!1,v=(s.flags&128)!==0,T;if((T=v)||(T=r!==null&&r.memoizedState===null?!1:(Ft.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(We){if(p?gs(s):ys(),We){var N=bt,U;if(U=N){e:{for(U=N,N=Gi;U.nodeType!==8;){if(!N){N=null;break e}if(U=Ei(U.nextSibling),U===null){N=null;break e}}N=U}N!==null?(s.memoizedState={dehydrated:N,treeContext:Ca!==null?{id:Nr,overflow:Cr}:null,retryLane:536870912,hydrationErrors:null},U=On(18,null,null,0),U.stateNode=N,U.return=s,s.child=U,bn=s,bt=null,U=!0):U=!1}U||Ia(s)}if(N=s.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return xg(N)?s.lanes=32:s.lanes=536870912,null;Dr(s)}return N=u.children,u=u.fallback,p?(ys(),p=s.mode,N=eh({mode:"hidden",children:N},p),u=Na(u,p,o,null),N.return=s,u.return=s,N.sibling=u,s.child=N,p=s.child,p.memoizedState=Pp(o),p.childLanes=Op(r,T,o),s.memoizedState=Mp,u):(gs(s),Vp(s,N))}if(U=r.memoizedState,U!==null&&(N=U.dehydrated,N!==null)){if(v)s.flags&256?(gs(s),s.flags&=-257,s=Lp(r,s,o)):s.memoizedState!==null?(ys(),s.child=r.child,s.flags|=128,s=null):(ys(),p=u.fallback,N=s.mode,u=eh({mode:"visible",children:u.children},N),p=Na(p,N,o,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,$o(s,r.child,null,o),u=s.child,u.memoizedState=Pp(o),u.childLanes=Op(r,T,o),s.memoizedState=Mp,s=p);else if(gs(s),xg(N)){if(T=N.nextSibling&&N.nextSibling.dataset,T)var Y=T.dgst;T=Y,u=Error(i(419)),u.stack="",u.digest=T,hc({value:u,source:null,stack:null}),s=Lp(r,s,o)}else if(Kt||fc(r,s,o,!1),T=(o&r.childLanes)!==0,Kt||T){if(T=at,T!==null&&(u=o&-o,u=(u&42)!==0?1:rs(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==U.retryLane))throw U.retryLane=u,Mo(r,u),Fn(T,r,u),rw;N.data==="$?"||ng(),s=Lp(r,s,o)}else N.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=U.treeContext,bt=Ei(N.nextSibling),bn=s,We=!0,ja=null,Gi=!1,r!==null&&(ni[ii++]=Nr,ni[ii++]=Cr,ni[ii++]=Ca,Nr=r.id,Cr=r.overflow,Ca=s),s=Vp(s,u.children),s.flags|=4096);return s}return p?(ys(),p=u.fallback,N=s.mode,U=r.child,Y=U.sibling,u=Ar(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Y!==null?p=Ar(Y,p):(p=Na(p,N,o,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,N=r.child.memoizedState,N===null?N=Pp(o):(U=N.cachePool,U!==null?(Y=Bt._currentValue,U=U.parent!==Y?{parent:Y,pool:Y}:U):U=Jx(),N={baseLanes:N.baseLanes|o,cachePool:U}),p.memoizedState=N,p.childLanes=Op(r,T,o),s.memoizedState=Mp,u):(gs(s),o=r.child,r=o.sibling,o=Ar(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function Vp(r,s){return s=eh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function eh(r,s){return r=On(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Lp(r,s,o){return $o(s,r.child,null,o),r=Vp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function mw(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),np(r.return,s,o)}function Up(r,s,o,u,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=o,v.tailMode=p)}function pw(r,s,o){var u=s.pendingProps,p=u.revealOrder,v=u.tail;if(Jt(r,s,u.children,o),u=Ft.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&mw(r,o,s);else if(r.tag===19)mw(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ae(Ft,u),p){case"forwards":for(o=s.child,p=null;o!==null;)r=o.alternate,r!==null&&Qd(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),Up(s,!1,p,o,v);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Qd(r)===null){s.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}Up(s,!0,o,null,v);break;case"together":Up(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function kr(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),_s|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(fc(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ar(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ar(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Bp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Md(r)))}function pj(r,s,o){switch(s.tag){case 3:Ke(s,s.stateNode.containerInfo),ds(s,Bt,r.memoizedState.cache),dc();break;case 27:case 5:pi(s);break;case 4:Ke(s,s.stateNode.containerInfo);break;case 10:ds(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(gs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?fw(r,s,o):(gs(s),r=kr(r,s,o),r!==null?r.sibling:null);gs(s);break;case 19:var p=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(fc(r,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return pw(r,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ae(Ft,Ft.current),u)break;return null;case 22:case 23:return s.lanes=0,lw(r,s,o);case 24:ds(s,Bt,r.memoizedState.cache)}return kr(r,s,o)}function gw(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Kt=!0;else{if(!Bp(r,o)&&(s.flags&128)===0)return Kt=!1,pj(r,s,o);Kt=(r.flags&131072)!==0}else Kt=!1,We&&(s.flags&1048576)!==0&&Gx(s,kd,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,p=u._init;if(u=p(u._payload),s.type=u,typeof u=="function")Wm(u)?(r=Oa(u,r),s.tag=1,s=dw(null,s,u,r,o)):(s.tag=0,s=kp(null,s,u,r,o));else{if(u!=null){if(p=u.$$typeof,p===te){s.tag=11,s=sw(null,s,u,r,o);break e}else if(p===D){s.tag=14,s=aw(null,s,u,r,o);break e}}throw s=ye(u)||u,Error(i(306,s,""))}}return s;case 0:return kp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=Oa(u,s.pendingProps),dw(r,s,u,p,o);case 3:e:{if(Ke(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var v=s.memoizedState;p=v.element,cp(r,s),bc(s,u,null,o);var T=s.memoizedState;if(u=T.cache,ds(s,Bt,u),u!==v.cache&&ip(s,[Bt],o,!0),xc(),u=T.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=hw(r,s,u,o);break e}else if(u!==p){p=ei(Error(i(424)),s),hc(p),s=hw(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(bt=Ei(r.firstChild),bn=s,We=!0,ja=null,Gi=!0,o=Yb(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(dc(),u===p){s=kr(r,s,o);break e}Jt(r,s,u,o)}s=s.child}return s;case 26:return Jd(r,s),r===null?(o=b1(s.type,null,s.pendingProps,null))?s.memoizedState=o:We||(o=s.type,r=s.pendingProps,u=mh(Se.current).createElement(o),u[Vt]=s,u[It]=r,tn(u,o,r),St(u),s.stateNode=u):s.memoizedState=b1(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return pi(s),r===null&&We&&(u=s.stateNode=y1(s.type,s.pendingProps,Se.current),bn=s,Gi=!0,p=bt,As(s.type)?(bg=p,bt=Ei(u.firstChild)):bt=p),Jt(r,s,s.pendingProps.children,o),Jd(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&We&&((p=u=bt)&&(u=Hj(u,s.type,s.pendingProps,Gi),u!==null?(s.stateNode=u,bn=s,bt=Ei(u.firstChild),Gi=!1,p=!0):p=!1),p||Ia(s)),pi(s),p=s.type,v=s.pendingProps,T=r!==null?r.memoizedProps:null,u=v.children,gg(p,v)?u=null:T!==null&&gg(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=pp(r,s,oj,null,null,o),zc._currentValue=p),Jd(r,s),Jt(r,s,u,o),s.child;case 6:return r===null&&We&&((r=o=bt)&&(o=qj(o,s.pendingProps,Gi),o!==null?(s.stateNode=o,bn=s,bt=null,r=!0):r=!1),r||Ia(s)),null;case 13:return fw(r,s,o);case 4:return Ke(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=$o(s,null,u,o):Jt(r,s,u,o),s.child;case 11:return sw(r,s,s.type,s.pendingProps,o);case 7:return Jt(r,s,s.pendingProps,o),s.child;case 8:return Jt(r,s,s.pendingProps.children,o),s.child;case 12:return Jt(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ds(s,s.type,u.value),Jt(r,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,ka(s),p=cn(p),u=u(p),s.flags|=1,Jt(r,s,u,o),s.child;case 14:return aw(r,s,s.type,s.pendingProps,o);case 15:return ow(r,s,s.type,s.pendingProps,o);case 19:return pw(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=eh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ar(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return lw(r,s,o);case 24:return ka(s),u=cn(Bt),r===null?(p=ap(),p===null&&(p=at,v=rp(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=o),p=v),s.memoizedState={parent:u,cache:p},lp(s),ds(s,Bt,p)):((r.lanes&o)!==0&&(cp(r,s),bc(s,null,null,o),xc()),p=r.memoizedState,v=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ds(s,Bt,u)):(u=v.cache,ds(s,Bt,u),u!==p.cache&&ip(s,[Bt],o,!0))),Jt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Mr(r){r.flags|=4}function yw(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!S1(s)){if(s=ri.current,s!==null&&(($e&4194048)===$e?Ki!==null:($e&62914560)!==$e&&($e&536870912)===0||s!==Ki))throw yc=op,eb;r.flags|=8192}}function th(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?ql():536870912,r.lanes|=s,Wo|=s)}function Nc(r,s){if(!We)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function mt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function gj(r,s,o){var u=s.pendingProps;switch(Jm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return mt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),jr(Bt),Ht(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(uc(s)?Mr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wx())),mt(s),null;case 26:return o=s.memoizedState,r===null?(Mr(s),o!==null?(mt(s),yw(s,o)):(mt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Mr(s),mt(s),yw(s,o)):(mt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Mr(s),mt(s),s.flags&=-16777217),null;case 27:gi(s),o=Se.current;var p=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Mr(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return mt(s),null}r=be.current,uc(s)?Kx(s):(r=y1(p,u,o),s.stateNode=r,Mr(s))}return mt(s),null;case 5:if(gi(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Mr(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return mt(s),null}if(r=be.current,uc(s))Kx(s);else{switch(p=mh(Se.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?p.createElement(o,{is:u.is}):p.createElement(o)}}r[Vt]=s,r[It]=u;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=r;e:switch(tn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Mr(s)}}return mt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Mr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Se.current,uc(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,p=bn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}r[Vt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||u1(r.nodeValue,o)),r||Ia(s)}else r=mh(r).createTextNode(u),r[Vt]=s,s.stateNode=r}return mt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=uc(s),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Vt]=s}else dc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),p=!1}else p=Wx(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Dr(s),s):(Dr(s),null)}if(Dr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),th(s,s.updateQueue),mt(s),null;case 4:return Ht(),r===null&&dg(s.stateNode.containerInfo),mt(s),null;case 10:return jr(s.type),mt(s),null;case 19:if(ue(Ft),p=s.memoizedState,p===null)return mt(s),null;if(u=(s.flags&128)!==0,v=p.rendering,v===null)if(u)Nc(p,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(v=Qd(r),v!==null){for(s.flags|=128,Nc(p,!1),r=v.updateQueue,s.updateQueue=r,th(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)$x(o,r),o=o.sibling;return ae(Ft,Ft.current&1|2),s.child}r=r.sibling}p.tail!==null&&Ae()>rh&&(s.flags|=128,u=!0,Nc(p,!1),s.lanes=4194304)}else{if(!u)if(r=Qd(v),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,th(s,r),Nc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!We)return mt(s),null}else 2*Ae()-p.renderingStartTime>rh&&o!==536870912&&(s.flags|=128,u=!0,Nc(p,!1),s.lanes=4194304);p.isBackwards?(v.sibling=s.child,s.child=v):(r=p.last,r!==null?r.sibling=v:s.child=v,p.last=v)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Ae(),s.sibling=null,r=Ft.current,ae(Ft,u?r&1|2:r&1),s):(mt(s),null);case 22:case 23:return Dr(s),fp(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),o=s.updateQueue,o!==null&&th(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ue(Ma),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),jr(Bt),mt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function yj(r,s){switch(Jm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return jr(Bt),Ht(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return gi(s),null;case 13:if(Dr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));dc()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ue(Ft),null;case 4:return Ht(),null;case 10:return jr(s.type),null;case 22:case 23:return Dr(s),fp(),r!==null&&ue(Ma),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return jr(Bt),null;case 25:return null;default:return null}}function vw(r,s){switch(Jm(s),s.tag){case 3:jr(Bt),Ht();break;case 26:case 27:case 5:gi(s);break;case 4:Ht();break;case 13:Dr(s);break;case 19:ue(Ft);break;case 10:jr(s.type);break;case 22:case 23:Dr(s),fp(),r!==null&&ue(Ma);break;case 24:jr(Bt)}}function Cc(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&r)===r){u=void 0;var v=o.create,T=o.inst;u=v(),T.destroy=u}o=o.next}while(o!==p)}}catch(N){st(s,s.return,N)}}function vs(r,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&r)===r){var T=u.inst,N=T.destroy;if(N!==void 0){T.destroy=void 0,p=s;var U=o,Y=N;try{Y()}catch(ie){st(p,U,ie)}}}u=u.next}while(u!==v)}}catch(ie){st(s,s.return,ie)}}function xw(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{ab(s,o)}catch(u){st(r,r.return,u)}}}function bw(r,s,o){o.props=Oa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){st(r,s,u)}}function Rc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(p){st(r,s,p)}}function Yi(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){st(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){st(r,s,p)}else o.current=null}function ww(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){st(r,r.return,p)}}function Fp(r,s,o){try{var u=r.stateNode;Lj(u,r.type,o,s),u[It]=s}catch(p){st(r,r.return,p)}}function _w(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&As(r.type)||r.tag===4}function zp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_w(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&As(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=fh));else if(u!==4&&(u===27&&As(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Hp(r,s,o),r=r.sibling;r!==null;)Hp(r,s,o),r=r.sibling}function nh(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&As(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(nh(r,s,o),r=r.sibling;r!==null;)nh(r,s,o),r=r.sibling}function Ew(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);tn(s,u,o),s[Vt]=r,s[It]=o}catch(v){st(r,r.return,v)}}var Pr=!1,Nt=!1,qp=!1,Tw=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function vj(r,s){if(r=r.containerInfo,mg=bh,r=Px(r),zm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var T=0,N=-1,U=-1,Y=0,ie=0,oe=r,Q=null;t:for(;;){for(var Z;oe!==o||p!==0&&oe.nodeType!==3||(N=T+p),oe!==v||u!==0&&oe.nodeType!==3||(U=T+u),oe.nodeType===3&&(T+=oe.nodeValue.length),(Z=oe.firstChild)!==null;)Q=oe,oe=Z;for(;;){if(oe===r)break t;if(Q===o&&++Y===p&&(N=T),Q===v&&++ie===u&&(U=T),(Z=oe.nextSibling)!==null)break;oe=Q,Q=oe.parentNode}oe=Z}o=N===-1||U===-1?null:{start:N,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(pg={focusedElem:r,selectionRange:o},bh=!1,Yt=s;Yt!==null;)if(s=Yt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Yt=r;else for(;Yt!==null;){switch(s=Yt,v=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,o=s,p=v.memoizedProps,v=v.memoizedState,u=o.stateNode;try{var je=Oa(o.type,p,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(je,v),u.__reactInternalSnapshotBeforeUpdate=r}catch(Te){st(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)vg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":vg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Yt=r;break}Yt=s.return}}function Sw(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:xs(r,o),u&4&&Cc(5,o);break;case 1:if(xs(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){st(o,o.return,T)}else{var p=Oa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){st(o,o.return,T)}}u&64&&xw(o),u&512&&Rc(o,o.return);break;case 3:if(xs(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{ab(r,s)}catch(T){st(o,o.return,T)}}break;case 27:s===null&&u&4&&Ew(o);case 26:case 5:xs(r,o),s===null&&u&4&&ww(o),u&512&&Rc(o,o.return);break;case 12:xs(r,o);break;case 13:xs(r,o),u&4&&Cw(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=Nj.bind(null,o),$j(r,o))));break;case 22:if(u=o.memoizedState!==null||Pr,!u){s=s!==null&&s.memoizedState!==null||Nt,p=Pr;var v=Nt;Pr=u,(Nt=s)&&!v?bs(r,o,(o.subtreeFlags&8772)!==0):xs(r,o),Pr=p,Nt=v}break;case 30:break;default:xs(r,o)}}function Aw(r){var s=r.alternate;s!==null&&(r.alternate=null,Aw(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&os(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var dt=null,Nn=!1;function Or(r,s,o){for(o=o.child;o!==null;)Nw(r,s,o),o=o.sibling}function Nw(r,s,o){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(xt,o)}catch{}switch(o.tag){case 26:Nt||Yi(o,s),Or(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Nt||Yi(o,s);var u=dt,p=Nn;As(o.type)&&(dt=o.stateNode,Nn=!1),Or(r,s,o),Lc(o.stateNode),dt=u,Nn=p;break;case 5:Nt||Yi(o,s);case 6:if(u=dt,p=Nn,dt=null,Or(r,s,o),dt=u,Nn=p,dt!==null)if(Nn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(v){st(o,s,v)}else try{dt.removeChild(o.stateNode)}catch(v){st(o,s,v)}break;case 18:dt!==null&&(Nn?(r=dt,p1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Gc(r)):p1(dt,o.stateNode));break;case 4:u=dt,p=Nn,dt=o.stateNode.containerInfo,Nn=!0,Or(r,s,o),dt=u,Nn=p;break;case 0:case 11:case 14:case 15:Nt||vs(2,o,s),Nt||vs(4,o,s),Or(r,s,o);break;case 1:Nt||(Yi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&bw(o,s,u)),Or(r,s,o);break;case 21:Or(r,s,o);break;case 22:Nt=(u=Nt)||o.memoizedState!==null,Or(r,s,o),Nt=u;break;default:Or(r,s,o)}}function Cw(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Gc(r)}catch(o){st(s,s.return,o)}}function xj(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Tw),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Tw),s;default:throw Error(i(435,r.tag))}}function $p(r,s){var o=xj(r);s.forEach(function(u){var p=Cj.bind(null,r,u);o.has(u)||(o.add(u),u.then(p,p))})}function Vn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],v=r,T=s,N=T;e:for(;N!==null;){switch(N.tag){case 27:if(As(N.type)){dt=N.stateNode,Nn=!1;break e}break;case 5:dt=N.stateNode,Nn=!1;break e;case 3:case 4:dt=N.stateNode.containerInfo,Nn=!0;break e}N=N.return}if(dt===null)throw Error(i(160));Nw(v,T,p),dt=null,Nn=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Rw(s,r),s=s.sibling}var _i=null;function Rw(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Vn(s,r),Ln(r),u&4&&(vs(3,r,r.return),Cc(3,r),vs(5,r,r.return));break;case 1:Vn(s,r),Ln(r),u&512&&(Nt||o===null||Yi(o,o.return)),u&64&&Pr&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=_i;if(Vn(s,r),Ln(r),u&512&&(Nt||o===null||Yi(o,o.return)),u&4){var v=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[da]||v[Vt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),tn(v,u,o),v[Vt]=r,St(v),u=v;break e;case"link":var T=E1("link","href",p).get(u+(o.href||""));if(T){for(var N=0;N<T.length;N++)if(v=T[N],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(N,1);break t}}v=p.createElement(u),tn(v,u,o),p.head.appendChild(v);break;case"meta":if(T=E1("meta","content",p).get(u+(o.content||""))){for(N=0;N<T.length;N++)if(v=T[N],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(N,1);break t}}v=p.createElement(u),tn(v,u,o),p.head.appendChild(v);break;default:throw Error(i(468,u))}v[Vt]=r,St(v),u=v}r.stateNode=u}else T1(p,r.type,r.stateNode);else r.stateNode=_1(p,u,r.memoizedProps);else v!==u?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,u===null?T1(p,r.type,r.stateNode):_1(p,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Fp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Vn(s,r),Ln(r),u&512&&(Nt||o===null||Yi(o,o.return)),o!==null&&u&4&&Fp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Vn(s,r),Ln(r),u&512&&(Nt||o===null||Yi(o,o.return)),r.flags&32){p=r.stateNode;try{Qn(p,"")}catch(Z){st(r,r.return,Z)}}u&4&&r.stateNode!=null&&(p=r.memoizedProps,Fp(r,p,o!==null?o.memoizedProps:p)),u&1024&&(qp=!0);break;case 6:if(Vn(s,r),Ln(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Z){st(r,r.return,Z)}}break;case 3:if(yh=null,p=_i,_i=ph(s.containerInfo),Vn(s,r),_i=p,Ln(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Gc(s.containerInfo)}catch(Z){st(r,r.return,Z)}qp&&(qp=!1,jw(r));break;case 4:u=_i,_i=ph(r.stateNode.containerInfo),Vn(s,r),Ln(r),_i=u;break;case 12:Vn(s,r),Ln(r);break;case 13:Vn(s,r),Ln(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xp=Ae()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,$p(r,u)));break;case 22:p=r.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Y=Pr,ie=Nt;if(Pr=Y||p,Nt=ie||U,Vn(s,r),Nt=ie,Pr=Y,Ln(r),u&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||U||Pr||Nt||Va(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){U=o=s;try{if(v=U.stateNode,p)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{N=U.stateNode;var oe=U.memoizedProps.style,Q=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;N.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Z){st(U,U.return,Z)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(Z){st(U,U.return,Z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,$p(r,o))));break;case 19:Vn(s,r),Ln(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,$p(r,u)));break;case 30:break;case 21:break;default:Vn(s,r),Ln(r)}}function Ln(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(_w(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,v=zp(r);nh(r,v,p);break;case 5:var T=o.stateNode;o.flags&32&&(Qn(T,""),o.flags&=-33);var N=zp(r);nh(r,N,T);break;case 3:case 4:var U=o.stateNode.containerInfo,Y=zp(r);Hp(r,Y,U);break;default:throw Error(i(161))}}catch(ie){st(r,r.return,ie)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function jw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;jw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function xs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Sw(r,s.alternate,s),s=s.sibling}function Va(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:vs(4,s,s.return),Va(s);break;case 1:Yi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&bw(s,s.return,o),Va(s);break;case 27:Lc(s.stateNode);case 26:case 5:Yi(s,s.return),Va(s);break;case 22:s.memoizedState===null&&Va(s);break;case 30:Va(s);break;default:Va(s)}r=r.sibling}}function bs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=r,v=s,T=v.flags;switch(v.tag){case 0:case 11:case 15:bs(p,v,o),Cc(4,v);break;case 1:if(bs(p,v,o),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){st(u,u.return,Y)}if(u=v,p=u.updateQueue,p!==null){var N=u.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)sb(U[p],N)}catch(Y){st(u,u.return,Y)}}o&&T&64&&xw(v),Rc(v,v.return);break;case 27:Ew(v);case 26:case 5:bs(p,v,o),o&&u===null&&T&4&&ww(v),Rc(v,v.return);break;case 12:bs(p,v,o);break;case 13:bs(p,v,o),o&&T&4&&Cw(p,v);break;case 22:v.memoizedState===null&&bs(p,v,o),Rc(v,v.return);break;case 30:break;default:bs(p,v,o)}s=s.sibling}}function Gp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&mc(o))}function Kp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&mc(r))}function Wi(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Iw(r,s,o,u),s=s.sibling}function Iw(r,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Wi(r,s,o,u),p&2048&&Cc(9,s);break;case 1:Wi(r,s,o,u);break;case 3:Wi(r,s,o,u),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&mc(r)));break;case 12:if(p&2048){Wi(r,s,o,u),r=s.stateNode;try{var v=s.memoizedProps,T=v.id,N=v.onPostCommit;typeof N=="function"&&N(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){st(s,s.return,U)}}else Wi(r,s,o,u);break;case 13:Wi(r,s,o,u);break;case 23:break;case 22:v=s.stateNode,T=s.alternate,s.memoizedState!==null?v._visibility&2?Wi(r,s,o,u):jc(r,s):v._visibility&2?Wi(r,s,o,u):(v._visibility|=2,Go(r,s,o,u,(s.subtreeFlags&10256)!==0)),p&2048&&Gp(T,s);break;case 24:Wi(r,s,o,u),p&2048&&Kp(s.alternate,s);break;default:Wi(r,s,o,u)}}function Go(r,s,o,u,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=r,T=s,N=o,U=u,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Go(v,T,N,U,p),Cc(8,T);break;case 23:break;case 22:var ie=T.stateNode;T.memoizedState!==null?ie._visibility&2?Go(v,T,N,U,p):jc(v,T):(ie._visibility|=2,Go(v,T,N,U,p)),p&&Y&2048&&Gp(T.alternate,T);break;case 24:Go(v,T,N,U,p),p&&Y&2048&&Kp(T.alternate,T);break;default:Go(v,T,N,U,p)}s=s.sibling}}function jc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,p=u.flags;switch(u.tag){case 22:jc(o,u),p&2048&&Gp(u.alternate,u);break;case 24:jc(o,u),p&2048&&Kp(u.alternate,u);break;default:jc(o,u)}s=s.sibling}}var Ic=8192;function Ko(r){if(r.subtreeFlags&Ic)for(r=r.child;r!==null;)Dw(r),r=r.sibling}function Dw(r){switch(r.tag){case 26:Ko(r),r.flags&Ic&&r.memoizedState!==null&&rI(_i,r.memoizedState,r.memoizedProps);break;case 5:Ko(r);break;case 3:case 4:var s=_i;_i=ph(r.stateNode.containerInfo),Ko(r),_i=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ic,Ic=16777216,Ko(r),Ic=s):Ko(r));break;default:Ko(r)}}function kw(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Dc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,Pw(u,r)}kw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Mw(r),r=r.sibling}function Mw(r){switch(r.tag){case 0:case 11:case 15:Dc(r),r.flags&2048&&vs(9,r,r.return);break;case 3:Dc(r);break;case 12:Dc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,ih(r)):Dc(r);break;default:Dc(r)}}function ih(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,Pw(u,r)}kw(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:vs(8,s,s.return),ih(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,ih(s));break;default:ih(s)}r=r.sibling}}function Pw(r,s){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:vs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:mc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yt=u;else e:for(o=r;Yt!==null;){u=Yt;var p=u.sibling,v=u.return;if(Aw(u),u===o){Yt=null;break e}if(p!==null){p.return=v,Yt=p;break e}Yt=v}}}var bj={getCacheForType:function(r){var s=cn(Bt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},wj=typeof WeakMap=="function"?WeakMap:Map,Je=0,at=null,Ue=null,$e=0,et=0,Un=null,ws=!1,Yo=!1,Yp=!1,Vr=0,wt=0,_s=0,La=0,Wp=0,si=0,Wo=0,kc=null,Cn=null,Qp=!1,Xp=0,rh=1/0,sh=null,Es=null,en=0,Ts=null,Qo=null,Xo=0,Zp=0,Jp=null,Ow=null,Mc=0,eg=null;function Bn(){if((Je&2)!==0&&$e!==0)return $e&-$e;if(X.T!==null){var r=Lo;return r!==0?r:og()}return ss()}function Vw(){si===0&&(si=($e&536870912)===0||We?Hl():536870912);var r=ri.current;return r!==null&&(r.flags|=32),si}function Fn(r,s,o){(r===at&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(Zo(r,0),Ss(r,$e,si,!1)),pr(r,o),((Je&2)===0||r!==at)&&(r===at&&((Je&2)===0&&(La|=o),wt===4&&Ss(r,$e,si,!1)),Qi(r))}function Lw(r,s,o){if((Je&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||ua(r,s),p=u?Tj(r,s):ig(r,s,!0),v=u;do{if(p===0){Yo&&!u&&Ss(r,s,0,!1);break}else{if(o=r.current.alternate,v&&!_j(o)){p=ig(r,s,!1),v=!1;continue}if(p===2){if(v=s,r.errorRecoveryDisabledLanes&v)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var N=r;p=kc;var U=N.current.memoizedState.isDehydrated;if(U&&(Zo(N,T).flags|=256),T=ig(N,T,!1),T!==2){if(Yp&&!U){N.errorRecoveryDisabledLanes|=v,La|=v,p=4;break e}v=Cn,Cn=p,v!==null&&(Cn===null?Cn=v:Cn.push.apply(Cn,v))}p=T}if(v=!1,p!==2)continue}}if(p===1){Zo(r,0),Ss(r,s,0,!0);break}e:{switch(u=r,v=p,v){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ss(u,s,si,!ws);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=Xp+300-Ae(),10<p)){if(Ss(u,s,si,!ws),po(u,0,!0)!==0)break e;u.timeoutHandle=f1(Uw.bind(null,u,o,Cn,sh,Qp,s,si,La,Wo,ws,v,2,-0,0),p);break e}Uw(u,o,Cn,sh,Qp,s,si,La,Wo,ws,v,0,-0,0)}}break}while(!0);Qi(r)}function Uw(r,s,o,u,p,v,T,N,U,Y,ie,oe,Q,Z){if(r.timeoutHandle=-1,oe=s.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Fc={stylesheets:null,count:0,unsuspend:iI},Dw(s),oe=sI(),oe!==null)){r.cancelPendingCommit=oe(Gw.bind(null,r,s,v,o,u,p,T,N,U,ie,1,Q,Z)),Ss(r,v,T,!Y);return}Gw(r,s,v,o,u,p,T,N,U)}function _j(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],v=p.getSnapshot;p=p.value;try{if(!Pn(v(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ss(r,s,o,u){s&=~Wp,s&=~La,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var p=s;0<p;){var v=31-ln(p),T=1<<v;u[v]=-1,p&=~T}o!==0&&Pi(r,o,s)}function ah(){return(Je&6)===0?(Pc(0),!1):!0}function tg(){if(Ue!==null){if(et===0)var r=Ue.return;else r=Ue,Rr=Da=null,vp(r),qo=null,Sc=0,r=Ue;for(;r!==null;)vw(r.alternate,r),r=r.return;Ue=null}}function Zo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,Bj(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),tg(),at=r,Ue=o=Ar(r.current,null),$e=s,et=0,Un=null,ws=!1,Yo=ua(r,s),Yp=!1,Wo=si=Wp=La=_s=wt=0,Cn=kc=null,Qp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var p=31-ln(u),v=1<<p;s|=r[p],u&=~v}return Vr=s,Cd(),o}function Bw(r,s){Oe=null,X.H=Kd,s===gc||s===Vd?(s=ib(),et=3):s===eb?(s=ib(),et=4):et=s===rw?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Un=s,Ue===null&&(wt=1,Zd(r,ei(s,r.current)))}function Fw(){var r=X.H;return X.H=Kd,r===null?Kd:r}function zw(){var r=X.A;return X.A=bj,r}function ng(){wt=4,ws||($e&4194048)!==$e&&ri.current!==null||(Yo=!0),(_s&134217727)===0&&(La&134217727)===0||at===null||Ss(at,$e,si,!1)}function ig(r,s,o){var u=Je;Je|=2;var p=Fw(),v=zw();(at!==r||$e!==s)&&(sh=null,Zo(r,s)),s=!1;var T=wt;e:do try{if(et!==0&&Ue!==null){var N=Ue,U=Un;switch(et){case 8:tg(),T=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(s=!0);var Y=et;if(et=0,Un=null,Jo(r,N,U,Y),o&&Yo){T=0;break e}break;default:Y=et,et=0,Un=null,Jo(r,N,U,Y)}}Ej(),T=wt;break}catch(ie){Bw(r,ie)}while(!0);return s&&r.shellSuspendCounter++,Rr=Da=null,Je=u,X.H=p,X.A=v,Ue===null&&(at=null,$e=0,Cd()),T}function Ej(){for(;Ue!==null;)Hw(Ue)}function Tj(r,s){var o=Je;Je|=2;var u=Fw(),p=zw();at!==r||$e!==s?(sh=null,rh=Ae()+500,Zo(r,s)):Yo=ua(r,s);e:do try{if(et!==0&&Ue!==null){s=Ue;var v=Un;t:switch(et){case 1:et=0,Un=null,Jo(r,s,v,1);break;case 2:case 9:if(tb(v)){et=0,Un=null,qw(s);break}s=function(){et!==2&&et!==9||at!==r||(et=7),Qi(r)},v.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:tb(v)?(et=0,Un=null,qw(s)):(et=0,Un=null,Jo(r,s,v,7));break;case 5:var T=null;switch(Ue.tag){case 26:T=Ue.memoizedState;case 5:case 27:var N=Ue;if(!T||S1(T)){et=0,Un=null;var U=N.sibling;if(U!==null)Ue=U;else{var Y=N.return;Y!==null?(Ue=Y,oh(Y)):Ue=null}break t}}et=0,Un=null,Jo(r,s,v,5);break;case 6:et=0,Un=null,Jo(r,s,v,6);break;case 8:tg(),wt=6;break e;default:throw Error(i(462))}}Sj();break}catch(ie){Bw(r,ie)}while(!0);return Rr=Da=null,X.H=u,X.A=p,Je=o,Ue!==null?0:(at=null,$e=0,Cd(),wt)}function Sj(){for(;Ue!==null&&!fr();)Hw(Ue)}function Hw(r){var s=gw(r.alternate,r,Vr);r.memoizedProps=r.pendingProps,s===null?oh(r):Ue=s}function qw(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=uw(o,s,s.pendingProps,s.type,void 0,$e);break;case 11:s=uw(o,s,s.pendingProps,s.type.render,s.ref,$e);break;case 5:vp(s);default:vw(o,s),s=Ue=$x(s,Vr),s=gw(o,s,Vr)}r.memoizedProps=r.pendingProps,s===null?oh(r):Ue=s}function Jo(r,s,o,u){Rr=Da=null,vp(s),qo=null,Sc=0;var p=s.return;try{if(mj(r,p,s,o,$e)){wt=1,Zd(r,ei(o,r.current)),Ue=null;return}}catch(v){if(p!==null)throw Ue=p,v;wt=1,Zd(r,ei(o,r.current)),Ue=null;return}s.flags&32768?(We||u===1?r=!0:Yo||($e&536870912)!==0?r=!1:(ws=r=!0,(u===2||u===9||u===3||u===6)&&(u=ri.current,u!==null&&u.tag===13&&(u.flags|=16384))),$w(s,r)):oh(s)}function oh(r){var s=r;do{if((s.flags&32768)!==0){$w(s,ws);return}r=s.return;var o=gj(s.alternate,s,Vr);if(o!==null){Ue=o;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=r}while(s!==null);wt===0&&(wt=5)}function $w(r,s){do{var o=yj(r.alternate,r);if(o!==null){o.flags&=32767,Ue=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ue=r;return}Ue=r=o}while(r!==null);wt=6,Ue=null}function Gw(r,s,o,u,p,v,T,N,U){r.cancelPendingCommit=null;do lh();while(en!==0);if((Je&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(v=s.lanes|s.childLanes,v|=Km,$l(r,o,v,T,N,U),r===at&&(Ue=at=null,$e=0),Qo=s,Ts=r,Xo=o,Zp=v,Jp=p,Ow=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Rj(Kn,function(){return Xw(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,p=q.p,q.p=2,T=Je,Je|=4;try{vj(r,s,o)}finally{Je=T,q.p=p,X.T=u}}en=1,Kw(),Yw(),Ww()}}function Kw(){if(en===1){en=0;var r=Ts,s=Qo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=q.p;q.p=2;var p=Je;Je|=4;try{Rw(s,r);var v=pg,T=Px(r.containerInfo),N=v.focusedElem,U=v.selectionRange;if(T!==N&&N&&N.ownerDocument&&Mx(N.ownerDocument.documentElement,N)){if(U!==null&&zm(N)){var Y=U.start,ie=U.end;if(ie===void 0&&(ie=Y),"selectionStart"in N)N.selectionStart=Y,N.selectionEnd=Math.min(ie,N.value.length);else{var oe=N.ownerDocument||document,Q=oe&&oe.defaultView||window;if(Q.getSelection){var Z=Q.getSelection(),je=N.textContent.length,Te=Math.min(U.start,je),rt=U.end===void 0?Te:Math.min(U.end,je);!Z.extend&&Te>rt&&(T=rt,rt=Te,Te=T);var $=kx(N,Te),z=kx(N,rt);if($&&z&&(Z.rangeCount!==1||Z.anchorNode!==$.node||Z.anchorOffset!==$.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var K=oe.createRange();K.setStart($.node,$.offset),Z.removeAllRanges(),Te>rt?(Z.addRange(K),Z.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),Z.addRange(K))}}}}for(oe=[],Z=N;Z=Z.parentNode;)Z.nodeType===1&&oe.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<oe.length;N++){var se=oe[N];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}bh=!!mg,pg=mg=null}finally{Je=p,q.p=u,X.T=o}}r.current=s,en=2}}function Yw(){if(en===2){en=0;var r=Ts,s=Qo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=q.p;q.p=2;var p=Je;Je|=4;try{Sw(r,s.alternate,s)}finally{Je=p,q.p=u,X.T=o}}en=3}}function Ww(){if(en===4||en===3){en=0,fe();var r=Ts,s=Qo,o=Xo,u=Ow;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?en=5:(en=0,Qo=Ts=null,Qw(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(Es=null),go(o),s=s.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(xt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=X.T,p=q.p,q.p=2,X.T=null;try{for(var v=r.onRecoverableError,T=0;T<u.length;T++){var N=u[T];v(N.value,{componentStack:N.stack})}}finally{X.T=s,q.p=p}}(Xo&3)!==0&&lh(),Qi(r),p=r.pendingLanes,(o&4194090)!==0&&(p&42)!==0?r===eg?Mc++:(Mc=0,eg=r):Mc=0,Pc(0)}}function Qw(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,mc(s)))}function lh(r){return Kw(),Yw(),Ww(),Xw()}function Xw(){if(en!==5)return!1;var r=Ts,s=Zp;Zp=0;var o=go(Xo),u=X.T,p=q.p;try{q.p=32>o?32:o,X.T=null,o=Jp,Jp=null;var v=Ts,T=Xo;if(en=0,Qo=Ts=null,Xo=0,(Je&6)!==0)throw Error(i(331));var N=Je;if(Je|=4,Mw(v.current),Iw(v,v.current,T,o),Je=N,Pc(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(xt,v)}catch{}return!0}finally{q.p=p,X.T=u,Qw(r,s)}}function Zw(r,s,o){s=ei(o,s),s=Dp(r.stateNode,s,2),r=ms(r,s,2),r!==null&&(pr(r,2),Qi(r))}function st(r,s,o){if(r.tag===3)Zw(r,r,o);else for(;s!==null;){if(s.tag===3){Zw(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Es===null||!Es.has(u))){r=ei(o,r),o=nw(2),u=ms(s,o,2),u!==null&&(iw(o,u,s,r),pr(u,2),Qi(u));break}}s=s.return}}function rg(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new wj;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(Yp=!0,p.add(o),r=Aj.bind(null,r,s,o),s.then(r,r))}function Aj(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,at===r&&($e&o)===o&&(wt===4||wt===3&&($e&62914560)===$e&&300>Ae()-Xp?(Je&2)===0&&Zo(r,0):Wp|=o,Wo===$e&&(Wo=0)),Qi(r)}function Jw(r,s){s===0&&(s=ql()),r=Mo(r,s),r!==null&&(pr(r,s),Qi(r))}function Nj(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Jw(r,o)}function Cj(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),Jw(r,o)}function Rj(r,s){return dr(r,s)}var ch=null,el=null,sg=!1,uh=!1,ag=!1,Ua=0;function Qi(r){r!==el&&r.next===null&&(el===null?ch=el=r:el=el.next=r),uh=!0,sg||(sg=!0,Ij())}function Pc(r,s){if(!ag&&uh){ag=!0;do for(var o=!1,u=ch;u!==null;){if(r!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var T=u.suspendedLanes,N=u.pingedLanes;v=(1<<31-ln(42|r)+1)-1,v&=p&~(T&~N),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,i1(u,v))}else v=$e,v=po(u,u===at?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||ua(u,v)||(o=!0,i1(u,v));u=u.next}while(o);ag=!1}}function jj(){e1()}function e1(){uh=sg=!1;var r=0;Ua!==0&&(Uj()&&(r=Ua),Ua=0);for(var s=Ae(),o=null,u=ch;u!==null;){var p=u.next,v=t1(u,s);v===0?(u.next=null,o===null?ch=p:o.next=p,p===null&&(el=o)):(o=u,(r!==0||(v&3)!==0)&&(uh=!0)),u=p}Pc(r)}function t1(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,p=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var T=31-ln(v),N=1<<T,U=p[T];U===-1?((N&o)===0||(N&u)!==0)&&(p[T]=zl(N,s)):U<=s&&(r.expiredLanes|=N),v&=~N}if(s=at,o=$e,o=po(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(et===2||et===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&hr(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ua(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&hr(u),go(o)){case 2:case 8:o=yi;break;case 32:o=Kn;break;case 268435456:o=Yn;break;default:o=Kn}return u=n1.bind(null,r),o=dr(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&hr(u),r.callbackPriority=2,r.callbackNode=null,2}function n1(r,s){if(en!==0&&en!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(lh()&&r.callbackNode!==o)return null;var u=$e;return u=po(r,r===at?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Lw(r,u,s),t1(r,Ae()),r.callbackNode!=null&&r.callbackNode===o?n1.bind(null,r):null)}function i1(r,s){if(lh())return null;Lw(r,s,!0)}function Ij(){Fj(function(){(Je&6)!==0?dr(Gn,jj):e1()})}function og(){return Ua===0&&(Ua=Hl()),Ua}function r1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:_o(""+r)}function s1(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function Dj(r,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var v=r1((p[It]||null).action),T=u.submitter;T&&(s=(s=T[It]||null)?r1(s.formAction):T.getAttribute("formAction"),s!==null&&(v=s,T=null));var N=new Eo("action","action",null,u,p);r.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ua!==0){var U=T?s1(p,T):new FormData(p);Np(o,{pending:!0,data:U,method:p.method,action:v},null,U)}}else typeof v=="function"&&(N.preventDefault(),U=T?s1(p,T):new FormData(p),Np(o,{pending:!0,data:U,method:p.method,action:v},v,U))},currentTarget:p}]})}}for(var lg=0;lg<Gm.length;lg++){var cg=Gm[lg],kj=cg.toLowerCase(),Mj=cg[0].toUpperCase()+cg.slice(1);wi(kj,"on"+Mj)}wi(Lx,"onAnimationEnd"),wi(Ux,"onAnimationIteration"),wi(Bx,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(XR,"onTransitionRun"),wi(ZR,"onTransitionStart"),wi(JR,"onTransitionCancel"),wi(Fx,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oc));function a1(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],p=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var T=u.length-1;0<=T;T--){var N=u[T],U=N.instance,Y=N.currentTarget;if(N=N.listener,U!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=Y;try{v(p)}catch(ie){Xd(ie)}p.currentTarget=null,v=U}else for(T=0;T<u.length;T++){if(N=u[T],U=N.instance,Y=N.currentTarget,N=N.listener,U!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=Y;try{v(p)}catch(ie){Xd(ie)}p.currentTarget=null,v=U}}}}function Be(r,s){var o=s[Kl];o===void 0&&(o=s[Kl]=new Set);var u=r+"__bubble";o.has(u)||(o1(s,r,2,!1),o.add(u))}function ug(r,s,o){var u=0;s&&(u|=4),o1(o,r,u,s)}var dh="_reactListening"+Math.random().toString(36).slice(2);function dg(r){if(!r[dh]){r[dh]=!0,Yl.forEach(function(o){o!=="selectionchange"&&(Pj.has(o)||ug(o,!1,r),ug(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[dh]||(s[dh]=!0,ug("selectionchange",!1,s))}}function o1(r,s,o,u){switch(I1(s)){case 2:var p=lI;break;case 8:p=cI;break;default:p=Sg}o=p.bind(null,s,o,r),p=void 0,!Zn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?r.addEventListener(s,o,{capture:!0,passive:p}):r.addEventListener(s,o,!0):p!==void 0?r.addEventListener(s,o,{passive:p}):r.addEventListener(s,o,!1)}function hg(r,s,o,u,p){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var N=u.stateNode.containerInfo;if(N===p)break;if(T===4)for(T=u.return;T!==null;){var U=T.tag;if((U===3||U===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;N!==null;){if(T=gr(N),T===null)return;if(U=T.tag,U===5||U===6||U===26||U===27){u=v=T;continue e}N=N.parentNode}}u=u.return}fd(function(){var Y=v,ie=Xn(o),oe=[];e:{var Q=zx.get(r);if(Q!==void 0){var Z=Eo,je=r;switch(r){case"keypress":if(Fi(o)===0)break e;case"keydown":case"keyup":Z=Ro;break;case"focusin":je="focus",Z=Ao;break;case"focusout":je="blur",Z=Ao;break;case"beforeblur":case"afterblur":Z=Ao;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=wd;break;case Lx:case Ux:case Bx:Z=No;break;case Fx:Z=Ed;break;case"scroll":case"scrollend":Z=md;break;case"wheel":Z=jo;break;case"copy":case"cut":case"paste":Z=Co;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=ac;break;case"toggle":case"beforetoggle":Z=Sd}var Te=(s&4)!==0,rt=!Te&&(r==="scroll"||r==="scrollend"),$=Te?Q!==null?Q+"Capture":null:Q;Te=[];for(var z=Y,K;z!==null;){var se=z;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||$===null||(se=va(z,$),se!=null&&Te.push(Vc(z,se,K))),rt)break;z=z.return}0<Te.length&&(Q=new Z(Q,je,null,o,ie),oe.push({event:Q,listeners:Te}))}}if((s&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",Q&&o!==br&&(je=o.relatedTarget||o.fromElement)&&(gr(je)||je[Wn]))break e;if((Z||Q)&&(Q=ie.window===ie?ie:(Q=ie.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(je=o.relatedTarget||o.toElement,Z=Y,je=je?gr(je):null,je!==null&&(rt=l(je),Te=je.tag,je!==rt||Te!==5&&Te!==27&&Te!==6)&&(je=null)):(Z=null,je=Y),Z!==je)){if(Te=Jn,se="onMouseLeave",$="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Te=ac,se="onPointerLeave",$="onPointerEnter",z="pointer"),rt=Z==null?Q:Vi(Z),K=je==null?Q:Vi(je),Q=new Te(se,z+"leave",Z,o,ie),Q.target=rt,Q.relatedTarget=K,se=null,gr(ie)===Y&&(Te=new Te($,z+"enter",je,o,ie),Te.target=K,Te.relatedTarget=rt,se=Te),rt=se,Z&&je)t:{for(Te=Z,$=je,z=0,K=Te;K;K=tl(K))z++;for(K=0,se=$;se;se=tl(se))K++;for(;0<z-K;)Te=tl(Te),z--;for(;0<K-z;)$=tl($),K--;for(;z--;){if(Te===$||$!==null&&Te===$.alternate)break t;Te=tl(Te),$=tl($)}Te=null}else Te=null;Z!==null&&l1(oe,Q,Z,Te,!1),je!==null&&rt!==null&&l1(oe,rt,je,Te,!0)}}e:{if(Q=Y?Vi(Y):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var ve=Nx;else if(Ut(Q))if(Cx)ve=YR;else{ve=GR;var Le=$R}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&Jl(Y.elementType)&&(ve=Nx):ve=KR;if(ve&&(ve=ve(r,Y))){Sr(oe,ve,o,ie);break e}Le&&Le(r,Q,Y),r==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&cs(Q,"number",Q.value)}switch(Le=Y?Vi(Y):window,r){case"focusin":(Ut(Le)||Le.contentEditable==="true")&&(Io=Le,Hm=Y,cc=null);break;case"focusout":cc=Hm=Io=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,Ox(oe,o,ie);break;case"selectionchange":if(QR)break;case"keydown":case"keyup":Ox(oe,o,ie)}var we;if(qi)e:{switch(r){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else He?J(r,o)&&(Ne="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ne="onCompositionStart");Ne&&(E&&o.locale!=="ko"&&(He||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&He&&(we=tc()):(Bi=ie,us="value"in Bi?Bi.value:Bi.textContent,He=!0)),Le=hh(Y,Ne),0<Le.length&&(Ne=new rc(Ne,r,null,o,ie),oe.push({event:Ne,listeners:Le}),we?Ne.data=we:(we=de(o),we!==null&&(Ne.data=we)))),(we=x?Lt(r,o):qe(r,o))&&(Ne=hh(Y,"onBeforeInput"),0<Ne.length&&(Le=new rc("onBeforeInput","beforeinput",null,o,ie),oe.push({event:Le,listeners:Ne}),Le.data=we)),Dj(oe,r,Y,o,ie)}a1(oe,s)})}function Vc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function hh(r,s){for(var o=s+"Capture",u=[];r!==null;){var p=r,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=va(r,o),p!=null&&u.unshift(Vc(r,p,v)),p=va(r,s),p!=null&&u.push(Vc(r,p,v))),r.tag===3)return u;r=r.return}return[]}function tl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function l1(r,s,o,u,p){for(var v=s._reactName,T=[];o!==null&&o!==u;){var N=o,U=N.alternate,Y=N.stateNode;if(N=N.tag,U!==null&&U===u)break;N!==5&&N!==26&&N!==27||Y===null||(U=Y,p?(Y=va(o,v),Y!=null&&T.unshift(Vc(o,Y,U))):p||(Y=va(o,v),Y!=null&&T.push(Vc(o,Y,U)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var Oj=/\r\n?/g,Vj=/\u0000|\uFFFD/g;function c1(r){return(typeof r=="string"?r:""+r).replace(Oj,`
`).replace(Vj,"")}function u1(r,s){return s=c1(s),c1(r)===s}function fh(){}function it(r,s,o,u,p,v){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Qn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Qn(r,""+u);break;case"className":Li(r,"class",u);break;case"tabIndex":Li(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Li(r,o,u);break;case"style":Zl(r,u,v);break;case"data":if(s!=="object"){Li(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=_o(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(s!=="input"&&it(r,s,"name",p.name,p,null),it(r,s,"formEncType",p.formEncType,p,null),it(r,s,"formMethod",p.formMethod,p,null),it(r,s,"formTarget",p.formTarget,p,null)):(it(r,s,"encType",p.encType,p,null),it(r,s,"method",p.method,p,null),it(r,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=_o(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=fh);break;case"onScroll":u!=null&&Be("scroll",r);break;case"onScrollEnd":u!=null&&Be("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=_o(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Be("beforetoggle",r),Be("toggle",r),ls(r,"popover",u);break;case"xlinkActuate":Xt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Xt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Xt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Xt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Xt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Xt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ls(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Om.get(o)||o,ls(r,o,u))}}function fg(r,s,o,u,p,v){switch(o){case"style":Zl(r,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Qn(r,u):(typeof u=="number"||typeof u=="bigint")&&Qn(r,""+u);break;case"onScroll":u!=null&&Be("scroll",r);break;case"onScrollEnd":u!=null&&Be("scrollend",r);break;case"onClick":u!=null&&(r.onclick=fh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),v=r[It]||null,v=v!=null?v[o]:null,typeof v=="function"&&r.removeEventListener(s,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,p);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ls(r,o,u)}}}function tn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",r),Be("load",r);var u=!1,p=!1,v;for(v in o)if(o.hasOwnProperty(v)){var T=o[v];if(T!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(r,s,v,T,o,null)}}p&&it(r,s,"srcSet",o.srcSet,o,null),u&&it(r,s,"src",o.src,o,null);return;case"input":Be("invalid",r);var N=v=T=p=null,U=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":p=ie;break;case"type":T=ie;break;case"checked":U=ie;break;case"defaultChecked":Y=ie;break;case"value":v=ie;break;case"defaultValue":N=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,s));break;default:it(r,s,u,ie,o,null)}}pa(r,v,N,U,Y,T,p,!1),wo(r);return;case"select":Be("invalid",r),u=T=v=null;for(p in o)if(o.hasOwnProperty(p)&&(N=o[p],N!=null))switch(p){case"value":v=N;break;case"defaultValue":T=N;break;case"multiple":u=N;default:it(r,s,p,N,o,null)}s=v,o=T,r.multiple=!!u,s!=null?xr(r,!!u,s,!1):o!=null&&xr(r,!!u,o,!0);return;case"textarea":Be("invalid",r),v=p=u=null;for(T in o)if(o.hasOwnProperty(T)&&(N=o[T],N!=null))switch(T){case"value":u=N;break;case"defaultValue":p=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:it(r,s,T,N,o,null)}ga(r,u,p,v),wo(r);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(r,s,U,u,o,null)}return;case"dialog":Be("beforetoggle",r),Be("toggle",r),Be("cancel",r),Be("close",r);break;case"iframe":case"object":Be("load",r);break;case"video":case"audio":for(u=0;u<Oc.length;u++)Be(Oc[u],r);break;case"image":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"embed":case"source":case"link":Be("error",r),Be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(r,s,Y,u,o,null)}return;default:if(Jl(s)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&fg(r,s,ie,u,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(u=o[N],u!=null&&it(r,s,N,u,o,null))}function Lj(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,T=null,N=null,U=null,Y=null,ie=null;for(Z in o){var oe=o[Z];if(o.hasOwnProperty(Z)&&oe!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":U=oe;default:u.hasOwnProperty(Z)||it(r,s,Z,null,u,oe)}}for(var Q in u){var Z=u[Q];if(oe=o[Q],u.hasOwnProperty(Q)&&(Z!=null||oe!=null))switch(Q){case"type":v=Z;break;case"name":p=Z;break;case"checked":Y=Z;break;case"defaultChecked":ie=Z;break;case"value":T=Z;break;case"defaultValue":N=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==oe&&it(r,s,Q,Z,u,oe)}}Mn(r,T,N,U,Y,ie,v,p);return;case"select":Z=T=N=Q=null;for(v in o)if(U=o[v],o.hasOwnProperty(v)&&U!=null)switch(v){case"value":break;case"multiple":Z=U;default:u.hasOwnProperty(v)||it(r,s,v,null,u,U)}for(p in u)if(v=u[p],U=o[p],u.hasOwnProperty(p)&&(v!=null||U!=null))switch(p){case"value":Q=v;break;case"defaultValue":N=v;break;case"multiple":T=v;default:v!==U&&it(r,s,p,v,u,U)}s=N,o=T,u=Z,Q!=null?xr(r,!!o,Q,!1):!!u!=!!o&&(s!=null?xr(r,!!o,s,!0):xr(r,!!o,o?[]:"",!1));return;case"textarea":Z=Q=null;for(N in o)if(p=o[N],o.hasOwnProperty(N)&&p!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:it(r,s,N,null,u,p)}for(T in u)if(p=u[T],v=o[T],u.hasOwnProperty(T)&&(p!=null||v!=null))switch(T){case"value":Q=p;break;case"defaultValue":Z=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==v&&it(r,s,T,p,u,v)}tt(r,Q,Z);return;case"option":for(var je in o)if(Q=o[je],o.hasOwnProperty(je)&&Q!=null&&!u.hasOwnProperty(je))switch(je){case"selected":r.selected=!1;break;default:it(r,s,je,null,u,Q)}for(U in u)if(Q=u[U],Z=o[U],u.hasOwnProperty(U)&&Q!==Z&&(Q!=null||Z!=null))switch(U){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:it(r,s,U,Q,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Q=o[Te],o.hasOwnProperty(Te)&&Q!=null&&!u.hasOwnProperty(Te)&&it(r,s,Te,null,u,Q);for(Y in u)if(Q=u[Y],Z=o[Y],u.hasOwnProperty(Y)&&Q!==Z&&(Q!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:it(r,s,Y,Q,u,Z)}return;default:if(Jl(s)){for(var rt in o)Q=o[rt],o.hasOwnProperty(rt)&&Q!==void 0&&!u.hasOwnProperty(rt)&&fg(r,s,rt,void 0,u,Q);for(ie in u)Q=u[ie],Z=o[ie],!u.hasOwnProperty(ie)||Q===Z||Q===void 0&&Z===void 0||fg(r,s,ie,Q,u,Z);return}}for(var $ in o)Q=o[$],o.hasOwnProperty($)&&Q!=null&&!u.hasOwnProperty($)&&it(r,s,$,null,u,Q);for(oe in u)Q=u[oe],Z=o[oe],!u.hasOwnProperty(oe)||Q===Z||Q==null&&Z==null||it(r,s,oe,Q,u,Z)}var mg=null,pg=null;function mh(r){return r.nodeType===9?r:r.ownerDocument}function d1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h1(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function gg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yg=null;function Uj(){var r=window.event;return r&&r.type==="popstate"?r===yg?!1:(yg=r,!0):(yg=null,!1)}var f1=typeof setTimeout=="function"?setTimeout:void 0,Bj=typeof clearTimeout=="function"?clearTimeout:void 0,m1=typeof Promise=="function"?Promise:void 0,Fj=typeof queueMicrotask=="function"?queueMicrotask:typeof m1<"u"?function(r){return m1.resolve(null).then(r).catch(zj)}:f1;function zj(r){setTimeout(function(){throw r})}function As(r){return r==="head"}function p1(r,s){var o=s,u=0,p=0;do{var v=o.nextSibling;if(r.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"){if(0<u&&8>u){o=u;var T=r.ownerDocument;if(o&1&&Lc(T.documentElement),o&2&&Lc(T.body),o&4)for(o=T.head,Lc(o),T=o.firstChild;T;){var N=T.nextSibling,U=T.nodeName;T[da]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=N}}if(p===0){r.removeChild(v),Gc(s);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:u=o.charCodeAt(0)-48;else u=0;o=v}while(o);Gc(s)}function vg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vg(o),os(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function Hj(r,s,o,u){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[da])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Ei(r.nextSibling),r===null)break}return null}function qj(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Ei(r.nextSibling),r===null))return null;return r}function xg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function $j(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Ei(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var bg=null;function g1(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function y1(r,s,o){switch(s=mh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Lc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);os(r)}var ai=new Map,v1=new Set;function ph(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Lr=q.d;q.d={f:Gj,r:Kj,D:Yj,C:Wj,L:Qj,m:Xj,X:Jj,S:Zj,M:eI};function Gj(){var r=Lr.f(),s=ah();return r||s}function Kj(r){var s=Oi(r);s!==null&&s.tag===5&&s.type==="form"?Lb(s):Lr.r(r)}var nl=typeof document>"u"?null:document;function x1(r,s,o){var u=nl;if(u&&typeof s=="string"&&s){var p=Dt(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),v1.has(p)||(v1.add(p),r={rel:r,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),tn(s,"link",r),St(s),u.head.appendChild(s)))}}function Yj(r){Lr.D(r),x1("dns-prefetch",r,null)}function Wj(r,s){Lr.C(r,s),x1("preconnect",r,s)}function Qj(r,s,o){Lr.L(r,s,o);var u=nl;if(u&&r&&s){var p='link[rel="preload"][as="'+Dt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Dt(o.imageSizes)+'"]')):p+='[href="'+Dt(r)+'"]';var v=p;switch(s){case"style":v=il(r);break;case"script":v=rl(r)}ai.has(v)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ai.set(v,r),u.querySelector(p)!==null||s==="style"&&u.querySelector(Uc(v))||s==="script"&&u.querySelector(Bc(v))||(s=u.createElement("link"),tn(s,"link",r),St(s),u.head.appendChild(s)))}}function Xj(r,s){Lr.m(r,s);var o=nl;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Dt(u)+'"][href="'+Dt(r)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=rl(r)}if(!ai.has(v)&&(r=y({rel:"modulepreload",href:r},s),ai.set(v,r),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bc(v)))return}u=o.createElement("link"),tn(u,"link",r),St(u),o.head.appendChild(u)}}}function Zj(r,s,o){Lr.S(r,s,o);var u=nl;if(u&&r){var p=yn(u).hoistableStyles,v=il(r);s=s||"default";var T=p.get(v);if(!T){var N={loading:0,preload:null};if(T=u.querySelector(Uc(v)))N.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ai.get(v))&&wg(r,o);var U=T=u.createElement("link");St(U),tn(U,"link",r),U._p=new Promise(function(Y,ie){U.onload=Y,U.onerror=ie}),U.addEventListener("load",function(){N.loading|=1}),U.addEventListener("error",function(){N.loading|=2}),N.loading|=4,gh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:N},p.set(v,T)}}}function Jj(r,s){Lr.X(r,s);var o=nl;if(o&&r){var u=yn(o).hoistableScripts,p=rl(r),v=u.get(p);v||(v=o.querySelector(Bc(p)),v||(r=y({src:r,async:!0},s),(s=ai.get(p))&&_g(r,s),v=o.createElement("script"),St(v),tn(v,"link",r),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function eI(r,s){Lr.M(r,s);var o=nl;if(o&&r){var u=yn(o).hoistableScripts,p=rl(r),v=u.get(p);v||(v=o.querySelector(Bc(p)),v||(r=y({src:r,async:!0,type:"module"},s),(s=ai.get(p))&&_g(r,s),v=o.createElement("script"),St(v),tn(v,"link",r),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function b1(r,s,o,u){var p=(p=Se.current)?ph(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=il(o.href),o=yn(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=il(o.href);var v=yn(p).hoistableStyles,T=v.get(r);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,T),(v=p.querySelector(Uc(r)))&&!v._p&&(T.instance=v,T.state.loading=5),ai.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ai.set(r,o),v||tI(p,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=rl(o),o=yn(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function il(r){return'href="'+Dt(r)+'"'}function Uc(r){return'link[rel="stylesheet"]['+r+"]"}function w1(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function tI(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),tn(s,"link",o),St(s),r.head.appendChild(s))}function rl(r){return'[src="'+Dt(r)+'"]'}function Bc(r){return"script[async]"+r}function _1(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Dt(o.href)+'"]');if(u)return s.instance=u,St(u),u;var p=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),St(u),tn(u,"style",p),gh(u,o.precedence,r),s.instance=u;case"stylesheet":p=il(o.href);var v=r.querySelector(Uc(p));if(v)return s.state.loading|=4,s.instance=v,St(v),v;u=w1(o),(p=ai.get(p))&&wg(u,p),v=(r.ownerDocument||r).createElement("link"),St(v);var T=v;return T._p=new Promise(function(N,U){T.onload=N,T.onerror=U}),tn(v,"link",u),s.state.loading|=4,gh(v,o.precedence,r),s.instance=v;case"script":return v=rl(o.src),(p=r.querySelector(Bc(v)))?(s.instance=p,St(p),p):(u=o,(p=ai.get(v))&&(u=y({},o),_g(u,p)),r=r.ownerDocument||r,p=r.createElement("script"),St(p),tn(p,"link",u),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,gh(u,o.precedence,r));return s.instance}function gh(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,T=0;T<u.length;T++){var N=u[T];if(N.dataset.precedence===s)v=N;else if(v!==p)break}v?v.parentNode.insertBefore(r,v.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function wg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function _g(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var yh=null;function E1(r,s,o){if(yh===null){var u=new Map,p=yh=new Map;p.set(o,u)}else p=yh,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var v=o[p];if(!(v[da]||v[Vt]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(s)||"";T=r+T;var N=u.get(T);N?N.push(v):u.set(T,[v])}}return u}function T1(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function nI(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function S1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Fc=null;function iI(){}function rI(r,s,o){if(Fc===null)throw Error(i(475));var u=Fc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=il(o.href),v=r.querySelector(Uc(p));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=vh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=v,St(v);return}v=r.ownerDocument||r,o=w1(o),(p=ai.get(p))&&wg(o,p),v=v.createElement("link"),St(v);var T=v;T._p=new Promise(function(N,U){T.onload=N,T.onerror=U}),tn(v,"link",o),s.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=vh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function sI(){if(Fc===null)throw Error(i(475));var r=Fc;return r.stylesheets&&r.count===0&&Eg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Eg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function vh(){if(this.count--,this.count===0){if(this.stylesheets)Eg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var xh=null;function Eg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,xh=new Map,s.forEach(aI,r),xh=null,vh.call(r))}function aI(r,s){if(!(s.state.loading&4)){var o=xh.get(r);if(o)var u=o.get(null);else{o=new Map,xh.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var T=p[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}p=s.instance,T=p.getAttribute("data-precedence"),v=o.get(T)||u,v===u&&o.set(null,p),o.set(T,p),this.count++,u=vh.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var zc={$$typeof:F,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function oI(r,s,o,u,p,v,T,N){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function A1(r,s,o,u,p,v,T,N,U,Y,ie,oe){return r=new oI(r,s,o,T,N,U,Y,oe),s=1,v===!0&&(s|=24),v=On(3,null,null,s),r.current=v,v.stateNode=r,s=rp(),s.refCount++,r.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:o,cache:s},lp(v),r}function N1(r){return r?(r=Po,r):Po}function C1(r,s,o,u,p,v){p=N1(p),u.context===null?u.context=p:u.pendingContext=p,u=fs(s),u.payload={element:o},v=v===void 0?null:v,v!==null&&(u.callback=v),o=ms(r,u,s),o!==null&&(Fn(o,r,s),vc(o,r,s))}function R1(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Tg(r,s){R1(r,s),(r=r.alternate)&&R1(r,s)}function j1(r){if(r.tag===13){var s=Mo(r,67108864);s!==null&&Fn(s,r,67108864),Tg(r,67108864)}}var bh=!0;function lI(r,s,o,u){var p=X.T;X.T=null;var v=q.p;try{q.p=2,Sg(r,s,o,u)}finally{q.p=v,X.T=p}}function cI(r,s,o,u){var p=X.T;X.T=null;var v=q.p;try{q.p=8,Sg(r,s,o,u)}finally{q.p=v,X.T=p}}function Sg(r,s,o,u){if(bh){var p=Ag(u);if(p===null)hg(r,s,u,wh,o),D1(r,u);else if(dI(p,r,s,o,u))u.stopPropagation();else if(D1(r,u),s&4&&-1<uI.indexOf(r)){for(;p!==null;){var v=Oi(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=vi(v.pendingLanes);if(T!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;T;){var U=1<<31-ln(T);N.entanglements[1]|=U,T&=~U}Qi(v),(Je&6)===0&&(rh=Ae()+500,Pc(0))}}break;case 13:N=Mo(v,2),N!==null&&Fn(N,v,2),ah(),Tg(v,2)}if(v=Ag(u),v===null&&hg(r,s,u,wh,o),v===p)break;p=v}p!==null&&u.stopPropagation()}else hg(r,s,u,null,o)}}function Ag(r){return r=Xn(r),Ng(r)}var wh=null;function Ng(r){if(wh=null,r=gr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return wh=r,null}function I1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ft()){case Gn:return 2;case yi:return 8;case Kn:case mo:return 32;case Yn:return 268435456;default:return 32}default:return 32}}var Cg=!1,Ns=null,Cs=null,Rs=null,Hc=new Map,qc=new Map,js=[],uI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D1(r,s){switch(r){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Hc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(s.pointerId)}}function $c(r,s,o,u,p,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},s!==null&&(s=Oi(s),s!==null&&j1(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function dI(r,s,o,u,p){switch(s){case"focusin":return Ns=$c(Ns,r,s,o,u,p),!0;case"dragenter":return Cs=$c(Cs,r,s,o,u,p),!0;case"mouseover":return Rs=$c(Rs,r,s,o,u,p),!0;case"pointerover":var v=p.pointerId;return Hc.set(v,$c(Hc.get(v)||null,r,s,o,u,p)),!0;case"gotpointercapture":return v=p.pointerId,qc.set(v,$c(qc.get(v)||null,r,s,o,u,p)),!0}return!1}function k1(r){var s=gr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,ad(r.priority,function(){if(o.tag===13){var u=Bn();u=rs(u);var p=Mo(o,u);p!==null&&Fn(p,o,u),Tg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _h(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Ag(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);br=u,o.target.dispatchEvent(u),br=null}else return s=Oi(o),s!==null&&j1(s),r.blockedOn=o,!1;s.shift()}return!0}function M1(r,s,o){_h(r)&&o.delete(s)}function hI(){Cg=!1,Ns!==null&&_h(Ns)&&(Ns=null),Cs!==null&&_h(Cs)&&(Cs=null),Rs!==null&&_h(Rs)&&(Rs=null),Hc.forEach(M1),qc.forEach(M1)}function Eh(r,s){r.blockedOn===s&&(r.blockedOn=null,Cg||(Cg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hI)))}var Th=null;function P1(r){Th!==r&&(Th=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Th===r&&(Th=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],p=r[s+2];if(typeof u!="function"){if(Ng(u||o)===null)continue;break}var v=Oi(o);v!==null&&(r.splice(s,3),s-=3,Np(v,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Gc(r){function s(U){return Eh(U,r)}Ns!==null&&Eh(Ns,r),Cs!==null&&Eh(Cs,r),Rs!==null&&Eh(Rs,r),Hc.forEach(s),qc.forEach(s);for(var o=0;o<js.length;o++){var u=js[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<js.length&&(o=js[0],o.blockedOn===null);)k1(o),o.blockedOn===null&&js.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],T=p[It]||null;if(typeof v=="function")T||P1(o);else if(T){var N=null;if(v&&v.hasAttribute("formAction")){if(p=v,T=v[It]||null)N=T.formAction;else if(Ng(p)!==null)continue}else N=T.action;typeof N=="function"?o[u+1]=N:(o.splice(u,3),u-=3),P1(o)}}}function Rg(r){this._internalRoot=r}Sh.prototype.render=Rg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Bn();C1(o,u,r,s,null,null)},Sh.prototype.unmount=Rg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;C1(r.current,2,null,r,null,null),ah(),s[Wn]=null}};function Sh(r){this._internalRoot=r}Sh.prototype.unstable_scheduleHydration=function(r){if(r){var s=ss();r={blockedOn:null,target:r,priority:s};for(var o=0;o<js.length&&s!==0&&s<js[o].priority;o++);js.splice(o,0,r),o===0&&k1(r)}};var O1=e.version;if(O1!=="19.1.0")throw Error(i(527,O1,"19.1.0"));q.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var fI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{xt=Ah.inject(fI),Ze=Ah}catch{}}return Yc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",p=Zb,v=Jb,T=ew,N=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks)),s=A1(r,1,!1,null,null,o,u,p,v,T,N,null),r[Wn]=s.current,dg(r),new Rg(s)},Yc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,p="",v=Zb,T=Jb,N=ew,U=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),s=A1(r,1,!0,s,o??null,u,p,v,T,N,U,Y),s.context=N1(null),o=s.current,u=Bn(),u=rs(u),p=fs(u),p.callback=null,ms(o,p,u),o=u,s.current.lanes=o,pr(s,o),Qi(s),r[Wn]=s.current,dg(r),new Sh(s)},Yc.version="19.1.0",Yc}var K1;function TI(){if(K1)return Dg.exports;K1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dg.exports=EI(),Dg.exports}var SI=TI(),Wc={},Y1;function AI(){if(Y1)return Wc;Y1=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.parse=c,Wc.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,S){const A=new l,P=w.length;if(P<2)return A;const k=(S==null?void 0:S.decode)||y;let R=0;do{const B=w.indexOf("=",R);if(B===-1)break;const F=w.indexOf(";",R),te=F===-1?P:F;if(B>te){R=w.lastIndexOf(";",B-1)+1;continue}const W=h(w,R,B),re=f(w,B,W),D=w.slice(W,re);if(A[D]===void 0){let C=h(w,B+1,te),j=f(w,te,C);const M=k(w.slice(C,j));A[D]=M}R=te+1}while(R<P);return A}function h(w,S,A){do{const P=w.charCodeAt(S);if(P!==32&&P!==9)return S}while(++S<A);return A}function f(w,S,A){for(;S>A;){const P=w.charCodeAt(--S);if(P!==32&&P!==9)return S+1}return A}function g(w,S,A){const P=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const k=P(S);if(!e.test(k))throw new TypeError(`argument val is invalid: ${S}`);let R=w+"="+k;if(!A)return R;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);R+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);R+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);R+="; Path="+A.path}if(A.expires){if(!b(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);R+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(R+="; HttpOnly"),A.secure&&(R+="; Secure"),A.partitioned&&(R+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return R}function y(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return a.call(w)==="[object Date]"}return Wc}AI();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var W1="popstate";function NI(t={}){function e(i,a){let{pathname:l,search:c,hash:h}=i.location;return v0("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:bu(a)}return RI(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CI(){return Math.random().toString(36).substring(2,10)}function Q1(t,e){return{usr:t.state,key:t.key,idx:e}}function v0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rl(e):e,state:n,key:e&&e.key||i||CI()}}function bu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function RI(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",f=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function b(){h="POP";let k=y(),R=k==null?null:k-g;g=k,f&&f({action:h,location:P.location,delta:R})}function w(k,R){h="PUSH";let B=v0(P.location,k,R);g=y()+1;let F=Q1(B,g),te=P.createHref(B);try{c.pushState(F,"",te)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(te)}l&&f&&f({action:h,location:P.location,delta:1})}function S(k,R){h="REPLACE";let B=v0(P.location,k,R);g=y();let F=Q1(B,g),te=P.createHref(B);c.replaceState(F,"",te),l&&f&&f({action:h,location:P.location,delta:0})}function A(k){let R=a.location.origin!=="null"?a.location.origin:a.location.href,B=typeof k=="string"?k:bu(k);return B=B.replace(/ $/,"%20"),ht(R,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,R)}let P={get action(){return h},get location(){return t(a,c)},listen(k){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(W1,b),f=k,()=>{a.removeEventListener(W1,b),f=null}},createHref(k){return e(a,k)},createURL:A,encodeLocation(k){let R=A(k);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:w,replace:S,go(k){return c.go(k)}};return P}function ET(t,e,n="/"){return jI(t,e,n,!1)}function jI(t,e,n,i){let a=typeof e=="string"?Rl(e):e,l=Wr(a.pathname||"/",n);if(l==null)return null;let c=TT(t);II(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=zI(l);h=BI(c[f],g,i)}return h}function TT(t,e=[],n=[],i=""){let a=(l,c,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(ht(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=$r([i,f.relativePath]),y=n.concat(f);l.children&&l.children.length>0&&(ht(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),TT(l.children,e,y,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:LI(g,l.index),routesMeta:y})};return t.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,c);else for(let f of ST(l.path))a(l,c,f)}),e}function ST(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=ST(i.join("/")),h=[];return h.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...c),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function II(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var DI=/^:[\w-]+$/,kI=3,MI=2,PI=1,OI=10,VI=-2,X1=t=>t==="*";function LI(t,e){let n=t.split("/"),i=n.length;return n.some(X1)&&(i+=VI),e&&(i+=MI),n.filter(a=>!X1(a)).reduce((a,l)=>a+(DI.test(l)?kI:l===""?PI:OI),i)}function UI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function BI(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",b=rf({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},y),w=f.route;if(!b&&g&&n&&!i[i.length-1].route.index&&(b=rf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:$r([l,b.pathname]),pathnameBase:GI($r([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=$r([l,b.pathnameBase]))}return c}function rf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=FI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:b},w)=>{if(y==="*"){let A=h[w]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const S=h[w];return b&&!S?g[y]=void 0:g[y]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function FI(t,e=!1,n=!0){Ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function zI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function HI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Rl(t):t;return{pathname:n?n.startsWith("/")?n:qI(n,e):e,search:KI(i),hash:YI(a)}}function qI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Og(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $I(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ay(t){let e=$I(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Ny(t,e,n,i=!1){let a;typeof t=="string"?a=Rl(t):(a={...t},ht(!a.pathname||!a.pathname.includes("?"),Og("?","pathname","search",a)),ht(!a.pathname||!a.pathname.includes("#"),Og("#","pathname","hash",a)),ht(!a.search||!a.search.includes("#"),Og("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}h=b>=0?e[b]:"/"}let f=HI(a,h),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(g||y)&&(f.pathname+="/"),f}var $r=t=>t.join("/").replace(/\/\/+/g,"/"),GI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var AT=["POST","PUT","PATCH","DELETE"];new Set(AT);var QI=["GET",...AT];new Set(QI);var jl=_.createContext(null);jl.displayName="DataRouter";var Ff=_.createContext(null);Ff.displayName="DataRouterState";var NT=_.createContext({isTransitioning:!1});NT.displayName="ViewTransition";var XI=_.createContext(new Map);XI.displayName="Fetchers";var ZI=_.createContext(null);ZI.displayName="Await";var ki=_.createContext(null);ki.displayName="Navigation";var Bu=_.createContext(null);Bu.displayName="Location";var fi=_.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var Cy=_.createContext(null);Cy.displayName="RouteError";function JI(t,{relative:e}={}){ht(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=_.useContext(ki),{hash:a,pathname:l,search:c}=Fu(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:$r([n,l])),i.createHref({pathname:h,search:c,hash:a})}function Il(){return _.useContext(Bu)!=null}function ta(){return ht(Il(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Bu).location}var CT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RT(t){_.useContext(ki).static||_.useLayoutEffect(t)}function or(){let{isDataRoute:t}=_.useContext(fi);return t?m4():e4()}function e4(){ht(Il(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(jl),{basename:e,navigator:n}=_.useContext(ki),{matches:i}=_.useContext(fi),{pathname:a}=ta(),l=JSON.stringify(Ay(i)),c=_.useRef(!1);return RT(()=>{c.current=!0}),_.useCallback((f,g={})=>{if(Ri(c.current,CT),!c.current)return;if(typeof f=="number"){n.go(f);return}let y=Ny(f,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:$r([e,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[e,n,l,a,t])}var t4=_.createContext(null);function n4(t){let e=_.useContext(fi).outlet;return e&&_.createElement(t4.Provider,{value:t},e)}function jT(){let{matches:t}=_.useContext(fi),e=t[t.length-1];return e?e.params:{}}function Fu(t,{relative:e}={}){let{matches:n}=_.useContext(fi),{pathname:i}=ta(),a=JSON.stringify(Ay(n));return _.useMemo(()=>Ny(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function i4(t,e){return IT(t,e)}function IT(t,e,n,i){var B;ht(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=_.useContext(ki),{matches:c}=_.useContext(fi),h=c[c.length-1],f=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",b=h&&h.route;{let F=b&&b.path||"";DT(g,!b||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=ta(),S;if(e){let F=typeof e=="string"?Rl(e):e;ht(y==="/"||((B=F.pathname)==null?void 0:B.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=w;let A=S.pathname||"/",P=A;if(y!=="/"){let F=y.replace(/^\//,"").split("/");P="/"+A.replace(/^\//,"").split("/").slice(F.length).join("/")}let k=!l&&n&&n.matches&&n.matches.length>0?n.matches:ET(t,{pathname:P});Ri(b||k!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ri(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=l4(k&&k.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:$r([y,a.encodeLocation?a.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:$r([y,a.encodeLocation?a.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),c,n,i);return e&&R?_.createElement(Bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},R):R}function r4(){let t=f4(),e=WI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:l},"ErrorBoundary")," or"," ",_.createElement("code",{style:l},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:a},n):null,c)}var s4=_.createElement(r4,null),a4=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_.createElement(fi.Provider,{value:this.props.routeContext},_.createElement(Cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function o4({routeContext:t,match:e,children:n}){let i=_.useContext(jl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(fi.Provider,{value:t},n)}function l4(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let f=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ht(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,h=-1;if(n)for(let f=0;f<a.length;f++){let g=a[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:y,errors:b}=n,w=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,g,y)=>{let b,w=!1,S=null,A=null;n&&(b=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||s4,c&&(h<0&&y===0?(DT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,A=null):h===y&&(w=!0,A=g.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,y+1)),k=()=>{let R;return b?R=S:w?R=A:g.route.Component?R=_.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=f,_.createElement(o4,{match:g,routeContext:{outlet:f,matches:P,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?_.createElement(a4,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:k(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):k()},null)}function Ry(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c4(t){let e=_.useContext(jl);return ht(e,Ry(t)),e}function u4(t){let e=_.useContext(Ff);return ht(e,Ry(t)),e}function d4(t){let e=_.useContext(fi);return ht(e,Ry(t)),e}function jy(t){let e=d4(t),n=e.matches[e.matches.length-1];return ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function h4(){return jy("useRouteId")}function f4(){var i;let t=_.useContext(Cy),e=u4("useRouteError"),n=jy("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function m4(){let{router:t}=c4("useNavigate"),e=jy("useNavigate"),n=_.useRef(!1);return RT(()=>{n.current=!0}),_.useCallback(async(a,l={})=>{Ri(n.current,CT),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Z1={};function DT(t,e,n){!e&&!Z1[t]&&(Z1[t]=!0,Ri(!1,n))}_.memo(p4);function p4({routes:t,future:e,state:n}){return IT(t,void 0,n,e)}function g4({to:t,replace:e,state:n,relative:i}){ht(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=_.useContext(ki);Ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=_.useContext(fi),{pathname:c}=ta(),h=or(),f=Ny(t,Ay(l),c,i==="path"),g=JSON.stringify(f);return _.useEffect(()=>{h(JSON.parse(g),{replace:e,state:n,relative:i})},[h,g,i,e,n]),null}function y4(t){return n4(t.context)}function zn(t){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function v4({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){ht(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=_.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Rl(n));let{pathname:f="/",search:g="",hash:y="",state:b=null,key:w="default"}=n,S=_.useMemo(()=>{let A=Wr(f,c);return A==null?null:{location:{pathname:A,search:g,hash:y,state:b,key:w},navigationType:i}},[c,f,g,y,b,w,i]);return Ri(S!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:_.createElement(ki.Provider,{value:h},_.createElement(Bu.Provider,{children:e,value:S}))}function x4({children:t,location:e}){return i4(x0(t),e)}function x0(t,e=[]){let n=[];return _.Children.forEach(t,(i,a)=>{if(!_.isValidElement(i))return;let l=[...e,a];if(i.type===_.Fragment){n.push.apply(n,x0(i.props.children,l));return}ht(i.type===zn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=x0(i.props.children,l)),n.push(c)}),n}var zh="get",Hh="application/x-www-form-urlencoded";function zf(t){return t!=null&&typeof t.tagName=="string"}function b4(t){return zf(t)&&t.tagName.toLowerCase()==="button"}function w4(t){return zf(t)&&t.tagName.toLowerCase()==="form"}function _4(t){return zf(t)&&t.tagName.toLowerCase()==="input"}function E4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function T4(t,e){return t.button===0&&(!e||e==="_self")&&!E4(t)}var Nh=null;function S4(){if(Nh===null)try{new FormData(document.createElement("form"),0),Nh=!1}catch{Nh=!0}return Nh}var A4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vg(t){return t!=null&&!A4.has(t)?(Ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hh}"`),null):t}function N4(t,e){let n,i,a,l,c;if(w4(t)){let h=t.getAttribute("action");i=h?Wr(h,e):null,n=t.getAttribute("method")||zh,a=Vg(t.getAttribute("enctype"))||Hh,l=new FormData(t)}else if(b4(t)||_4(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?Wr(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||zh,a=Vg(t.getAttribute("formenctype"))||Vg(h.getAttribute("enctype"))||Hh,l=new FormData(h,t),!S4()){let{name:g,type:y,value:b}=t;if(y==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,b)}}else{if(zf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zh,i=null,a=Hh,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}function Iy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function C4(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function R4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function j4(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await C4(l,n);return c.links?c.links():[]}return[]}));return M4(i.flat(1).filter(R4).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function J1(t,e,n,i,a,l){let c=(f,g)=>n[g]?f.route.id!==n[g].route.id:!0,h=(f,g)=>{var y;return n[g].pathname!==f.pathname||((y=n[g].route.path)==null?void 0:y.endsWith("*"))&&n[g].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,g)=>c(f,g)||h(f,g)):l==="data"?e.filter((f,g)=>{var b;let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function I4(t,e,{includeHydrateFallback:n}={}){return D4(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function D4(t){return[...new Set(t)]}function k4(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function M4(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(k4(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}var P4=new Set([100,101,204,205]);function O4(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Wr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function kT(){let t=_.useContext(jl);return Iy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function V4(){let t=_.useContext(Ff);return Iy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Dy=_.createContext(void 0);Dy.displayName="FrameworkContext";function MT(){let t=_.useContext(Dy);return Iy(t,"You must render this element inside a <HydratedRouter> element"),t}function L4(t,e){let n=_.useContext(Dy),[i,a]=_.useState(!1),[l,c]=_.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:y,onTouchStart:b}=e,w=_.useRef(null);_.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let P=R=>{R.forEach(B=>{c(B.isIntersecting)})},k=new IntersectionObserver(P,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[t]),_.useEffect(()=>{if(i){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[i]);let S=()=>{a(!0)},A=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Qc(h,S),onBlur:Qc(f,A),onMouseEnter:Qc(g,S),onMouseLeave:Qc(y,A),onTouchStart:Qc(b,S)}]:[!1,w,{}]}function Qc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function U4({page:t,...e}){let{router:n}=kT(),i=_.useMemo(()=>ET(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?_.createElement(F4,{page:t,matches:i,...e}):null}function B4(t){let{manifest:e,routeModules:n}=MT(),[i,a]=_.useState([]);return _.useEffect(()=>{let l=!1;return j4(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function F4({page:t,matches:e,...n}){let i=ta(),{manifest:a,routeModules:l}=MT(),{basename:c}=kT(),{loaderData:h,matches:f}=V4(),g=_.useMemo(()=>J1(t,e,f,a,i,"data"),[t,e,f,a,i]),y=_.useMemo(()=>J1(t,e,f,a,i,"assets"),[t,e,f,a,i]),b=_.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let A=new Set,P=!1;if(e.forEach(R=>{var F;let B=a.routes[R.route.id];!B||!B.hasLoader||(!g.some(te=>te.route.id===R.route.id)&&R.route.id in h&&((F=l[R.route.id])!=null&&F.shouldRevalidate)||B.hasClientLoader?P=!0:A.add(R.route.id))}),A.size===0)return[];let k=O4(t,c);return P&&A.size>0&&k.searchParams.set("_routes",e.filter(R=>A.has(R.route.id)).map(R=>R.route.id).join(",")),[k.pathname+k.search]},[c,h,i,a,g,e,t,l]),w=_.useMemo(()=>I4(y,a),[y,a]),S=B4(y);return _.createElement(_.Fragment,null,b.map(A=>_.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),w.map(A=>_.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),S.map(({key:A,link:P})=>_.createElement("link",{key:A,...P})))}function z4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PT&&(window.__reactRouterVersion="7.5.1")}catch{}function H4({basename:t,children:e,window:n}){let i=_.useRef();i.current==null&&(i.current=NI({window:n,v5Compat:!0}));let a=i.current,[l,c]=_.useState({action:a.action,location:a.location}),h=_.useCallback(f=>{_.startTransition(()=>c(f))},[c]);return _.useLayoutEffect(()=>a.listen(h),[a,h]),_.createElement(v4,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var OT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=_.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:f,to:g,preventScrollReset:y,viewTransition:b,...w},S){let{basename:A}=_.useContext(ki),P=typeof g=="string"&&OT.test(g),k,R=!1;if(typeof g=="string"&&P&&(k=g,PT))try{let j=new URL(window.location.href),M=g.startsWith("//")?new URL(j.protocol+g):new URL(g),L=Wr(M.pathname,A);M.origin===j.origin&&L!=null?g=L+M.search+M.hash:R=!0}catch{Ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=JI(g,{relative:a}),[F,te,W]=L4(i,w),re=G4(g,{replace:c,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:b});function D(j){e&&e(j),j.defaultPrevented||re(j)}let C=_.createElement("a",{...w,...W,href:k||B,onClick:R||l?e:D,ref:z4(S,te),target:f,"data-discover":!P&&n==="render"?"true":void 0});return F&&!P?_.createElement(_.Fragment,null,C,_.createElement(U4,{page:B})):C});Et.displayName="Link";var b0=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:f,...g},y){let b=Fu(c,{relative:g.relative}),w=ta(),S=_.useContext(Ff),{navigator:A,basename:P}=_.useContext(ki),k=S!=null&&X4(b)&&h===!0,R=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,B=w.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(B=B.toLowerCase(),F=F?F.toLowerCase():null,R=R.toLowerCase()),F&&P&&(F=Wr(F,P)||F);const te=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let W=B===R||!a&&B.startsWith(R)&&B.charAt(te)==="/",re=F!=null&&(F===R||!a&&F.startsWith(R)&&F.charAt(R.length)==="/"),D={isActive:W,isPending:re,isTransitioning:k},C=W?e:void 0,j;typeof i=="function"?j=i(D):j=[i,W?"active":null,re?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(D):l;return _.createElement(Et,{...g,"aria-current":C,className:j,ref:y,style:M,to:c,viewTransition:h},typeof f=="function"?f(D):f)});b0.displayName="NavLink";var q4=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=zh,action:h,onSubmit:f,relative:g,preventScrollReset:y,viewTransition:b,...w},S)=>{let A=W4(),P=Q4(h,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",R=typeof h=="string"&&OT.test(h),B=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let te=F.nativeEvent.submitter,W=(te==null?void 0:te.getAttribute("formmethod"))||c;A(te||F.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:b})};return _.createElement("form",{ref:S,method:k,action:P,onSubmit:i?f:B,...w,"data-discover":!R&&t==="render"?"true":void 0})});q4.displayName="Form";function $4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VT(t){let e=_.useContext(jl);return ht(e,$4(t)),e}function G4(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let h=or(),f=ta(),g=Fu(t,{relative:l});return _.useCallback(y=>{if(T4(y,e)){y.preventDefault();let b=n!==void 0?n:bu(f)===bu(g);h(t,{replace:b,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[f,h,g,n,i,e,t,a,l,c])}var K4=0,Y4=()=>`__${String(++K4)}__`;function W4(){let{router:t}=VT("useSubmit"),{basename:e}=_.useContext(ki),n=h4();return _.useCallback(async(i,a={})=>{let{action:l,method:c,encType:h,formData:f,body:g}=N4(i,e);if(a.navigate===!1){let y=a.fetcherKey||Y4();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function Q4(t,{relative:e}={}){let{basename:n}=_.useContext(ki),i=_.useContext(fi);ht(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Fu(t||".",{relative:e})},c=ta();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:$r([n,l.pathname])),bu(l)}function X4(t,e={}){let n=_.useContext(NT);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=VT("useViewTransitionState"),a=Fu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Wr(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Wr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return rf(a.pathname,c)!=null||rf(a.pathname,l)!=null}new TextEncoder;[...P4];var Z4=_T(),J4=Object.defineProperty,e5=(t,e,n)=>e in t?J4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lg=(t,e,n)=>(e5(t,typeof e!="symbol"?e+"":e,n),n);let t5=class{constructor(){Lg(this,"current",this.detect()),Lg(this,"handoffState","pending"),Lg(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Xa=new t5;function Hf(t){var e,n;return Xa.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function qf(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function na(){let t=[],e={addEventListener(n,i,a,l){return n.addEventListener(i,a,l),e.add(()=>n.removeEventListener(i,a,l))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let i=setTimeout(...n);return e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return qf(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,a){let l=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:a}),this.add(()=>{Object.assign(n.style,{[i]:l})})},group(n){let i=na();return n(i),this.add(()=>i.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let a of t.splice(i,1))a()}},dispose(){for(let n of t.splice(0))n()}};return e}function ky(){let[t]=_.useState(na);return _.useEffect(()=>()=>t.dispose(),[t]),t}let _n=(t,e)=>{Xa.isServer?_.useEffect(t,e):_.useLayoutEffect(t,e)};function ao(t){let e=_.useRef(t);return _n(()=>{e.current=t},[t]),e}let gt=function(t){let e=ao(t);return Ee.useCallback((...n)=>e.current(...n),[e])},n5=_.createContext(void 0);function i5(){return _.useContext(n5)}function w0(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function $s(t,e,...n){if(t in e){let a=e[t];return typeof a=="function"?a(...n):a}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,$s),i}var sf=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(sf||{}),Vs=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Vs||{});function mi(){let t=s5();return _.useCallback(e=>r5({mergeRefs:t,...e}),[t])}function r5({ourProps:t,theirProps:e,slot:n,defaultTag:i,features:a,visible:l=!0,name:c,mergeRefs:h}){h=h??a5;let f=LT(e,t);if(l)return Ch(f,n,i,c,h);let g=a??0;if(g&2){let{static:y=!1,...b}=f;if(y)return Ch(b,n,i,c,h)}if(g&1){let{unmount:y=!0,...b}=f;return $s(y?0:1,{0(){return null},1(){return Ch({...b,hidden:!0,style:{display:"none"}},n,i,c,h)}})}return Ch(f,n,i,c,h)}function Ch(t,e={},n,i,a){let{as:l=n,children:c,refName:h="ref",...f}=Ug(t,["unmount","static"]),g=t.ref!==void 0?{[h]:t.ref}:{},y=typeof c=="function"?c(e):c;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(e)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let b={};if(e){let w=!1,S=[];for(let[A,P]of Object.entries(e))typeof P=="boolean"&&(w=!0),P===!0&&S.push(A.replace(/([A-Z])/g,k=>`-${k.toLowerCase()}`));if(w){b["data-headlessui-state"]=S.join(" ");for(let A of S)b[`data-${A}`]=""}}if(l===_.Fragment&&(Object.keys(Fa(f)).length>0||Object.keys(Fa(b)).length>0))if(!_.isValidElement(y)||Array.isArray(y)&&y.length>1){if(Object.keys(Fa(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Fa(f)).concat(Object.keys(Fa(b))).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`))}else{let w=y.props,S=w==null?void 0:w.className,A=typeof S=="function"?(...R)=>w0(S(...R),f.className):w0(S,f.className),P=A?{className:A}:{},k=LT(y.props,Fa(Ug(f,["ref"])));for(let R in b)R in k&&delete b[R];return _.cloneElement(y,Object.assign({},k,b,g,{ref:a(o5(y),g.ref)},P))}return _.createElement(l,Object.assign({},Ug(f,["ref"]),l!==_.Fragment&&g,l!==_.Fragment&&b),y)}function s5(){let t=_.useRef([]),e=_.useCallback(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)},[]);return(...n)=>{if(!n.every(i=>i==null))return t.current=n,e}}function a5(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function LT(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let a in i)a.startsWith("on")&&typeof i[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(i[a])):e[a]=i[a];if(e.disabled||e["aria-disabled"])for(let i in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(n[i]=[a=>{var l;return(l=a==null?void 0:a.preventDefault)==null?void 0:l.call(a)}]);for(let i in n)Object.assign(e,{[i](a,...l){let c=n[i];for(let h of c){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;h(a,...l)}}});return e}function Dn(t){var e;return Object.assign(_.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Fa(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Ug(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function o5(t){return Ee.version.split(".")[0]>="19"?t.props.ref:t.ref}let l5="span";var af=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(af||{});function c5(t,e){var n;let{features:i=1,...a}=t,l={ref:e,"aria-hidden":(i&2)===2?!0:(n=a["aria-hidden"])!=null?n:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return mi()({ourProps:l,theirProps:a,slot:{},defaultTag:l5,name:"Hidden"})}let _0=Dn(c5),UT=Symbol();function u5(t,e=!0){return Object.assign(t,{[UT]:e})}function lr(...t){let e=_.useRef(t);_.useEffect(()=>{e.current=t},[t]);let n=gt(i=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(i):a.current=i)});return t.every(i=>i==null||(i==null?void 0:i[UT]))?void 0:n}let My=_.createContext(null);My.displayName="DescriptionContext";function BT(){let t=_.useContext(My);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,BT),e}return t}function d5(){let[t,e]=_.useState([]);return[t.length>0?t.join(" "):void 0,_.useMemo(()=>function(n){let i=gt(l=>(e(c=>[...c,l]),()=>e(c=>{let h=c.slice(),f=h.indexOf(l);return f!==-1&&h.splice(f,1),h}))),a=_.useMemo(()=>({register:i,slot:n.slot,name:n.name,props:n.props,value:n.value}),[i,n.slot,n.name,n.props,n.value]);return Ee.createElement(My.Provider,{value:a},n.children)},[e])]}let h5="p";function f5(t,e){let n=_.useId(),i=i5(),{id:a=`headlessui-description-${n}`,...l}=t,c=BT(),h=lr(e);_n(()=>c.register(a),[a,c.register]);let f=i||!1,g=_.useMemo(()=>({...c.slot,disabled:f}),[c.slot,f]),y={ref:h,...c.props,id:a};return mi()({ourProps:y,theirProps:l,slot:g,defaultTag:h5,name:c.name||"Description"})}let m5=Dn(f5),p5=Object.assign(m5,{});var FT=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(FT||{});let g5=_.createContext(()=>{});function y5({value:t,children:e}){return Ee.createElement(g5.Provider,{value:t},e)}let v5=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function zT(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(a){return i.add(a),()=>i.delete(a)},dispatch(a,...l){let c=e[a].call(n,...l);c&&(n=c,i.forEach(h=>h()))}}}function HT(t){return _.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let x5=new v5(()=>zT(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function Dl(t,e){let n=x5.get(e),i=_.useId(),a=HT(n);if(_n(()=>{if(t)return n.dispatch("ADD",i),()=>n.dispatch("REMOVE",i)},[n,t]),!t)return!1;let l=a.indexOf(i),c=a.length;return l===-1&&(l=c,c+=1),l===c-1}let E0=new Map,lu=new Map;function e_(t){var e;let n=(e=lu.get(t))!=null?e:0;return lu.set(t,n+1),n!==0?()=>t_(t):(E0.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>t_(t))}function t_(t){var e;let n=(e=lu.get(t))!=null?e:1;if(n===1?lu.delete(t):lu.set(t,n-1),n!==1)return;let i=E0.get(t);i&&(i["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",i["aria-hidden"]),t.inert=i.inert,E0.delete(t))}function b5(t,{allowed:e,disallowed:n}={}){let i=Dl(t,"inert-others");_n(()=>{var a,l;if(!i)return;let c=na();for(let f of(a=n==null?void 0:n())!=null?a:[])f&&c.add(e_(f));let h=(l=e==null?void 0:e())!=null?l:[];for(let f of h){if(!f)continue;let g=Hf(f);if(!g)continue;let y=f.parentElement;for(;y&&y!==g.body;){for(let b of y.children)h.some(w=>b.contains(w))||c.add(e_(b));y=y.parentElement}}return c.dispose},[i,e,n])}function w5(t,e,n){let i=ao(a=>{let l=a.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&n()});_.useEffect(()=>{if(!t)return;let a=e===null?null:e instanceof HTMLElement?e:e.current;if(!a)return;let l=na();if(typeof ResizeObserver<"u"){let c=new ResizeObserver(()=>i.current(a));c.observe(a),l.add(()=>c.disconnect())}if(typeof IntersectionObserver<"u"){let c=new IntersectionObserver(()=>i.current(a));c.observe(a),l.add(()=>c.disconnect())}return()=>l.dispose()},[e,i,t])}let of=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),_5=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ur=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Ur||{}),T0=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(T0||{}),E5=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(E5||{});function T5(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(of)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function S5(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(_5)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var qT=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(qT||{});function A5(t,e=0){var n;return t===((n=Hf(t))==null?void 0:n.body)?!1:$s(e,{0(){return t.matches(of)},1(){let i=t;for(;i!==null;){if(i.matches(of))return!0;i=i.parentElement}return!1}})}var N5=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(N5||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Gr(t){t==null||t.focus({preventScroll:!0})}let C5=["textarea","input"].join(",");function R5(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,C5))!=null?n:!1}function j5(t,e=n=>n){return t.slice().sort((n,i)=>{let a=e(n),l=e(i);if(a===null||l===null)return 0;let c=a.compareDocumentPosition(l);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function cu(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:a=[]}={}){let l=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,c=Array.isArray(t)?n?j5(t):t:e&64?S5(t):T5(t);a.length>0&&c.length>1&&(c=c.filter(S=>!a.some(A=>A!=null&&"current"in A?(A==null?void 0:A.current)===S:A===S))),i=i??l.activeElement;let h=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=e&32?{preventScroll:!0}:{},y=0,b=c.length,w;do{if(y>=b||y+b<=0)return 0;let S=f+y;if(e&16)S=(S+b)%b;else{if(S<0)return 3;if(S>=b)return 1}w=c[S],w==null||w.focus(g),y+=h}while(w!==l.activeElement);return e&6&&R5(w)&&w.select(),2}function $T(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function I5(){return/Android/gi.test(window.navigator.userAgent)}function D5(){return $T()||I5()}function Xc(t,e,n,i){let a=ao(n);_.useEffect(()=>{if(!t)return;function l(c){a.current(c)}return document.addEventListener(e,l,i),()=>document.removeEventListener(e,l,i)},[t,e,i])}function GT(t,e,n,i){let a=ao(n);_.useEffect(()=>{if(!t)return;function l(c){a.current(c)}return window.addEventListener(e,l,i),()=>window.removeEventListener(e,l,i)},[t,e,i])}const n_=30;function k5(t,e,n){let i=Dl(t,"outside-click"),a=ao(n),l=_.useCallback(function(f,g){if(f.defaultPrevented)return;let y=g(f);if(y===null||!y.getRootNode().contains(y)||!y.isConnected)return;let b=function w(S){return typeof S=="function"?w(S()):Array.isArray(S)||S instanceof Set?S:[S]}(e);for(let w of b)if(w!==null&&(w.contains(y)||f.composed&&f.composedPath().includes(w)))return;return!A5(y,qT.Loose)&&y.tabIndex!==-1&&f.preventDefault(),a.current(f,y)},[a,e]),c=_.useRef(null);Xc(i,"pointerdown",f=>{var g,y;c.current=((y=(g=f.composedPath)==null?void 0:g.call(f))==null?void 0:y[0])||f.target},!0),Xc(i,"mousedown",f=>{var g,y;c.current=((y=(g=f.composedPath)==null?void 0:g.call(f))==null?void 0:y[0])||f.target},!0),Xc(i,"click",f=>{D5()||c.current&&(l(f,()=>c.current),c.current=null)},!0);let h=_.useRef({x:0,y:0});Xc(i,"touchstart",f=>{h.current.x=f.touches[0].clientX,h.current.y=f.touches[0].clientY},!0),Xc(i,"touchend",f=>{let g={x:f.changedTouches[0].clientX,y:f.changedTouches[0].clientY};if(!(Math.abs(g.x-h.current.x)>=n_||Math.abs(g.y-h.current.y)>=n_))return l(f,()=>f.target instanceof HTMLElement?f.target:null)},!0),GT(i,"blur",f=>l(f,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function $f(...t){return _.useMemo(()=>Hf(...t),[...t])}function KT(t,e,n,i){let a=ao(n);_.useEffect(()=>{t=t??window;function l(c){a.current(c)}return t.addEventListener(e,l,i),()=>t.removeEventListener(e,l,i)},[t,e,i])}function M5(){let t;return{before({doc:e}){var n;let i=e.documentElement,a=(n=e.defaultView)!=null?n:window;t=Math.max(0,a.innerWidth-i.clientWidth)},after({doc:e,d:n}){let i=e.documentElement,a=Math.max(0,i.clientWidth-i.offsetWidth),l=Math.max(0,t-a);n.style(i,"paddingRight",`${l}px`)}}}function P5(){return $T()?{before({doc:t,d:e,meta:n}){function i(a){return n.containers.flatMap(l=>l()).some(l=>l.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let h=na();h.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>h.dispose()))}let l=(a=window.scrollY)!=null?a:window.pageYOffset,c=null;e.addEventListener(t,"click",h=>{if(h.target instanceof HTMLElement)try{let f=h.target.closest("a");if(!f)return;let{hash:g}=new URL(f.href),y=t.querySelector(g);y&&!i(y)&&(c=y)}catch{}},!0),e.addEventListener(t,"touchstart",h=>{if(h.target instanceof HTMLElement)if(i(h.target)){let f=h.target;for(;f.parentElement&&i(f.parentElement);)f=f.parentElement;e.style(f,"overscrollBehavior","contain")}else e.style(h.target,"touchAction","none")}),e.addEventListener(t,"touchmove",h=>{if(h.target instanceof HTMLElement){if(h.target.tagName==="INPUT")return;if(i(h.target)){let f=h.target;for(;f.parentElement&&f.dataset.headlessuiPortal!==""&&!(f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth);)f=f.parentElement;f.dataset.headlessuiPortal===""&&h.preventDefault()}else h.preventDefault()}},{passive:!1}),e.add(()=>{var h;let f=(h=window.scrollY)!=null?h:window.pageYOffset;l!==f&&window.scrollTo(0,l),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function O5(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function V5(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let $a=zT(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:na(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:V5(n)},a=[P5(),M5(),O5()];a.forEach(({before:l})=>l==null?void 0:l(i)),a.forEach(({after:l})=>l==null?void 0:l(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});$a.subscribe(()=>{let t=$a.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",a=n.count!==0;(a&&!i||!a&&i)&&$a.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&$a.dispatch("TEARDOWN",n)}});function L5(t,e,n=()=>({containers:[]})){let i=HT($a),a=e?i.get(e):void 0,l=a?a.count>0:!1;return _n(()=>{if(!(!e||!t))return $a.dispatch("PUSH",e,n),()=>$a.dispatch("POP",e,n)},[t,e]),l}function U5(t,e,n=()=>[document.body]){let i=Dl(t,"scroll-lock");L5(i,e,a=>{var l;return{containers:[...(l=a.containers)!=null?l:[],n]}})}function B5(t=0){let[e,n]=_.useState(t),i=_.useCallback(f=>n(f),[e]),a=_.useCallback(f=>n(g=>g|f),[e]),l=_.useCallback(f=>(e&f)===f,[e]),c=_.useCallback(f=>n(g=>g&~f),[n]),h=_.useCallback(f=>n(g=>g^f),[n]);return{flags:e,setFlag:i,addFlag:a,hasFlag:l,removeFlag:c,toggleFlag:h}}var F5={},i_,r_;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((i_=process==null?void 0:F5)==null?void 0:i_.NODE_ENV)==="test"&&typeof((r_=Element==null?void 0:Element.prototype)==null?void 0:r_.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var z5=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(z5||{});function H5(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function q5(t,e,n,i){let[a,l]=_.useState(n),{hasFlag:c,addFlag:h,removeFlag:f}=B5(t&&a?3:0),g=_.useRef(!1),y=_.useRef(!1),b=ky();return _n(()=>{var w;if(t){if(n&&l(!0),!e){n&&h(3);return}return(w=i==null?void 0:i.start)==null||w.call(i,n),$5(e,{inFlight:g,prepare(){y.current?y.current=!1:y.current=g.current,g.current=!0,!y.current&&(n?(h(3),f(4)):(h(4),f(2)))},run(){y.current?n?(f(3),h(4)):(f(4),h(3)):n?f(1):h(1)},done(){var S;y.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(g.current=!1,f(7),n||l(!1),(S=i==null?void 0:i.end)==null||S.call(i,n))}})}},[t,n,e,b]),t?[a,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function $5(t,{prepare:e,run:n,done:i,inFlight:a}){let l=na();return K5(t,{prepare:e,inFlight:a}),l.nextFrame(()=>{n(),l.requestAnimationFrame(()=>{l.add(G5(t,i))})}),l.dispose}function G5(t,e){var n,i;let a=na();if(!t)return a.dispose;let l=!1;a.add(()=>{l=!0});let c=(i=(n=t.getAnimations)==null?void 0:n.call(t).filter(h=>h instanceof CSSTransition))!=null?i:[];return c.length===0?(e(),a.dispose):(Promise.allSettled(c.map(h=>h.finished)).then(()=>{l||e()}),a.dispose)}function K5(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let i=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=i}function Py(t,e){let n=_.useRef([]),i=gt(t);_.useEffect(()=>{let a=[...n.current];for(let[l,c]of e.entries())if(n.current[l]!==c){let h=i(e,a);return n.current=e,h}},[i,...e])}let Gf=_.createContext(null);Gf.displayName="OpenClosedContext";var Si=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Si||{});function Kf(){return _.useContext(Gf)}function Y5({value:t,children:e}){return Ee.createElement(Gf.Provider,{value:t},e)}function W5({children:t}){return Ee.createElement(Gf.Provider,{value:null},t)}function Q5(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ms=[];Q5(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||Ms[0]===e.target)return;let n=e.target;n=n.closest(of),Ms.unshift(n??e.target),Ms=Ms.filter(i=>i!=null&&i.isConnected),Ms.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function YT(t){let e=gt(t),n=_.useRef(!1);_.useEffect(()=>(n.current=!1,()=>{n.current=!0,qf(()=>{n.current&&e()})}),[e])}function X5(){let t=typeof document>"u";return"useSyncExternalStore"in F1?(e=>e.useSyncExternalStore)(F1)(()=>()=>{},()=>!1,()=>!t):!1}function zu(){let t=X5(),[e,n]=_.useState(Xa.isHandoffComplete);return e&&Xa.isHandoffComplete===!1&&n(!1),_.useEffect(()=>{e!==!0&&n(!0)},[e]),_.useEffect(()=>Xa.handoff(),[]),t?!1:e}let WT=_.createContext(!1);function Z5(){return _.useContext(WT)}function s_(t){return Ee.createElement(WT.Provider,{value:t.force},t.children)}function J5(t){let e=Z5(),n=_.useContext(XT),[i,a]=_.useState(()=>{var l;if(!e&&n!==null)return(l=n.current)!=null?l:null;if(Xa.isServer)return null;let c=t==null?void 0:t.getElementById("headlessui-portal-root");if(c)return c;if(t===null)return null;let h=t.createElement("div");return h.setAttribute("id","headlessui-portal-root"),t.body.appendChild(h)});return _.useEffect(()=>{i!==null&&(t!=null&&t.body.contains(i)||t==null||t.body.appendChild(i))},[i,t]),_.useEffect(()=>{e||n!==null&&a(n.current)},[n,a,e]),i}let QT=_.Fragment,eD=Dn(function(t,e){let{ownerDocument:n=null,...i}=t,a=_.useRef(null),l=lr(u5(S=>{a.current=S}),e),c=$f(a),h=n??c,f=J5(h),[g]=_.useState(()=>{var S;return Xa.isServer?null:(S=h==null?void 0:h.createElement("div"))!=null?S:null}),y=_.useContext(S0),b=zu();_n(()=>{!f||!g||f.contains(g)||(g.setAttribute("data-headlessui-portal",""),f.appendChild(g))},[f,g]),_n(()=>{if(g&&y)return y.register(g)},[y,g]),YT(()=>{var S;!f||!g||(g instanceof Node&&f.contains(g)&&f.removeChild(g),f.childNodes.length<=0&&((S=f.parentElement)==null||S.removeChild(f)))});let w=mi();return b?!f||!g?null:Z4.createPortal(w({ourProps:{ref:l},theirProps:i,slot:{},defaultTag:QT,name:"Portal"}),g):null});function tD(t,e){let n=lr(e),{enabled:i=!0,ownerDocument:a,...l}=t,c=mi();return i?Ee.createElement(eD,{...l,ownerDocument:a,ref:n}):c({ourProps:{ref:n},theirProps:l,slot:{},defaultTag:QT,name:"Portal"})}let nD=_.Fragment,XT=_.createContext(null);function iD(t,e){let{target:n,...i}=t,a={ref:lr(e)},l=mi();return Ee.createElement(XT.Provider,{value:n},l({ourProps:a,theirProps:i,defaultTag:nD,name:"Popover.Group"}))}let S0=_.createContext(null);function rD(){let t=_.useContext(S0),e=_.useRef([]),n=gt(l=>(e.current.push(l),t&&t.register(l),()=>i(l))),i=gt(l=>{let c=e.current.indexOf(l);c!==-1&&e.current.splice(c,1),t&&t.unregister(l)}),a=_.useMemo(()=>({register:n,unregister:i,portals:e}),[n,i,e]);return[e,_.useMemo(()=>function({children:l}){return Ee.createElement(S0.Provider,{value:a},l)},[a])]}let sD=Dn(tD),ZT=Dn(iD),aD=Object.assign(sD,{Group:ZT});function oD(t,e=typeof document<"u"?document.defaultView:null,n){let i=Dl(t,"escape");KT(e,"keydown",a=>{i&&(a.defaultPrevented||a.key===FT.Escape&&n(a))})}function lD(){var t;let[e]=_.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,i]=_.useState((t=e==null?void 0:e.matches)!=null?t:!1);return _n(()=>{if(!e)return;function a(l){i(l.matches)}return e.addEventListener("change",a),()=>e.removeEventListener("change",a)},[e]),n}function cD({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let i=$f(n),a=gt(()=>{var l,c;let h=[];for(let f of t)f!==null&&(f instanceof HTMLElement?h.push(f):"current"in f&&f.current instanceof HTMLElement&&h.push(f.current));if(e!=null&&e.current)for(let f of e.current)h.push(f);for(let f of(l=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(n&&(f.contains(n)||f.contains((c=n==null?void 0:n.getRootNode())==null?void 0:c.host))||h.some(g=>f.contains(g))||h.push(f));return h});return{resolveContainers:a,contains:gt(l=>a().some(c=>c.contains(l)))}}let JT=_.createContext(null);function a_({children:t,node:e}){let[n,i]=_.useState(null),a=eS(e??n);return Ee.createElement(JT.Provider,{value:a},t,a===null&&Ee.createElement(_0,{features:af.Hidden,ref:l=>{var c,h;if(l){for(let f of(h=(c=Hf(l))==null?void 0:c.querySelectorAll("html > *, body > *"))!=null?h:[])if(f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f!=null&&f.contains(l)){i(f);break}}}}))}function eS(t=null){var e;return(e=_.useContext(JT))!=null?e:t}function Oy(){let t=_.useRef(!1);return _n(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Jc=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Jc||{});function uD(){let t=_.useRef(0);return GT(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function tS(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let dD="div";var qa=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(qa||{});function hD(t,e){let n=_.useRef(null),i=lr(n,e),{initialFocus:a,initialFocusFallback:l,containers:c,features:h=15,...f}=t;zu()||(h=0);let g=$f(n);gD(h,{ownerDocument:g});let y=yD(h,{ownerDocument:g,container:n,initialFocus:a,initialFocusFallback:l});vD(h,{ownerDocument:g,container:n,containers:c,previousActiveElement:y});let b=uD(),w=gt(B=>{let F=n.current;F&&(te=>te())(()=>{$s(b.current,{[Jc.Forwards]:()=>{cu(F,Ur.First,{skipElements:[B.relatedTarget,l]})},[Jc.Backwards]:()=>{cu(F,Ur.Last,{skipElements:[B.relatedTarget,l]})}})})}),S=Dl(!!(h&2),"focus-trap#tab-lock"),A=ky(),P=_.useRef(!1),k={ref:i,onKeyDown(B){B.key=="Tab"&&(P.current=!0,A.requestAnimationFrame(()=>{P.current=!1}))},onBlur(B){if(!(h&4))return;let F=tS(c);n.current instanceof HTMLElement&&F.add(n.current);let te=B.relatedTarget;te instanceof HTMLElement&&te.dataset.headlessuiFocusGuard!=="true"&&(nS(F,te)||(P.current?cu(n.current,$s(b.current,{[Jc.Forwards]:()=>Ur.Next,[Jc.Backwards]:()=>Ur.Previous})|Ur.WrapAround,{relativeTo:B.target}):B.target instanceof HTMLElement&&Gr(B.target)))}},R=mi();return Ee.createElement(Ee.Fragment,null,S&&Ee.createElement(_0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:af.Focusable}),R({ourProps:k,theirProps:f,defaultTag:dD,name:"FocusTrap"}),S&&Ee.createElement(_0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:af.Focusable}))}let fD=Dn(hD),mD=Object.assign(fD,{features:qa});function pD(t=!0){let e=_.useRef(Ms.slice());return Py(([n],[i])=>{i===!0&&n===!1&&qf(()=>{e.current.splice(0)}),i===!1&&n===!0&&(e.current=Ms.slice())},[t,Ms,e]),gt(()=>{var n;return(n=e.current.find(i=>i!=null&&i.isConnected))!=null?n:null})}function gD(t,{ownerDocument:e}){let n=!!(t&8),i=pD(n);Py(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Gr(i())},[n]),YT(()=>{n&&Gr(i())})}function yD(t,{ownerDocument:e,container:n,initialFocus:i,initialFocusFallback:a}){let l=_.useRef(null),c=Dl(!!(t&1),"focus-trap#initial-focus"),h=Oy();return Py(()=>{if(t===0)return;if(!c){a!=null&&a.current&&Gr(a.current);return}let f=n.current;f&&qf(()=>{if(!h.current)return;let g=e==null?void 0:e.activeElement;if(i!=null&&i.current){if((i==null?void 0:i.current)===g){l.current=g;return}}else if(f.contains(g)){l.current=g;return}if(i!=null&&i.current)Gr(i.current);else{if(t&16){if(cu(f,Ur.First|Ur.AutoFocus)!==T0.Error)return}else if(cu(f,Ur.First)!==T0.Error)return;if(a!=null&&a.current&&(Gr(a.current),(e==null?void 0:e.activeElement)===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=e==null?void 0:e.activeElement})},[a,c,t]),l}function vD(t,{ownerDocument:e,container:n,containers:i,previousActiveElement:a}){let l=Oy(),c=!!(t&4);KT(e==null?void 0:e.defaultView,"focus",h=>{if(!c||!l.current)return;let f=tS(i);n.current instanceof HTMLElement&&f.add(n.current);let g=a.current;if(!g)return;let y=h.target;y&&y instanceof HTMLElement?nS(f,y)?(a.current=y,Gr(y)):(h.preventDefault(),h.stopPropagation(),Gr(g)):Gr(a.current)},!0)}function nS(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function iS(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:sS)!==_.Fragment||Ee.Children.count(t.children)===1}let Yf=_.createContext(null);Yf.displayName="TransitionContext";var xD=(t=>(t.Visible="visible",t.Hidden="hidden",t))(xD||{});function bD(){let t=_.useContext(Yf);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function wD(){let t=_.useContext(Wf);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Wf=_.createContext(null);Wf.displayName="NestingContext";function Qf(t){return"children"in t?Qf(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function rS(t,e){let n=ao(t),i=_.useRef([]),a=Oy(),l=ky(),c=gt((S,A=Vs.Hidden)=>{let P=i.current.findIndex(({el:k})=>k===S);P!==-1&&($s(A,{[Vs.Unmount](){i.current.splice(P,1)},[Vs.Hidden](){i.current[P].state="hidden"}}),l.microTask(()=>{var k;!Qf(i)&&a.current&&((k=n.current)==null||k.call(n))}))}),h=gt(S=>{let A=i.current.find(({el:P})=>P===S);return A?A.state!=="visible"&&(A.state="visible"):i.current.push({el:S,state:"visible"}),()=>c(S,Vs.Unmount)}),f=_.useRef([]),g=_.useRef(Promise.resolve()),y=_.useRef({enter:[],leave:[]}),b=gt((S,A,P)=>{f.current.splice(0),e&&(e.chains.current[A]=e.chains.current[A].filter(([k])=>k!==S)),e==null||e.chains.current[A].push([S,new Promise(k=>{f.current.push(k)})]),e==null||e.chains.current[A].push([S,new Promise(k=>{Promise.all(y.current[A].map(([R,B])=>B)).then(()=>k())})]),A==="enter"?g.current=g.current.then(()=>e==null?void 0:e.wait.current).then(()=>P(A)):P(A)}),w=gt((S,A,P)=>{Promise.all(y.current[A].splice(0).map(([k,R])=>R)).then(()=>{var k;(k=f.current.shift())==null||k()}).then(()=>P(A))});return _.useMemo(()=>({children:i,register:h,unregister:c,onStart:b,onStop:w,wait:g,chains:y}),[h,c,i,b,w,y,g])}let sS=_.Fragment,aS=sf.RenderStrategy;function _D(t,e){var n,i;let{transition:a=!0,beforeEnter:l,afterEnter:c,beforeLeave:h,afterLeave:f,enter:g,enterFrom:y,enterTo:b,entered:w,leave:S,leaveFrom:A,leaveTo:P,...k}=t,[R,B]=_.useState(null),F=_.useRef(null),te=iS(t),W=lr(...te?[F,e,B]:e===null?[]:[e]),re=(n=k.unmount)==null||n?Vs.Unmount:Vs.Hidden,{show:D,appear:C,initial:j}=bD(),[M,L]=_.useState(D?"visible":"hidden"),H=wD(),{register:V,unregister:ye}=H;_n(()=>V(F),[V,F]),_n(()=>{if(re===Vs.Hidden&&F.current){if(D&&M!=="visible"){L("visible");return}return $s(M,{hidden:()=>ye(F),visible:()=>V(F)})}},[M,F,V,ye,D,re]);let xe=zu();_n(()=>{if(te&&xe&&M==="visible"&&F.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[F,M,xe,te]);let X=j&&!C,q=C&&D&&j,ne=_.useRef(!1),he=rS(()=>{ne.current||(L("hidden"),ye(F))},H),O=gt(ct=>{ne.current=!0;let Ke=ct?"enter":"leave";he.onStart(F,Ke,Ht=>{Ht==="enter"?l==null||l():Ht==="leave"&&(h==null||h())})}),ee=gt(ct=>{let Ke=ct?"enter":"leave";ne.current=!1,he.onStop(F,Ke,Ht=>{Ht==="enter"?c==null||c():Ht==="leave"&&(f==null||f())}),Ke==="leave"&&!Qf(he)&&(L("hidden"),ye(F))});_.useEffect(()=>{te&&a||(O(D),ee(D))},[D,te,a]);let ue=!(!a||!te||!xe||X),[,ae]=q5(ue,R,D,{start:O,end:ee}),be=Fa({ref:W,className:((i=w0(k.className,q&&g,q&&y,ae.enter&&g,ae.enter&&ae.closed&&y,ae.enter&&!ae.closed&&b,ae.leave&&S,ae.leave&&!ae.closed&&A,ae.leave&&ae.closed&&P,!ae.transition&&D&&w))==null?void 0:i.trim())||void 0,...H5(ae)}),De=0;M==="visible"&&(De|=Si.Open),M==="hidden"&&(De|=Si.Closed),D&&M==="hidden"&&(De|=Si.Opening),!D&&M==="visible"&&(De|=Si.Closing);let Se=mi();return Ee.createElement(Wf.Provider,{value:he},Ee.createElement(Y5,{value:De},Se({ourProps:be,theirProps:k,defaultTag:sS,features:aS,visible:M==="visible",name:"Transition.Child"})))}function ED(t,e){let{show:n,appear:i=!1,unmount:a=!0,...l}=t,c=_.useRef(null),h=iS(t),f=lr(...h?[c,e]:e===null?[]:[e]);zu();let g=Kf();if(n===void 0&&g!==null&&(n=(g&Si.Open)===Si.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[y,b]=_.useState(n?"visible":"hidden"),w=rS(()=>{n||b("hidden")}),[S,A]=_.useState(!0),P=_.useRef([n]);_n(()=>{S!==!1&&P.current[P.current.length-1]!==n&&(P.current.push(n),A(!1))},[P,n]);let k=_.useMemo(()=>({show:n,appear:i,initial:S}),[n,i,S]);_n(()=>{n?b("visible"):!Qf(w)&&c.current!==null&&b("hidden")},[n,w]);let R={unmount:a},B=gt(()=>{var W;S&&A(!1),(W=t.beforeEnter)==null||W.call(t)}),F=gt(()=>{var W;S&&A(!1),(W=t.beforeLeave)==null||W.call(t)}),te=mi();return Ee.createElement(Wf.Provider,{value:w},Ee.createElement(Yf.Provider,{value:k},te({ourProps:{...R,as:_.Fragment,children:Ee.createElement(oS,{ref:f,...R,...l,beforeEnter:B,beforeLeave:F})},theirProps:{},defaultTag:_.Fragment,features:aS,visible:y==="visible",name:"Transition"})))}function TD(t,e){let n=_.useContext(Yf)!==null,i=Kf()!==null;return Ee.createElement(Ee.Fragment,null,!n&&i?Ee.createElement(A0,{ref:e,...t}):Ee.createElement(oS,{ref:e,...t}))}let A0=Dn(ED),oS=Dn(_D),Vy=Dn(TD),lS=Object.assign(A0,{Child:Vy,Root:A0});var SD=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(SD||{}),AD=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(AD||{});let ND={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Ly=_.createContext(null);Ly.displayName="DialogContext";function Xf(t){let e=_.useContext(Ly);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xf),n}return e}function CD(t,e){return $s(e.type,ND,t,e)}let o_=Dn(function(t,e){let n=_.useId(),{id:i=`headlessui-dialog-${n}`,open:a,onClose:l,initialFocus:c,role:h="dialog",autoFocus:f=!0,__demoMode:g=!1,unmount:y=!1,...b}=t,w=_.useRef(!1);h=function(){return h==="dialog"||h==="alertdialog"?h:(w.current||(w.current=!0,console.warn(`Invalid role [${h}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let S=Kf();a===void 0&&S!==null&&(a=(S&Si.Open)===Si.Open);let A=_.useRef(null),P=lr(A,e),k=$f(A),R=a?0:1,[B,F]=_.useReducer(CD,{titleId:null,descriptionId:null,panelRef:_.createRef()}),te=gt(()=>l(!1)),W=gt(ee=>F({type:0,id:ee})),re=zu()?R===0:!1,[D,C]=rD(),j={get current(){var ee;return(ee=B.panelRef.current)!=null?ee:A.current}},M=eS(),{resolveContainers:L}=cD({mainTreeNode:M,portals:D,defaultContainers:[j]}),H=S!==null?(S&Si.Closing)===Si.Closing:!1;b5(g||H?!1:re,{allowed:gt(()=>{var ee,ue;return[(ue=(ee=A.current)==null?void 0:ee.closest("[data-headlessui-portal]"))!=null?ue:null]}),disallowed:gt(()=>{var ee;return[(ee=M==null?void 0:M.closest("body > *:not(#headlessui-portal-root)"))!=null?ee:null]})}),k5(re,L,ee=>{ee.preventDefault(),te()}),oD(re,k==null?void 0:k.defaultView,ee=>{ee.preventDefault(),ee.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),te()}),U5(g||H?!1:re,k,L),w5(re,A,te);let[V,ye]=d5(),xe=_.useMemo(()=>[{dialogState:R,close:te,setTitleId:W,unmount:y},B],[R,B,te,W,y]),X=_.useMemo(()=>({open:R===0}),[R]),q={ref:P,id:i,role:h,tabIndex:-1,"aria-modal":g?void 0:R===0?!0:void 0,"aria-labelledby":B.titleId,"aria-describedby":V,unmount:y},ne=!lD(),he=qa.None;re&&!g&&(he|=qa.RestoreFocus,he|=qa.TabLock,f&&(he|=qa.AutoFocus),ne&&(he|=qa.InitialFocus));let O=mi();return Ee.createElement(W5,null,Ee.createElement(s_,{force:!0},Ee.createElement(aD,null,Ee.createElement(Ly.Provider,{value:xe},Ee.createElement(ZT,{target:A},Ee.createElement(s_,{force:!1},Ee.createElement(ye,{slot:X},Ee.createElement(C,null,Ee.createElement(mD,{initialFocus:c,initialFocusFallback:A,containers:L,features:he},Ee.createElement(y5,{value:te},O({ourProps:q,theirProps:b,slot:X,defaultTag:RD,features:jD,visible:R===0,name:"Dialog"})))))))))))}),RD="div",jD=sf.RenderStrategy|sf.Static;function ID(t,e){let{transition:n=!1,open:i,...a}=t,l=Kf(),c=t.hasOwnProperty("open")||l!==null,h=t.hasOwnProperty("onClose");if(!c&&!h)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!c)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!h)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(i!==void 0||n)&&!a.static?Ee.createElement(a_,null,Ee.createElement(lS,{show:i,transition:n,unmount:a.unmount},Ee.createElement(o_,{ref:e,...a}))):Ee.createElement(a_,null,Ee.createElement(o_,{ref:e,open:i,...a}))}let DD="div";function kD(t,e){let n=_.useId(),{id:i=`headlessui-dialog-panel-${n}`,transition:a=!1,...l}=t,[{dialogState:c,unmount:h},f]=Xf("Dialog.Panel"),g=lr(e,f.panelRef),y=_.useMemo(()=>({open:c===0}),[c]),b=gt(k=>{k.stopPropagation()}),w={ref:g,id:i,onClick:b},S=a?Vy:_.Fragment,A=a?{unmount:h}:{},P=mi();return Ee.createElement(S,{...A},P({ourProps:w,theirProps:l,slot:y,defaultTag:DD,name:"Dialog.Panel"}))}let MD="div";function PD(t,e){let{transition:n=!1,...i}=t,[{dialogState:a,unmount:l}]=Xf("Dialog.Backdrop"),c=_.useMemo(()=>({open:a===0}),[a]),h={ref:e,"aria-hidden":!0},f=n?Vy:_.Fragment,g=n?{unmount:l}:{},y=mi();return Ee.createElement(f,{...g},y({ourProps:h,theirProps:i,slot:c,defaultTag:MD,name:"Dialog.Backdrop"}))}let OD="h2";function VD(t,e){let n=_.useId(),{id:i=`headlessui-dialog-title-${n}`,...a}=t,[{dialogState:l,setTitleId:c}]=Xf("Dialog.Title"),h=lr(e);_.useEffect(()=>(c(i),()=>c(null)),[i,c]);let f=_.useMemo(()=>({open:l===0}),[l]),g={ref:h,id:i};return mi()({ourProps:g,theirProps:a,slot:f,defaultTag:OD,name:"Dialog.Title"})}let LD=Dn(ID),UD=Dn(kD);Dn(PD);let BD=Dn(VD),l_=Object.assign(LD,{Panel:UD,Title:BD,Description:p5});function FD({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const cS=_.forwardRef(FD);function zD({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const c_=_.forwardRef(zD);function HD({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const qD=_.forwardRef(HD);function $D({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const GD=_.forwardRef($D);function KD({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const YD=_.forwardRef(KD);function WD({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Zf=_.forwardRef(WD);function QD({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const XD=_.forwardRef(QD);function ZD({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const JD=_.forwardRef(ZD);function ek({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const tk=_.forwardRef(ek);function nk({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))}const ik=_.forwardRef(nk);function rk({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const sk=_.forwardRef(rk);function ak({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const uS=_.forwardRef(ak);function ok({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const lk=_.forwardRef(ok);function ck({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const uk=_.forwardRef(ck);function dk({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}))}const hk=_.forwardRef(dk);function fk({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const mk=_.forwardRef(fk);function pk({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const gk=_.forwardRef(pk);function yk({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const vk=_.forwardRef(yk),Uy=_.createContext({});function By(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const Fy=typeof window<"u",dS=Fy?_.useLayoutEffect:_.useEffect,Jf=_.createContext(null),zy=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class xk extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=i instanceof HTMLElement&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bk({children:t,isPresent:e,anchorX:n}){const i=_.useId(),a=_.useRef(null),l=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=_.useContext(zy);return _.useInsertionEffect(()=>{const{width:h,height:f,top:g,left:y,right:b}=l.current;if(e||!a.current||!h||!f)return;const w=n==="left"?`left: ${y}`:`right: ${b}`;a.current.dataset.motionPopId=i;const S=document.createElement("style");return c&&(S.nonce=c),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[e]),d.jsx(xk,{isPresent:e,childRef:a,sizeRef:l,children:_.cloneElement(t,{ref:a})})}const wk=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h})=>{const f=By(_k),g=_.useId();let y=!0,b=_.useMemo(()=>(y=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:w=>{f.set(w,!0);for(const S of f.values())if(!S)return;i&&i()},register:w=>(f.set(w,!1),()=>f.delete(w))}),[n,f,i]);return l&&y&&(b={...b}),_.useMemo(()=>{f.forEach((w,S)=>f.set(S,!1))},[n]),_.useEffect(()=>{!n&&!f.size&&i&&i()},[n]),c==="popLayout"&&(t=d.jsx(bk,{isPresent:n,anchorX:h,children:t})),d.jsx(Jf.Provider,{value:b,children:t})};function _k(){return new Map}function hS(t=!0){const e=_.useContext(Jf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=_.useId();_.useEffect(()=>{if(t)return a(l)},[t]);const c=_.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const Rh=t=>t.key||"";function u_(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const Ek=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left"})=>{const[f,g]=hS(c),y=_.useMemo(()=>u_(t),[t]),b=c&&!f?[]:y.map(Rh),w=_.useRef(!0),S=_.useRef(y),A=By(()=>new Map),[P,k]=_.useState(y),[R,B]=_.useState(y);dS(()=>{w.current=!1,S.current=y;for(let W=0;W<R.length;W++){const re=Rh(R[W]);b.includes(re)?A.delete(re):A.get(re)!==!0&&A.set(re,!1)}},[R,b.length,b.join("-")]);const F=[];if(y!==P){let W=[...y];for(let re=0;re<R.length;re++){const D=R[re],C=Rh(D);b.includes(C)||(W.splice(re,0,D),F.push(D))}return l==="wait"&&F.length&&(W=F),B(u_(W)),k(y),null}const{forceRender:te}=_.useContext(Uy);return d.jsx(d.Fragment,{children:R.map(W=>{const re=Rh(W),D=c&&!f?!1:y===R||b.includes(re),C=()=>{if(A.has(re))A.set(re,!0);else return;let j=!0;A.forEach(M=>{M||(j=!1)}),j&&(te==null||te(),B(S.current),c&&(g==null||g()),i&&i())};return d.jsx(wk,{isPresent:D,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:D?void 0:C,anchorX:h,children:W},re)})})};function Hy(t,e){t.indexOf(e)===-1&&t.push(e)}function qy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let fS=()=>{};const N0={useManualTiming:!1};function $y(t){let e;return()=>(e===void 0&&(e=t()),e)}const ci=t=>t,wu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Gy{constructor(){this.subscriptions=[]}add(e){return Hy(this.subscriptions,e),()=>qy(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zi=t=>t*1e3,Ji=t=>t/1e3;function mS(t,e){return e?t*(1e3/e):0}const Tk=$y(()=>window.ScrollTimeline!==void 0);class Sk{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(a=>{if(Tk()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{i.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ak extends Sk{then(e,n){return this.finished.finally(e).then(()=>{})}}const d_={value:null},Ky=t=>Array.isArray(t)&&typeof t[0]=="number",Nk={};function Ck(t,e){const n=$y(t);return()=>Nk[e]??n()}const _u=Ck(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pS=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=t(l/(a-1))+", ";return`linear(${i.substring(0,i.length-2)})`},eu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,C0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eu([0,.65,.55,1]),circOut:eu([.55,0,1,.45]),backIn:eu([.31,.01,.66,-.59]),backOut:eu([.33,1.53,.69,.99])};function gS(t,e){if(t)return typeof t=="function"&&_u()?pS(t,e):Ky(t)?eu(t):Array.isArray(t)?t.map(n=>gS(n,e)||C0.easeOut):C0[t]}function Rk(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeInOut",times:f}={},g=void 0){const y={[e]:n};f&&(y.offset=f);const b=gS(h,a);return Array.isArray(b)&&(y.easing=b),t.animate(y,{delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal",pseudoElement:g})}function Yy(t){return typeof t=="function"&&"applyToOptions"in t}function Wy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const lf=2e4;function Qy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<lf;)e+=n,i=t.next(e);return e>=lf?1/0:e}function jk(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Qy(i),lf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Ji(a)}}function yS(t){return!!(typeof t=="function"&&_u()||!t||typeof t=="string"&&(t in C0||_u())||Ky(t)||Array.isArray(t)&&t.every(yS))}function h_(t,e){t.timeline=e,t.onfinish=null}const jh=["read","resolveKeyframes","update","preRender","render","postRender"];function Ik(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function g(b){c.has(b)&&(y.schedule(b),t()),f++,b(h)}const y={schedule:(b,w=!1,S=!1)=>{const P=S&&a?n:i;return w&&c.add(b),P.has(b)||P.add(b),b},cancel:b=>{i.delete(b),c.delete(b)},process:b=>{if(h=b,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(g),e&&d_.value&&d_.value.frameloop[e].push(f),f=0,n.clear(),a=!1,l&&(l=!1,y.process(b))}};return y}const Dk=40;function vS(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=jh.reduce((R,B)=>(R[B]=Ik(l,e?B:void 0),R),{}),{read:h,resolveKeyframes:f,update:g,preRender:y,render:b,postRender:w}=c,S=()=>{const R=performance.now();n=!1,a.delta=i?1e3/60:Math.max(Math.min(R-a.timestamp,Dk),1),a.timestamp=R,a.isProcessing=!0,h.process(a),f.process(a),g.process(a),y.process(a),b.process(a),w.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(S))},A=()=>{n=!0,i=!0,a.isProcessing||t(S)};return{schedule:jh.reduce((R,B)=>{const F=c[B];return R[B]=(te,W=!1,re=!1)=>(n||A(),F.schedule(te,W,re)),R},{}),cancel:R=>{for(let B=0;B<jh.length;B++)c[jh[B]].cancel(R)},state:a,steps:c}}const{schedule:Xy}=vS(queueMicrotask,!1),{schedule:ot,cancel:Gs,state:nn,steps:Bg}=vS(typeof requestAnimationFrame<"u"?requestAnimationFrame:ci,!0);let qh;function kk(){qh=void 0}const er={now:()=>(qh===void 0&&er.set(nn.isProcessing||N0.useManualTiming?nn.timestamp:performance.now()),qh),set:t=>{qh=t,queueMicrotask(kk)}},Ti={x:!1,y:!1};function xS(){return Ti.x||Ti.y}function Mk(t){return t==="x"||t==="y"?Ti[t]?null:(Ti[t]=!0,()=>{Ti[t]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}function Pk(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=(n==null?void 0:n[t])??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function bS(t,e){const n=Pk(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function f_(t){return!(t.pointerType==="touch"||xS())}function Ok(t,e,n={}){const[i,a,l]=bS(t,n),c=h=>{if(!f_(h))return;const{target:f}=h,g=e(f,h);if(typeof g!="function"||!f)return;const y=b=>{f_(b)&&(g(b),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const wS=(t,e)=>e?t===e?!0:wS(t,e.parentElement):!1,Zy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Vk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Lk(t){return Vk.has(t.tagName)||t.tabIndex!==-1}const tu=new WeakSet;function m_(t){return e=>{e.key==="Enter"&&t(e)}}function Fg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Uk=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=m_(()=>{if(tu.has(n))return;Fg(n,"down");const a=m_(()=>{Fg(n,"up")}),l=()=>Fg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function p_(t){return Zy(t)&&!xS()}function Bk(t,e,n={}){const[i,a,l]=bS(t,n),c=h=>{const f=h.currentTarget;if(!p_(h)||tu.has(f))return;tu.add(f);const g=e(f,h),y=(S,A)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),!(!p_(S)||!tu.has(f))&&(tu.delete(f),typeof g=="function"&&g(S,{success:A}))},b=S=>{y(S,f===window||f===document||n.useGlobalTarget||wS(f,S.target))},w=S=>{y(S,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",w,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),h instanceof HTMLElement&&(h.addEventListener("focus",g=>Uk(g,a)),!Lk(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}const g_=30,Fk=t=>!isNaN(parseFloat(t));class zk{constructor(e,n={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const l=er.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Fk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Gy);const i=this.events[e].add(n);return e==="change"?()=>{i(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>g_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,g_);return mS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Eu(t,e){return new zk(t,e)}const _S=_.createContext({strict:!1}),y_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xl={};for(const t in y_)xl[t]={isEnabled:e=>y_[t].some(n=>!!e[n])};function Hk(t){for(const e in t)xl[e]={...xl[e],...t[e]}}const qk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qk.has(t)}let ES=t=>!cf(t);function $k(t){t&&(ES=e=>e.startsWith("on")?!cf(e):t(e))}try{$k(require("@emotion/is-prop-valid").default)}catch{}function Gk(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(ES(a)||n===!0&&cf(a)||!e&&!cf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}function Kk(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const em=_.createContext({});function tm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Tu(t){return typeof t=="string"||Array.isArray(t)}const Jy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ev=["initial",...Jy];function nm(t){return tm(t.animate)||ev.some(e=>Tu(t[e]))}function TS(t){return!!(nm(t)||t.variants)}function Yk(t,e){if(nm(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Tu(n)?n:void 0,animate:Tu(i)?i:void 0}}return t.inherit!==!1?e:{}}function Wk(t){const{initial:e,animate:n}=Yk(t,_.useContext(em));return _.useMemo(()=>({initial:e,animate:n}),[v_(e),v_(n)])}function v_(t){return Array.isArray(t)?t.join(" "):t}const Qk=Symbol.for("motionComponentSymbol");function cl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Xk(t,e,n){return _.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):cl(n)&&(n.current=i))},[e])}const tv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zk="framerAppearId",SS="data-"+tv(Zk),AS=_.createContext({});function Jk(t,e,n,i,a){var P,k;const{visualElement:l}=_.useContext(em),c=_.useContext(_S),h=_.useContext(Jf),f=_.useContext(zy).reducedMotion,g=_.useRef(null);i=i||c.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const y=g.current,b=_.useContext(AS);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&eM(g.current,n,a,b);const w=_.useRef(!1);_.useInsertionEffect(()=>{y&&w.current&&y.update(n,h)});const S=n[SS],A=_.useRef(!!S&&!((P=window.MotionHandoffIsComplete)!=null&&P.call(window,S))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,S)));return dS(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),Xy.render(y.render),A.current&&y.animationState&&y.animationState.animateChanges())}),_.useEffect(()=>{y&&(!A.current&&y.animationState&&y.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)==null||R.call(window,S)}),A.current=!1))}),y}function eM(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:g,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:NS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&cl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:f,layoutRoot:g})}function NS(t){if(t)return t.options.allowProjection!==!1?t.projection:NS(t.parent)}function tM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:a}){t&&Hk(t);function l(h,f){let g;const y={..._.useContext(zy),...h,layoutId:nM(h)},{isStatic:b}=y,w=Wk(h),S=i(h,b);if(!b&&Fy){iM();const A=rM(y);g=A.MeasureLayout,w.visualElement=Jk(a,S,y,e,A.ProjectionNode)}return d.jsxs(em.Provider,{value:w,children:[g&&w.visualElement?d.jsx(g,{visualElement:w.visualElement,...y}):null,n(a,h,Xk(S,w.visualElement,f),S,b,w.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=_.forwardRef(l);return c[Qk]=a,c}function nM({layoutId:t}){const e=_.useContext(Uy).id;return e&&t!==void 0?e+"-"+t:t}function iM(t,e){_.useContext(_S).strict}function rM(t){const{drag:e,layout:n}=xl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const CS=t=>e=>typeof e=="string"&&e.startsWith(t),nv=CS("--"),sM=CS("var(--"),iv=t=>sM(t)?aM.test(t.split("/*")[0].trim()):!1,aM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Su={};function oM(t){for(const e in t)Su[e]=t[e],nv(e)&&(Su[e].isCSSVariable=!0)}const kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oo=new Set(kl);function RS(t,{layout:e,layoutId:n}){return oo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Su[t]||t==="opacity")}const pn=t=>!!(t&&t.getVelocity),jS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qr=(t,e,n)=>n>e?e:n<t?t:n,Ml={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Au={...Ml,transform:t=>Qr(0,1,t)},Ih={...Ml,default:1},Hu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ks=Hu("deg"),tr=Hu("%"),Ce=Hu("px"),lM=Hu("vh"),cM=Hu("vw"),x_={...tr,parse:t=>tr.parse(t)/100,transform:t=>tr.transform(t*100)},uM={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce},dM={rotate:ks,rotateX:ks,rotateY:ks,rotateZ:ks,scale:Ih,scaleX:Ih,scaleY:Ih,scaleZ:Ih,skew:ks,skewX:ks,skewY:ks,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:Au,originX:x_,originY:x_,originZ:Ce},b_={...Ml,transform:Math.round},rv={...uM,...dM,zIndex:b_,size:Ce,fillOpacity:Au,strokeOpacity:Au,numOctaves:b_},hM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fM=kl.length;function mM(t,e,n){let i="",a=!0;for(let l=0;l<fM;l++){const c=kl[l],h=t[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const g=jS(h,rv[c]);if(!f){a=!1;const y=hM[c]||c;i+=`${y}(${g}) `}n&&(e[c]=g)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function sv(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const f in e){const g=e[f];if(oo.has(f)){c=!0;continue}else if(nv(f)){a[f]=g;continue}else{const y=jS(g,rv[f]);f.startsWith("origin")?(h=!0,l[f]=y):i[f]=y}}if(e.transform||(c||n?i.transform=mM(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:g="50%",originZ:y=0}=l;i.transformOrigin=`${f} ${g} ${y}`}}const av=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IS(t,e,n){for(const i in e)!pn(e[i])&&!RS(i,n)&&(t[i]=e[i])}function pM({transformTemplate:t},e){return _.useMemo(()=>{const n=av();return sv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gM(t,e){const n=t.style||{},i={};return IS(i,n,t),Object.assign(i,pM(t,e)),i}function yM(t,e){const n={},i=gM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const vM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ov(t){return typeof t!="string"||t.includes("-")?!1:!!(vM.indexOf(t)>-1||/[A-Z]/u.test(t))}const xM={offset:"stroke-dashoffset",array:"stroke-dasharray"},bM={offset:"strokeDashoffset",array:"strokeDasharray"};function wM(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?xM:bM;t[l.offset]=Ce.transform(-i);const c=Ce.transform(e),h=Ce.transform(n);t[l.array]=`${c} ${h}`}function w_(t,e,n){return typeof t=="string"?t:Ce.transform(e+n*t)}function _M(t,e,n){const i=w_(e,t.x,t.width),a=w_(n,t.y,t.height);return`${i} ${a}`}function lv(t,{attrX:e,attrY:n,attrScale:i,originX:a,originY:l,pathLength:c,pathSpacing:h=1,pathOffset:f=0,...g},y,b){if(sv(t,g,b),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:S,dimensions:A}=t;w.transform&&(A&&(S.transform=w.transform),delete w.transform),A&&(a!==void 0||l!==void 0||S.transform)&&(S.transformOrigin=_M(A,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),i!==void 0&&(w.scale=i),c!==void 0&&wM(w,c,h,f,!1)}const DS=()=>({...av(),attrs:{}}),cv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function EM(t,e,n,i){const a=_.useMemo(()=>{const l=DS();return lv(l,e,cv(i),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};IS(l,t.style,t),a.style={...l,...a.style}}return a}function TM(t=!1){return(n,i,a,{latestValues:l},c)=>{const f=(ov(n)?EM:yM)(i,l,c,n),g=Gk(i,typeof n=="string",t),y=n!==_.Fragment?{...g,...f,ref:a}:{},{children:b}=i,w=_.useMemo(()=>pn(b)?b.get():b,[b]);return _.createElement(n,{...y,children:w})}}function __(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function uv(t,e,n,i){if(typeof e=="function"){const[a,l]=__(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=__(i);e=e(n!==void 0?n:t.custom,a,l)}return e}const R0=t=>Array.isArray(t),SM=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),AM=t=>R0(t)?t[t.length-1]||0:t;function $h(t){const e=pn(t)?t.get():t;return SM(e)?e.toValue():e}function NM({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,a,l){const c={latestValues:CM(i,a,l,t),renderState:e()};return n&&(c.onMount=h=>n({props:i,current:h,...c}),c.onUpdate=h=>n(h)),c}const kS=t=>(e,n)=>{const i=_.useContext(em),a=_.useContext(Jf),l=()=>NM(t,e,i,a);return n?l():By(l)};function CM(t,e,n,i){const a={},l=i(t,{});for(const w in l)a[w]=$h(l[w]);let{initial:c,animate:h}=t;const f=nm(t),g=TS(t);e&&g&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const b=y?h:c;if(b&&typeof b!="boolean"&&!tm(b)){const w=Array.isArray(b)?b:[b];for(let S=0;S<w.length;S++){const A=uv(t,w[S]);if(A){const{transitionEnd:P,transition:k,...R}=A;for(const B in R){let F=R[B];if(Array.isArray(F)){const te=y?F.length-1:0;F=F[te]}F!==null&&(a[B]=F)}for(const B in P)a[B]=P[B]}}}return a}function dv(t,e,n){var l;const{style:i}=t,a={};for(const c in i)(pn(i[c])||e.style&&pn(e.style[c])||RS(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=i[c]);return a}const RM={useVisualState:kS({scrapeMotionValuesFromProps:dv,createRenderState:av})};function MS(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function PS(t,{style:e,vars:n},i,a){Object.assign(t.style,e,a&&a.getProjectionStyles(i));for(const l in n)t.style.setProperty(l,n[l])}const OS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VS(t,e,n,i){PS(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(OS.has(a)?a:tv(a),e.attrs[a])}function LS(t,e,n){const i=dv(t,e,n);for(const a in t)if(pn(t[a])||pn(e[a])){const l=kl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const E_=["x","y","width","height","cx","cy","r"],jM={useVisualState:kS({scrapeMotionValuesFromProps:LS,createRenderState:DS,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:a})=>{if(!n)return;let l=!!t.drag;if(!l){for(const h in a)if(oo.has(h)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let h=0;h<E_.length;h++){const f=E_[h];t[f]!==e[f]&&(c=!0)}c&&ot.read(()=>{MS(n,i),ot.render(()=>{lv(i,a,cv(n.tagName),t.transformTemplate),VS(n,i)})})}})};function IM(t,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...ov(i)?jM:RM,preloadedFeatures:t,useRender:TM(a),createVisualElement:e,Component:i};return tM(c)}}function Nu(t,e,n){const i=t.getProps();return uv(i,e,n!==void 0?n:i.custom,t)}const US=new Set(["width","height","top","left","right","bottom",...kl]);function DM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Eu(n))}function kM(t,e){const n=Nu(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const h=AM(l[c]);DM(t,c,h)}}function MM(t){return!!(pn(t)&&t.add)}function j0(t,e){const n=t.getValue("willChange");if(MM(n))return n.add(e);if(!n&&N0.WillChange){const i=new N0.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function BS(t){return t.props[SS]}const FS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,PM=1e-7,OM=12;function VM(t,e,n,i,a){let l,c,h=0;do c=e+(n-e)/2,l=FS(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>PM&&++h<OM);return c}function qu(t,e,n,i){if(t===e&&n===i)return ci;const a=l=>VM(l,0,1,t,n);return l=>l===0||l===1?l:FS(a(l),e,i)}const zS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HS=t=>e=>1-t(1-e),qS=qu(.33,1.53,.69,.99),hv=HS(qS),$S=zS(hv),GS=t=>(t*=2)<1?.5*hv(t):.5*(2-Math.pow(2,-10*(t-1))),fv=t=>1-Math.sin(Math.acos(t)),KS=HS(fv),YS=zS(fv),WS=t=>/^0[^.\s]+$/u.test(t);function LM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||WS(t):!0}const uu=t=>Math.round(t*1e5)/1e5,mv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UM(t){return t==null}const BM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pv=(t,e)=>n=>!!(typeof n=="string"&&BM.test(n)&&n.startsWith(t)||e&&!UM(n)&&Object.prototype.hasOwnProperty.call(n,e)),QS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,h]=i.match(mv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},FM=t=>Qr(0,255,t),zg={...Ml,transform:t=>Math.round(FM(t))},Ga={test:pv("rgb","red"),parse:QS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+zg.transform(t)+", "+zg.transform(e)+", "+zg.transform(n)+", "+uu(Au.transform(i))+")"};function zM(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const I0={test:pv("#"),parse:zM,transform:Ga.transform},ul={test:pv("hsl","hue"),parse:QS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+tr.transform(uu(e))+", "+tr.transform(uu(n))+", "+uu(Au.transform(i))+")"},hn={test:t=>Ga.test(t)||I0.test(t)||ul.test(t),parse:t=>Ga.test(t)?Ga.parse(t):ul.test(t)?ul.parse(t):I0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ga.transform(t):ul.transform(t)},HM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qM(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(mv))==null?void 0:e.length)||0)+(((n=t.match(HM))==null?void 0:n.length)||0)>0}const XS="number",ZS="color",$M="var",GM="var(",T_="${}",KM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(KM,f=>(hn.test(f)?(i.color.push(l),a.push(ZS),n.push(hn.parse(f))):f.startsWith(GM)?(i.var.push(l),a.push($M),n.push(f)):(i.number.push(l),a.push(XS),n.push(parseFloat(f))),++l,T_)).split(T_);return{values:n,split:h,indexes:i,types:a}}function JS(t){return Cu(t).values}function eA(t){const{split:e,types:n}=Cu(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===XS?l+=uu(a[c]):h===ZS?l+=hn.transform(a[c]):l+=a[c]}return l}}const YM=t=>typeof t=="number"?0:t;function WM(t){const e=JS(t);return eA(t)(e.map(YM))}const Ks={test:qM,parse:JS,createTransformer:eA,getAnimatableNone:WM},QM=new Set(["brightness","contrast","saturate","opacity"]);function XM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(mv)||[];if(!i)return t;const a=n.replace(i,"");let l=QM.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const ZM=/\b([a-z-]*)\(.*?\)/gu,D0={...Ks,getAnimatableNone:t=>{const e=t.match(ZM);return e?e.map(XM).join(" "):t}},JM={...rv,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:D0,WebkitFilter:D0},tA=t=>JM[t];function nA(t,e){let n=tA(t);return n!==D0&&(n=Ks),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const e3=new Set(["auto","none","0"]);function t3(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!e3.has(l)&&Cu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=nA(n,a)}const Ka=t=>t*180/Math.PI,k0=t=>{const e=Ka(Math.atan2(t[1],t[0]));return M0(e)},n3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:k0,rotateZ:k0,skewX:t=>Ka(Math.atan(t[1])),skewY:t=>Ka(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},M0=t=>(t=t%360,t<0&&(t+=360),t),S_=k0,A_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),N_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),i3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:A_,scaleY:N_,scale:t=>(A_(t)+N_(t))/2,rotateX:t=>M0(Ka(Math.atan2(t[6],t[5]))),rotateY:t=>M0(Ka(Math.atan2(-t[2],t[0]))),rotateZ:S_,rotate:S_,skewX:t=>Ka(Math.atan(t[4])),skewY:t=>Ka(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function C_(t){return t.includes("scale")?1:0}function P0(t,e){if(!t||t==="none")return C_(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=i3,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=n3,a=h}if(!a)return C_(e);const l=i[e],c=a[1].split(",").map(s3);return typeof l=="function"?l(c):c[l]}const r3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return P0(n,e)};function s3(t){return parseFloat(t.trim())}const R_=t=>t===Ml||t===Ce,a3=new Set(["x","y","z"]),o3=kl.filter(t=>!a3.has(t));function l3(t){const e=[];return o3.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const bl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>P0(e,"x"),y:(t,{transform:e})=>P0(e,"y")};bl.translateX=bl.x;bl.translateY=bl.y;const Za=new Set;let O0=!1,V0=!1;function iA(){if(V0){const t=Array.from(Za).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=l3(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{var h;(h=i.getValue(l))==null||h.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}V0=!1,O0=!1,Za.forEach(t=>t.complete()),Za.clear()}function rA(){Za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(V0=!0)})}function c3(){rA(),iA()}class gv{constructor(e,n,i,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Za.add(this),O0||(O0=!0,ot.read(rA),ot.resolveKeyframes(iA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=a==null?void 0:a.get(),h=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&n){const f=i.readValue(n,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),a&&c===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Za.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Za.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),u3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function d3(t){const e=u3.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function aA(t,e,n=1){const[i,a]=d3(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return sA(c)?parseFloat(c):c}return iv(a)?aA(a,e,n+1):a}const oA=t=>e=>e.test(t),h3={test:t=>t==="auto",parse:t=>t},lA=[Ml,Ce,tr,ks,cM,lM,h3],j_=t=>lA.find(oA(t));class cA extends gv{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let g=e[f];if(typeof g=="string"&&(g=g.trim(),iv(g))){const y=aA(g,n.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!US.has(i)||e.length!==2)return;const[a,l]=e,c=j_(a),h=j_(l);if(c!==h)if(R_(c)&&R_(h))for(let f=0;f<e.length;f++){const g=e[f];typeof g=="string"&&(e[f]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)LM(e[a])&&i.push(a);i.length&&t3(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=bl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,g])=>{e.getValue(f).set(g)}),this.resolveNoneKeyframes()}}const I_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ks.test(t)||t==="0")&&!t.startsWith("url("));function f3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function m3(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=I_(a,e),h=I_(l,e);return!c||!h?!1:f3(t)||(n==="spring"||Yy(n))&&i}const p3=t=>t!==null;function im(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(p3),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const g3=40;class uA{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=er.now(),this.options={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>g3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&c3(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=er.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:l,delay:c,onComplete:h,onUpdate:f,isGenerator:g}=this.options;if(!g&&!m3(e,i,a,l))if(c)this.options.duration=0;else{f&&f(im(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,n);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const pt=(t,e,n)=>t+(e-t)*n;function Hg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function y3({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=Hg(f,h,t+1/3),l=Hg(f,h,t),c=Hg(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function uf(t,e){return n=>n>0?e:t}const qg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},v3=[I0,Ga,ul],x3=t=>v3.find(e=>e.test(t));function D_(t){const e=x3(t);if(!e)return!1;let n=e.parse(t);return e===ul&&(n=y3(n)),n}const k_=(t,e)=>{const n=D_(t),i=D_(e);if(!n||!i)return uf(t,e);const a={...n};return l=>(a.red=qg(n.red,i.red,l),a.green=qg(n.green,i.green,l),a.blue=qg(n.blue,i.blue,l),a.alpha=pt(n.alpha,i.alpha,l),Ga.transform(a))},b3=(t,e)=>n=>e(t(n)),$u=(...t)=>t.reduce(b3),L0=new Set(["none","hidden"]);function w3(t,e){return L0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _3(t,e){return n=>pt(t,e,n)}function yv(t){return typeof t=="number"?_3:typeof t=="string"?iv(t)?uf:hn.test(t)?k_:S3:Array.isArray(t)?dA:typeof t=="object"?hn.test(t)?k_:E3:uf}function dA(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>yv(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function E3(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=yv(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function T3(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=t.values[c]??0;n[a]=h,i[l]++}return n}const S3=(t,e)=>{const n=Ks.createTransformer(e),i=Cu(t),a=Cu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?L0.has(t)&&!a.values.length||L0.has(e)&&!i.values.length?w3(t,e):$u(dA(T3(i,a),a.values),n):uf(t,e)};function hA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):yv(t)(t,e)}const A3=5;function fA(t,e,n){const i=Math.max(e-A3,0);return mS(n-t(i),e-i)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},M_=.001;function N3({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:i=_t.mass}){let a,l,c=1-e;c=Qr(_t.minDamping,_t.maxDamping,c),t=Qr(_t.minDuration,_t.maxDuration,Ji(t)),c<1?(a=g=>{const y=g*c,b=y*t,w=y-n,S=U0(g,c),A=Math.exp(-b);return M_-w/S*A},l=g=>{const b=g*c*t,w=b*n+n,S=Math.pow(c,2)*Math.pow(g,2)*t,A=Math.exp(-b),P=U0(Math.pow(g,2),c);return(-a(g)+M_>0?-1:1)*((w-S)*A)/P}):(a=g=>{const y=Math.exp(-g*t),b=(g-n)*t+1;return-.001+y*b},l=g=>{const y=Math.exp(-g*t),b=(n-g)*(t*t);return y*b});const h=5/t,f=R3(a,l,h);if(t=Zi(t),isNaN(f))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const g=Math.pow(f,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:t}}}const C3=12;function R3(t,e,n){let i=n;for(let a=1;a<C3;a++)i=i-t(i)/e(i);return i}function U0(t,e){return t*Math.sqrt(1-e*e)}const j3=["duration","bounce"],I3=["stiffness","damping","mass"];function P_(t,e){return e.some(n=>t[n]!==void 0)}function D3(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!P_(t,I3)&&P_(t,j3))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Qr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:_t.mass,stiffness:a,damping:l}}else{const n=N3(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function df(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:g,mass:y,duration:b,velocity:w,isResolvedFromDuration:S}=D3({...n,velocity:-Ji(n.velocity||0)}),A=w||0,P=g/(2*Math.sqrt(f*y)),k=c-l,R=Ji(Math.sqrt(f/y)),B=Math.abs(k)<5;i||(i=B?_t.restSpeed.granular:_t.restSpeed.default),a||(a=B?_t.restDelta.granular:_t.restDelta.default);let F;if(P<1){const W=U0(R,P);F=re=>{const D=Math.exp(-P*R*re);return c-D*((A+P*R*k)/W*Math.sin(W*re)+k*Math.cos(W*re))}}else if(P===1)F=W=>c-Math.exp(-R*W)*(k+(A+R*k)*W);else{const W=R*Math.sqrt(P*P-1);F=re=>{const D=Math.exp(-P*R*re),C=Math.min(W*re,300);return c-D*((A+P*R*k)*Math.sinh(C)+W*k*Math.cosh(C))/W}}const te={calculatedDuration:S&&b||null,next:W=>{const re=F(W);if(S)h.done=W>=b;else{let D=0;P<1&&(D=W===0?Zi(A):fA(F,W,re));const C=Math.abs(D)<=i,j=Math.abs(c-re)<=a;h.done=C&&j}return h.value=h.done?c:re,h},toString:()=>{const W=Math.min(Qy(te),lf),re=pS(D=>te.next(W*D).value,W,30);return W+"ms "+re},toTransition:()=>{}};return te}df.applyToOptions=t=>{const e=jk(t,100,df);return t.ease=_u()?e.ease:"easeOut",t.duration=Zi(e.duration),t.type="keyframes",t};function O_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:g=.5,restSpeed:y}){const b=t[0],w={done:!1,value:b},S=C=>h!==void 0&&C<h||f!==void 0&&C>f,A=C=>h===void 0?f:f===void 0||Math.abs(h-C)<Math.abs(f-C)?h:f;let P=n*e;const k=b+P,R=c===void 0?k:c(k);R!==k&&(P=R-b);const B=C=>-P*Math.exp(-C/i),F=C=>R+B(C),te=C=>{const j=B(C),M=F(C);w.done=Math.abs(j)<=g,w.value=w.done?R:M};let W,re;const D=C=>{S(w.value)&&(W=C,re=df({keyframes:[w.value,A(w.value)],velocity:fA(F,C,w.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return D(0),{calculatedDuration:null,next:C=>{let j=!1;return!re&&W===void 0&&(j=!0,te(C),D(C)),W!==void 0&&C>=W?re.next(C-W):(!j&&te(C),w)}}}const k3=qu(.42,0,1,1),M3=qu(0,0,.58,1),mA=qu(.42,0,.58,1),P3=t=>Array.isArray(t)&&typeof t[0]!="number",O3={linear:ci,easeIn:k3,easeInOut:mA,easeOut:M3,circIn:fv,circInOut:YS,circOut:KS,backIn:hv,backInOut:$S,backOut:qS,anticipate:GS},V_=t=>{if(Ky(t)){fS(t.length===4);const[e,n,i,a]=t;return qu(e,n,i,a)}else if(typeof t=="string")return O3[t];return t};function V3(t,e,n){const i=[],a=n||hA,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||ci:e;h=$u(f,h)}i.push(h)}return i}function L3(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(fS(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=V3(e,i,a),f=h.length,g=y=>{if(c&&y<t[0])return e[0];let b=0;if(f>1)for(;b<t.length-2&&!(y<t[b+1]);b++);const w=wu(t[b],t[b+1],y);return h[b](w)};return n?y=>g(Qr(t[0],t[l-1],y)):g}function U3(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=wu(0,e,i);t.push(pt(n,1,a))}}function B3(t){const e=[0];return U3(e,t.length-1),e}function F3(t,e){return t.map(n=>n*e)}function z3(t,e){return t.map(()=>e||mA).splice(0,t.length-1)}function hf({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=P3(i)?i.map(V_):V_(i),l={done:!1,value:e[0]},c=F3(n&&n.length===e.length?n:B3(e),t),h=L3(c,e,{ease:Array.isArray(a)?a:z3(e,a)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const H3=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ot.update(e,!0),stop:()=>Gs(e),now:()=>nn.isProcessing?nn.timestamp:er.now()}},q3={decay:O_,inertia:O_,tween:hf,keyframes:hf,spring:df},$3=t=>t/100;class vv extends uA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:a,keyframes:l}=this.options,c=(a==null?void 0:a.KeyframeResolver)||gv,h=(f,g)=>this.onKeyframesResolved(f,g);this.resolver=new c(l,h,n,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,h=Yy(n)?n:q3[n]||hf;let f,g;h!==hf&&typeof e[0]!="number"&&(f=$u($3,hA(e[0],e[1])),e=[0,100]);const y=h({...this.options,keyframes:e});l==="mirror"&&(g=h({...this.options,keyframes:[...e].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=Qy(y));const{calculatedDuration:b}=y,w=b+a,S=w*(i+1)-a;return{generator:y,mirroredGenerator:g,mapPercentToKeyframes:f,calculatedDuration:b,resolvedDuration:w,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:g,totalDuration:y,resolvedDuration:b}=i;if(this.startTime===null)return l.next(0);const{delay:w,repeat:S,repeatType:A,repeatDelay:P,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const R=this.currentTime-w*(this.speed>=0?1:-1),B=this.speed>=0?R<0:R>y;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let F=this.currentTime,te=l;if(S){const C=Math.min(this.currentTime,y)/b;let j=Math.floor(C),M=C%1;!M&&C>=1&&(M=1),M===1&&j--,j=Math.min(j,S+1),!!(j%2)&&(A==="reverse"?(M=1-M,P&&(M-=P/b)):A==="mirror"&&(te=c)),F=Qr(0,1,M)*b}const W=B?{done:!1,value:f[0]}:te.next(F);h&&(W.value=h(W.value));let{done:re}=W;!B&&g!==null&&(re=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return D&&a!==void 0&&(W.value=im(f,this.options,a)),k&&k(W.value),D&&this.finish(),W}get duration(){const{resolved:e}=this;return e?Ji(e.calculatedDuration):0}get time(){return Ji(this.currentTime)}set time(e){e=Zi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ji(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=H3,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const G3=new Set(["opacity","clipPath","filter","transform"]),K3=$y(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ff=10,Y3=2e4;function W3(t){return Yy(t.type)||t.type==="spring"||!yS(t.ease)}function Q3(t,e){const n=new vv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const a=[];let l=0;for(;!i.done&&l<Y3;)i=n.sample(l),a.push(i.value),l+=ff;return{times:void 0,keyframes:a,duration:l-ff,ease:"linear"}}const pA={anticipate:GS,backInOut:$S,circInOut:YS};function X3(t){return t in pA}class L_ extends uA{constructor(e){super(e);const{name:n,motionValue:i,element:a,keyframes:l}=this.options;this.resolver=new cA(l,(c,h)=>this.onKeyframesResolved(c,h),n,i,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:a,ease:l,type:c,motionValue:h,name:f,startTime:g}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof l=="string"&&_u()&&X3(l)&&(l=pA[l]),W3(this.options)){const{onComplete:b,onUpdate:w,motionValue:S,element:A,...P}=this.options,k=Q3(e,P);e=k.keyframes,e.length===1&&(e[1]=e[0]),i=k.duration,a=k.times,l=k.ease,c="keyframes"}const y=Rk(h.owner.current,f,e,{...this.options,duration:i,times:a,ease:l});return y.startTime=g??this.calcStartTime(),this.pendingTimeline?(h_(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:b}=this.options;h.set(im(e,this.options,n)),b&&b(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:a,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ji(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ji(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Zi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ci;const{animation:i}=n;h_(i,e)}return ci}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:a,type:l,ease:c,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:y,onComplete:b,element:w,...S}=this.options,A=new vv({...S,keyframes:i,duration:a,type:l,ease:c,times:h,isGenerator:!0}),P=Zi(this.time);g.setWithVelocity(A.sample(P-ff).value,A.sample(P).value,ff)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:a,repeatType:l,damping:c,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:g}=n.owner.getProps();return K3()&&i&&G3.has(i)&&(i!=="transform"||!g)&&!f&&!a&&l!=="mirror"&&c!==0&&h!=="inertia"}}const Z3={type:"spring",stiffness:500,damping:25,restSpeed:10},J3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),eP={type:"keyframes",duration:.8},tP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nP=(t,{keyframes:e})=>e.length>2?eP:oo.has(t)?t.startsWith("scale")?J3(e[1]):Z3:tP;function iP({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:g,...y}){return!!Object.keys(y).length}const xv=(t,e,n,i={},a,l)=>c=>{const h=Wy(i,t)||{},f=h.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Zi(f);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-g,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};iP(h)||(y={...y,...nP(t,y)}),y.duration&&(y.duration=Zi(y.duration)),y.repeatDelay&&(y.repeatDelay=Zi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(b=!0)),y.allowFlatten=!h.type&&!h.ease,b&&!l&&e.get()!==void 0){const w=im(y.keyframes,h);if(w!==void 0)return ot.update(()=>{y.onUpdate(w),y.onComplete()}),new Ak([])}return!l&&L_.supports(y)?new L_(y):new vv(y)};function rP({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function gA(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;i&&(l=i);const f=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const b=t.getValue(y,t.latestValues[y]??null),w=h[y];if(w===void 0||g&&rP(g,y))continue;const S={delay:n,...Wy(l||{},y)};let A=!1;if(window.MotionHandoffAnimation){const k=BS(t);if(k){const R=window.MotionHandoffAnimation(k,y,ot);R!==null&&(S.startTime=R,A=!0)}}j0(t,y),b.start(xv(y,b,w,t.shouldReduceMotion&&US.has(y)?{type:!1}:S,t,A));const P=b.animation;P&&f.push(P)}return c&&Promise.all(f).then(()=>{ot.update(()=>{c&&kM(t,c)})}),f}function B0(t,e,n={}){var f;const i=Nu(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(gA(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:b,staggerDirection:w}=a;return sP(t,e,y+g,b,w,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[g,y]=h==="beforeChildren"?[l,c]:[c,l];return g().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function sP(t,e,n=0,i=0,a=1,l){const c=[],h=(t.variantChildren.size-1)*i,f=a===1?(g=0)=>g*i:(g=0)=>h-g*i;return Array.from(t.variantChildren).sort(aP).forEach((g,y)=>{g.notify("AnimationStart",e),c.push(B0(g,e,{...l,delay:n+f(y)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(c)}function aP(t,e){return t.sortNodePosition(e)}function oP(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>B0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=B0(t,e,n);else{const a=typeof e=="function"?Nu(t,e,n.custom):e;i=Promise.all(gA(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function yA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const lP=ev.length;function vA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<lP;n++){const i=ev[n],a=t.props[i];(Tu(a)||a===!1)&&(e[i]=a)}return e}const cP=[...Jy].reverse(),uP=Jy.length;function dP(t){return e=>Promise.all(e.map(({animation:n,options:i})=>oP(t,n,i)))}function hP(t){let e=dP(t),n=U_(),i=!0;const a=f=>(g,y)=>{var w;const b=Nu(t,y,f==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(b){const{transition:S,transitionEnd:A,...P}=b;g={...g,...P,...A}}return g};function l(f){e=f(t)}function c(f){const{props:g}=t,y=vA(t.parent)||{},b=[],w=new Set;let S={},A=1/0;for(let k=0;k<uP;k++){const R=cP[k],B=n[R],F=g[R]!==void 0?g[R]:y[R],te=Tu(F),W=R===f?B.isActive:null;W===!1&&(A=k);let re=F===y[R]&&F!==g[R]&&te;if(re&&i&&t.manuallyAnimateOnMount&&(re=!1),B.protectedKeys={...S},!B.isActive&&W===null||!F&&!B.prevProp||tm(F)||typeof F=="boolean")continue;const D=fP(B.prevProp,F);let C=D||R===f&&B.isActive&&!re&&te||k>A&&te,j=!1;const M=Array.isArray(F)?F:[F];let L=M.reduce(a(R),{});W===!1&&(L={});const{prevResolvedValues:H={}}=B,V={...H,...L},ye=q=>{C=!0,w.has(q)&&(j=!0,w.delete(q)),B.needsAnimating[q]=!0;const ne=t.getValue(q);ne&&(ne.liveStyle=!1)};for(const q in V){const ne=L[q],he=H[q];if(S.hasOwnProperty(q))continue;let O=!1;R0(ne)&&R0(he)?O=!yA(ne,he):O=ne!==he,O?ne!=null?ye(q):w.add(q):ne!==void 0&&w.has(q)?ye(q):B.protectedKeys[q]=!0}B.prevProp=F,B.prevResolvedValues=L,B.isActive&&(S={...S,...L}),i&&t.blockInitialAnimation&&(C=!1),C&&(!(re&&D)||j)&&b.push(...M.map(q=>({animation:q,options:{type:R}})))}if(w.size){const k={};if(typeof g.initial!="boolean"){const R=Nu(t,Array.isArray(g.initial)?g.initial[0]:g.initial);R&&R.transition&&(k.transition=R.transition)}w.forEach(R=>{const B=t.getBaseTarget(R),F=t.getValue(R);F&&(F.liveStyle=!0),k[R]=B??null}),b.push({animation:k})}let P=!!b.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(P=!1),i=!1,P?e(b):Promise.resolve()}function h(f,g){var b;if(n[f].isActive===g)return Promise.resolve();(b=t.variantChildren)==null||b.forEach(w=>{var S;return(S=w.animationState)==null?void 0:S.setActive(f,g)}),n[f].isActive=g;const y=c(f);for(const w in n)n[w].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=U_(),i=!0}}}function fP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yA(e,t):!1}function Ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function U_(){return{animate:Ba(!0),whileInView:Ba(),whileHover:Ba(),whileTap:Ba(),whileDrag:Ba(),whileFocus:Ba(),exit:Ba()}}class ia{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mP extends ia{constructor(e){super(e),e.animationState||(e.animationState=hP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let pP=0;class gP extends ia{constructor(){super(...arguments),this.id=pP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const yP={animation:{Feature:mP},exit:{Feature:gP}};function Ru(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Gu(t){return{point:{x:t.pageX,y:t.pageY}}}const vP=t=>e=>Zy(e)&&t(e,Gu(e));function du(t,e,n,i){return Ru(t,e,vP(n),i)}function xA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function xP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function bP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const bA=1e-4,wP=1-bA,_P=1+bA,wA=.01,EP=0-wA,TP=0+wA;function wn(t){return t.max-t.min}function SP(t,e,n){return Math.abs(t-e)<=n}function B_(t,e,n,i=.5){t.origin=i,t.originPoint=pt(e.min,e.max,t.origin),t.scale=wn(n)/wn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=wP&&t.scale<=_P||isNaN(t.scale))&&(t.scale=1),(t.translate>=EP&&t.translate<=TP||isNaN(t.translate))&&(t.translate=0)}function hu(t,e,n,i){B_(t.x,e.x,n.x,i?i.originX:void 0),B_(t.y,e.y,n.y,i?i.originY:void 0)}function F_(t,e,n){t.min=n.min+e.min,t.max=t.min+wn(e)}function AP(t,e,n){F_(t.x,e.x,n.x),F_(t.y,e.y,n.y)}function z_(t,e,n){t.min=e.min-n.min,t.max=t.min+wn(e)}function fu(t,e,n){z_(t.x,e.x,n.x),z_(t.y,e.y,n.y)}const H_=()=>({translate:0,scale:1,origin:0,originPoint:0}),dl=()=>({x:H_(),y:H_()}),q_=()=>({min:0,max:0}),Ct=()=>({x:q_(),y:q_()});function li(t){return[t("x"),t("y")]}function $g(t){return t===void 0||t===1}function F0({scale:t,scaleX:e,scaleY:n}){return!$g(t)||!$g(e)||!$g(n)}function za(t){return F0(t)||_A(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _A(t){return $_(t.x)||$_(t.y)}function $_(t){return t&&t!=="0%"}function mf(t,e,n){const i=t-n,a=e*i;return n+a}function G_(t,e,n,i,a){return a!==void 0&&(t=mf(t,a,i)),mf(t,n,i)+e}function z0(t,e=0,n=1,i,a){t.min=G_(t.min,e,n,i,a),t.max=G_(t.max,e,n,i,a)}function EA(t,{x:e,y:n}){z0(t.x,e.translate,e.scale,e.originPoint),z0(t.y,n.translate,n.scale,n.originPoint)}const K_=.999999999999,Y_=1.0000000000001;function NP(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&fl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,EA(t,c)),i&&za(l.latestValues)&&fl(t,l.latestValues))}e.x<Y_&&e.x>K_&&(e.x=1),e.y<Y_&&e.y>K_&&(e.y=1)}function hl(t,e){t.min=t.min+e,t.max=t.max+e}function W_(t,e,n,i,a=.5){const l=pt(t.min,t.max,a);z0(t,e,n,l,i)}function fl(t,e){W_(t.x,e.x,e.scaleX,e.scale,e.originX),W_(t.y,e.y,e.scaleY,e.scale,e.originY)}function TA(t,e){return xA(bP(t.getBoundingClientRect(),e))}function CP(t,e,n){const i=TA(t,n),{scroll:a}=e;return a&&(hl(i.x,a.offset.x),hl(i.y,a.offset.y)),i}const SA=({current:t})=>t?t.ownerDocument.defaultView:null,Q_=(t,e)=>Math.abs(t-e);function RP(t,e){const n=Q_(t.x,e.x),i=Q_(t.y,e.y);return Math.sqrt(n**2+i**2)}class AA{constructor(e,n,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Kg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=RP(b.offset,{x:0,y:0})>=3;if(!w&&!S)return;const{point:A}=b,{timestamp:P}=nn;this.history.push({...A,timestamp:P});const{onStart:k,onMove:R}=this.handlers;w||(k&&k(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Gg(w,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:S,onSessionEnd:A,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Kg(b.type==="pointercancel"?this.lastMoveEventInfo:Gg(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(b,k),A&&A(b,k)},!Zy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.contextWindow=a||window;const c=Gu(e),h=Gg(c,this.transformPagePoint),{point:f}=h,{timestamp:g}=nn;this.history=[{...f,timestamp:g}];const{onSessionStart:y}=n;y&&y(e,Kg(h,this.history)),this.removeListeners=$u(du(this.contextWindow,"pointermove",this.handlePointerMove),du(this.contextWindow,"pointerup",this.handlePointerUp),du(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gs(this.updatePoint)}}function Gg(t,e){return e?{point:e(t.point)}:t}function X_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kg({point:t},e){return{point:t,delta:X_(t,NA(e)),offset:X_(t,jP(e)),velocity:IP(e,.1)}}function jP(t){return t[0]}function NA(t){return t[t.length-1]}function IP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=NA(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Zi(e)));)n--;if(!i)return{x:0,y:0};const l=Ji(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function DP(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?pt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?pt(n,t,i.max):Math.min(t,n)),t}function Z_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function kP(t,{top:e,left:n,bottom:i,right:a}){return{x:Z_(t.x,n,a),y:Z_(t.y,e,i)}}function J_(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function MP(t,e){return{x:J_(t.x,e.x),y:J_(t.y,e.y)}}function PP(t,e){let n=.5;const i=wn(t),a=wn(e);return a>i?n=wu(e.min,e.max-i,t.min):i>a&&(n=wu(t.min,t.max-a,e.min)),Qr(0,1,n)}function OP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const H0=.35;function VP(t=H0){return t===!1?t=0:t===!0&&(t=H0),{x:e2(t,"left","right"),y:e2(t,"top","bottom")}}function e2(t,e,n){return{min:t2(t,e),max:t2(t,n)}}function t2(t,e){return typeof t=="number"?t:t[e]||0}const LP=new WeakMap;class UP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Gu(y).point)},l=(y,b)=>{const{drag:w,dragPropagation:S,onDragStart:A}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Mk(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),li(k=>{let R=this.getAxisMotionValue(k).get()||0;if(tr.test(R)){const{projection:B}=this.visualElement;if(B&&B.layout){const F=B.layout.layoutBox[k];F&&(R=wn(F)*(parseFloat(R)/100))}}this.originPoint[k]=R}),A&&ot.postRender(()=>A(y,b)),j0(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},c=(y,b)=>{const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:A,onDrag:P}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:k}=b;if(S&&this.currentDirection===null){this.currentDirection=BP(k),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",b.point,k),this.updateAxis("y",b.point,k),this.visualElement.render(),P&&P(y,b)},h=(y,b)=>this.stop(y,b),f=()=>li(y=>{var b;return this.getAnimationState(y)==="paused"&&((b=this.getAxisMotionValue(y).animation)==null?void 0:b.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new AA(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:SA(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ot.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Dh(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=DP(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&cl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=kP(i.layoutBox,e):this.constraints=!1,this.elastic=VP(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&li(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=OP(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!cl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=CP(i,a.root,this.visualElement.getTransformPagePoint());let c=MP(a.layout.layoutBox,l);if(n){const h=n(xP(c));this.hasMutatedConstraints=!!h,h&&(c=xA(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},g=li(y=>{if(!Dh(y,n,this.currentDirection))return;let b=f&&f[y]||{};c&&(b={min:0,max:0});const w=a?200:1e6,S=a?40:1e7,A={type:"inertia",velocity:i?e[y]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(y,A)});return Promise.all(g).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return j0(this.visualElement,e),i.start(xv(e,i,0,n,this.visualElement,!1))}stopAnimation(){li(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){li(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){li(n=>{const{drag:i}=this.getProps();if(!Dh(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n];l.set(e[n]-pt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!cl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};li(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();a[c]=PP({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),li(c=>{if(!Dh(c,e,null))return;const h=this.getAxisMotionValue(c),{min:f,max:g}=this.constraints[c];h.set(pt(f,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;LP.set(this.visualElement,this);const e=this.visualElement.current,n=du(e,"pointerdown",f=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();cl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ot.read(i);const c=Ru(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g})=>{this.isDragging&&g&&(li(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=f[y].translate,b.set(b.get()+f[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=H0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Dh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function BP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class FP extends ia{constructor(e){super(e),this.removeGroupControls=ci,this.removeListeners=ci,this.controls=new UP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ci}unmount(){this.removeGroupControls(),this.removeListeners()}}const n2=t=>(e,n)=>{t&&ot.postRender(()=>t(e,n))};class zP extends ia{constructor(){super(...arguments),this.removePointerDownListener=ci}onPointerDown(e){this.session=new AA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:n2(e),onStart:n2(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&ot.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=du(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function i2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=i2(t,e.target.x),i=i2(t,e.target.y);return`${n}% ${i}%`}},HP={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Ks.parse(t);if(a.length>5)return i;const l=Ks.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=f;const g=pt(h,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};class qP extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;oM($P),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Gh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,c=i.projection;return c&&(c.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ot.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CA(t){const[e,n]=hS(),i=_.useContext(Uy);return d.jsx(qP,{...t,layoutGroup:i,switchLayoutGroup:_.useContext(AS),isPresent:e,safeToRemove:n})}const $P={borderRadius:{...Zc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zc,borderTopRightRadius:Zc,borderBottomLeftRadius:Zc,borderBottomRightRadius:Zc,boxShadow:HP};function GP(t,e,n){const i=pn(t)?t:Eu(t);return i.start(xv("",i,e,n)),i.animation}function KP(t){return t instanceof SVGElement&&t.tagName!=="svg"}const YP=(t,e)=>t.depth-e.depth;class WP{constructor(){this.children=[],this.isDirty=!1}add(e){Hy(this.children,e),this.isDirty=!0}remove(e){qy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YP),this.isDirty=!1,this.children.forEach(e)}}function QP(t,e){const n=er.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Gs(i),t(l-e))};return ot.read(i,!0),()=>Gs(i)}const RA=["TopLeft","TopRight","BottomLeft","BottomRight"],XP=RA.length,r2=t=>typeof t=="string"?parseFloat(t):t,s2=t=>typeof t=="number"||Ce.test(t);function ZP(t,e,n,i,a,l){a?(t.opacity=pt(0,n.opacity??1,JP(i)),t.opacityExit=pt(e.opacity??1,0,e6(i))):l&&(t.opacity=pt(e.opacity??1,n.opacity??1,i));for(let c=0;c<XP;c++){const h=`border${RA[c]}Radius`;let f=a2(e,h),g=a2(n,h);if(f===void 0&&g===void 0)continue;f||(f=0),g||(g=0),f===0||g===0||s2(f)===s2(g)?(t[h]=Math.max(pt(r2(f),r2(g),i),0),(tr.test(g)||tr.test(f))&&(t[h]+="%")):t[h]=g}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,i))}function a2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const JP=jA(0,.5,KS),e6=jA(.5,.95,ci);function jA(t,e,n){return i=>i<t?0:i>e?1:n(wu(t,e,i))}function o2(t,e){t.min=e.min,t.max=e.max}function oi(t,e){o2(t.x,e.x),o2(t.y,e.y)}function l2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function c2(t,e,n,i,a){return t-=e,t=mf(t,1/n,i),a!==void 0&&(t=mf(t,1/a,i)),t}function t6(t,e=0,n=1,i=.5,a,l=t,c=t){if(tr.test(e)&&(e=parseFloat(e),e=pt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=pt(l.min,l.max,i);t===l&&(h-=e),t.min=c2(t.min,e,n,h,a),t.max=c2(t.max,e,n,h,a)}function u2(t,e,[n,i,a],l,c){t6(t,e[n],e[i],e[a],e.scale,l,c)}const n6=["x","scaleX","originX"],i6=["y","scaleY","originY"];function d2(t,e,n,i){u2(t.x,e,n6,n?n.x:void 0,i?i.x:void 0),u2(t.y,e,i6,n?n.y:void 0,i?i.y:void 0)}function h2(t){return t.translate===0&&t.scale===1}function IA(t){return h2(t.x)&&h2(t.y)}function f2(t,e){return t.min===e.min&&t.max===e.max}function r6(t,e){return f2(t.x,e.x)&&f2(t.y,e.y)}function m2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function DA(t,e){return m2(t.x,e.x)&&m2(t.y,e.y)}function p2(t){return wn(t.x)/wn(t.y)}function g2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class s6{constructor(){this.members=[]}add(e){Hy(this.members,e),e.scheduleRender()}remove(e){if(qy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function a6(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:b,rotateY:w,skewX:S,skewY:A}=n;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),b&&(i+=`rotateX(${b}deg) `),w&&(i+=`rotateY(${w}deg) `),S&&(i+=`skewX(${S}deg) `),A&&(i+=`skewY(${A}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const Yg=["","X","Y","Z"],o6={visibility:"hidden"},y2=1e3;let l6=0;function Wg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function kA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=BS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ot,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&kA(i)}function MA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=e==null?void 0:e()){this.id=l6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(d6),this.nodes.forEach(g6),this.nodes.forEach(y6),this.nodes.forEach(h6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new WP)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Gy),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=KP(c),this.instance=c;const{layoutId:f,layout:g,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(g||f)&&(this.isLayoutDirty=!0),t){let b;const w=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,b&&b(),b=QP(w,250),Gh.hasAnimatedSinceResize&&(Gh.hasAnimatedSinceResize=!1,this.nodes.forEach(x2))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||g)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:w,hasRelativeLayoutChanged:S,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||y.getDefaultTransition()||_6,{onLayoutAnimationStart:k,onLayoutAnimationComplete:R}=y.getProps(),B=!this.targetLayout||!DA(this.targetLayout,A),F=!w&&S;if(this.options.layoutRoot||this.resumeFrom||F||w&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(b,F);const te={...Wy(P,"layout"),onPlay:k,onComplete:R};(y.shouldReduceMotion||this.options.layoutRoot)&&(te.delay=0,te.type=!1),this.startAnimation(te)}else w||x2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(v2);return}this.isUpdating||this.nodes.forEach(m6),this.isUpdating=!1,this.nodes.forEach(p6),this.nodes.forEach(c6),this.nodes.forEach(u6),this.clearAllSnapshots();const h=er.now();nn.delta=Qr(0,1e3/60,h-nn.timestamp),nn.timestamp=h,nn.isProcessing=!0,Bg.update.process(nn),Bg.preRender.process(nn),Bg.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(f6),this.sharedNodes.forEach(x6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wn(this.snapshot.measuredBox.x)&&!wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!IA(this.projectionDelta),f=this.getTransformTemplate(),g=f?f(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&(h||za(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),E6(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return Ct();const h=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(T6))){const{scroll:y}=this.root;y&&(hl(h.x,y.offset.x),hl(h.y,y.offset.y))}return h}removeElementScroll(c){var f;const h=Ct();if(oi(h,c),(f=this.scroll)!=null&&f.wasRoot)return h;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:b,options:w}=y;y!==this.root&&b&&w.layoutScroll&&(b.wasRoot&&oi(h,c),hl(h.x,b.offset.x),hl(h.y,b.offset.y))}return h}applyTransform(c,h=!1){const f=Ct();oi(f,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&fl(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),za(y.latestValues)&&fl(f,y.latestValues)}return za(this.latestValues)&&fl(f,this.latestValues),f}removeTransform(c){const h=Ct();oi(h,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];if(!g.instance||!za(g.latestValues))continue;F0(g.latestValues)&&g.updateSnapshot();const y=Ct(),b=g.measurePageBox();oi(y,b),d2(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return za(this.latestValues)&&d2(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var w;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!(!this.layout||!(y||b))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),fu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oi(this.target,this.layout.layoutBox),EA(this.target,this.targetDelta)):oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),fu(this.relativeTargetOrigin,this.target,S.target),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||F0(this.parent.latestValues)||_A(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(f=!1),f)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;oi(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;NP(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ct());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(l2(this.prevProjectionDelta.x,this.projectionDelta.x),l2(this.prevProjectionDelta.y,this.projectionDelta.y)),hu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!g2(this.projectionDelta.x,this.prevProjectionDelta.x)||!g2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dl(),this.projectionDelta=dl(),this.projectionDeltaWithTransform=dl()}setAnimationOrigin(c,h=!1){const f=this.snapshot,g=f?f.latestValues:{},y={...this.latestValues},b=dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Ct(),S=f?f.source:void 0,A=this.layout?this.layout.source:void 0,P=S!==A,k=this.getStack(),R=!k||k.members.length<=1,B=!!(P&&!R&&this.options.crossfade===!0&&!this.path.some(w6));this.animationProgress=0;let F;this.mixTargetDelta=te=>{const W=te/1e3;b2(b.x,c.x,W),b2(b.y,c.y,W),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),b6(this.relativeTarget,this.relativeTargetOrigin,w,W),F&&r6(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Ct()),oi(F,this.relativeTarget)),P&&(this.animationValues=y,ZP(y,g,this.latestValues,W,B,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{Gh.hasAnimatedSinceResize=!0,this.currentAnimation=GP(0,y2,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(y2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:g,latestValues:y}=c;if(!(!h||!f||!g)){if(this!==c&&this.layout&&g&&PA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){f=this.target||Ct();const b=wn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+b;const w=wn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+w}oi(h,f),fl(h,y),hu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new s6),this.sharedNodes.get(c).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const g=this.getStack();g&&g.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const g={};f.z&&Wg("z",c,g,this.animationValues);for(let y=0;y<Yg.length;y++)Wg(`rotate${Yg[y]}`,c,g,this.animationValues),Wg(`skew${Yg[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return o6;const h={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=$h(c==null?void 0:c.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=$h(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!za(this.latestValues)&&(S.transform=f?f({},""):"none",this.hasProjected=!1),S}const y=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=a6(this.projectionDeltaWithTransform,this.treeScale,y),f&&(h.transform=f(y,h.transform));const{x:b,y:w}=this.projectionDelta;h.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,g.animationValues?h.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:h.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const S in Su){if(y[S]===void 0)continue;const{correct:A,applyTo:P,isCSSVariable:k}=Su[S],R=h.transform==="none"?y[S]:A(y[S],g);if(P){const B=P.length;for(let F=0;F<B;F++)h[P[F]]=R}else k?this.options.visualElement.renderState.vars[S]=R:h[S]=R}return this.options.layoutId&&(h.pointerEvents=g===this?$h(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(v2),this.root.sharedNodes.clear()}}}function c6(t){t.updateLayout()}function u6(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?li(b=>{const w=c?e.measuredBox[b]:e.layoutBox[b],S=wn(w);w.min=i[b].min,w.max=w.min+S}):PA(l,e.layoutBox,i)&&li(b=>{const w=c?e.measuredBox[b]:e.layoutBox[b],S=wn(i[b]);w.max=w.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+S)});const h=dl();hu(h,i,e.layoutBox);const f=dl();c?hu(f,t.applyTransform(a,!0),e.measuredBox):hu(f,i,e.layoutBox);const g=!IA(h);let y=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:w,layout:S}=b;if(w&&S){const A=Ct();fu(A,e.layoutBox,w.layoutBox);const P=Ct();fu(P,i,S.layoutBox),DA(A,P)||(y=!0),b.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=A,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function d6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function h6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function f6(t){t.clearSnapshot()}function v2(t){t.clearMeasurements()}function m6(t){t.isLayoutDirty=!1}function p6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function x2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function g6(t){t.resolveTargetDelta()}function y6(t){t.calcProjection()}function v6(t){t.resetSkewAndRotation()}function x6(t){t.removeLeadSnapshot()}function b2(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function w2(t,e,n,i){t.min=pt(e.min,n.min,i),t.max=pt(e.max,n.max,i)}function b6(t,e,n,i){w2(t.x,e.x,n.x,i),w2(t.y,e.y,n.y,i)}function w6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _6={duration:.45,ease:[.4,0,.1,1]},_2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),E2=_2("applewebkit/")&&!_2("chrome/")?Math.round:ci;function T2(t){t.min=E2(t.min),t.max=E2(t.max)}function E6(t){T2(t.x),T2(t.y)}function PA(t,e,n){return t==="position"||t==="preserve-aspect"&&!SP(p2(e),p2(n),.2)}function T6(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const S6=MA({attachResizeListener:(t,e)=>Ru(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qg={current:void 0},OA=MA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qg.current){const t=new S6({});t.mount(window),t.setOptions({layoutScroll:!0}),Qg.current=t}return Qg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),A6={pan:{Feature:zP},drag:{Feature:FP,ProjectionNode:OA,MeasureLayout:CA}};function S2(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&ot.postRender(()=>l(e,Gu(e)))}class N6 extends ia{mount(){const{current:e}=this.node;e&&(this.unmount=Ok(e,(n,i)=>(S2(this.node,i,"Start"),a=>S2(this.node,a,"End"))))}unmount(){}}class C6 extends ia{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$u(Ru(this.node.current,"focus",()=>this.onFocus()),Ru(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function A2(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&ot.postRender(()=>l(e,Gu(e)))}class R6 extends ia{mount(){const{current:e}=this.node;e&&(this.unmount=Bk(e,(n,i)=>(A2(this.node,i,"Start"),(a,{success:l})=>A2(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const q0=new WeakMap,Xg=new WeakMap,j6=t=>{const e=q0.get(t.target);e&&e(t)},I6=t=>{t.forEach(j6)};function D6({root:t,...e}){const n=t||document;Xg.has(n)||Xg.set(n,{});const i=Xg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(I6,{root:t,...e})),i[a]}function k6(t,e,n){const i=D6(e);return q0.set(t,n),i.observe(t),()=>{q0.delete(t),i.unobserve(t)}}const M6={some:0,all:1};class P6 extends ia{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:M6[a]},h=f=>{const{isIntersecting:g}=f;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),w=g?y:b;w&&w(f)};return k6(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(O6(e,n))&&this.startObserver()}unmount(){}}function O6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const V6={inView:{Feature:P6},tap:{Feature:R6},focus:{Feature:C6},hover:{Feature:N6}},L6={layout:{ProjectionNode:OA,MeasureLayout:CA}},$0={current:null},VA={current:!1};function U6(){if(VA.current=!0,!!Fy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$0.current=t.matches;t.addListener(e),e()}else $0.current=!1}const B6=[...lA,hn,Ks],F6=t=>B6.find(oA(t)),z6=new WeakMap;function H6(t,e,n){for(const i in e){const a=e[i],l=n[i];if(pn(a))t.addValue(i,a);else if(pn(l))t.addValue(i,Eu(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,Eu(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const N2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class q6{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=er.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ot.render(this.render,!1,!0))};const{latestValues:f,renderState:g,onUpdate:y}=c;this.onUpdate=y,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=nm(n),this.isVariantNode=TS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in w){const A=w[S];f[S]!==void 0&&pn(A)&&A.set(f[S],!1)}}mount(e){this.current=e,z6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),VA.current||U6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Gs(this.notifyUpdate),Gs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=oo.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&ot.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xl){const n=xl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<N2.length;i++){const a=N2[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=H6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Eu(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(sA(i)||WS(i))?i=parseFloat(i):!F6(i)&&Ks.test(n)&&(i=nA(e,n)),this.setBaseTarget(e,pn(i)?i.get():i)),pn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=uv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!pn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Gy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LA extends q6{constructor(){super(...arguments),this.KeyframeResolver=cA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $6(t){return window.getComputedStyle(t)}class G6 extends LA{constructor(){super(...arguments),this.type="html",this.renderInstance=PS}readValueFromInstance(e,n){if(oo.has(n))return r3(e,n);{const i=$6(e),a=(nv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TA(e,n)}build(e,n,i){sv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return dv(e,n,i)}}class K6 extends LA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&MS(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(oo.has(n)){const i=tA(n);return i&&i.default||0}return n=OS.has(n)?n:tv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return LS(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&ot.postRender(this.updateDimensions)}build(e,n,i){lv(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,a){VS(e,n,i,a)}mount(e){this.isSVGTag=cv(e.tagName),super.mount(e)}}const Y6=(t,e)=>ov(t)?new K6(e):new G6(e,{allowProjection:t!==_.Fragment}),W6=IM({...yP,...V6,...A6,...L6},Y6),pe=Kk(W6),C2="/ai-coach/assets/logo-D1Xj5apq.png",R2=[{name:"How it works",href:"#how-it-works"},{name:"Features",href:"#features"},{name:"Pricing",href:"#pricing"},{name:"Testimonials",href:"#testimonials"}];function Q6(){const[t,e]=_.useState(!1);return d.jsxs("header",{className:"bg-white sticky top-0 z-50 shadow-sm",children:[d.jsxs("nav",{className:"mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8","aria-label":"Global",children:[d.jsx(pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex lg:flex-1",children:d.jsx(Et,{to:"/",className:"flex items-center gap-3 group",children:d.jsx("img",{alt:"AI Coach Logo",src:C2,className:"h-10 w-auto transition-transform duration-300 group-hover:scale-105 md:h-14 lg:h-14"})})}),d.jsx("div",{className:"hidden lg:flex lg:gap-x-10",children:R2.map(n=>d.jsxs(pe.a,{href:n.href,className:"text-sm font-semibold text-gray-900 hover:text-indigo-600 relative py-2",whileHover:{scale:1.05},children:[n.name,d.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-indigo-600 transition-all duration-300 group-hover:w-full"})]},n.name))}),d.jsxs(pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex flex-1 items-center justify-end gap-x-6",children:[d.jsx(Et,{to:"/login",className:"hidden text-sm font-semibold text-gray-900 hover:text-indigo-600 lg:block transition-colors",children:"Log in"}),d.jsx(pe.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:d.jsx(Et,{to:"/register",className:"rounded-md bg-gradient-to-r from-indigo-600 to-indigo-500 px-4 py-2 text-sm font-semibold text-white shadow-lg hover:shadow-indigo-500/30 hover:from-indigo-500 hover:to-indigo-400 transition-all",children:"Get Started"})})]}),d.jsx("div",{className:"flex lg:hidden",children:d.jsxs(pe.button,{type:"button",onClick:()=>e(!0),className:"-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700",whileHover:{scale:1.1},whileTap:{scale:.95},children:[d.jsx("span",{className:"sr-only",children:"Open main menu"}),d.jsx(GD,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),d.jsx(lS,{show:t,as:_.Fragment,children:d.jsxs(l_,{as:"div",className:"lg:hidden",onClose:e,children:[d.jsx("div",{className:"fixed inset-0 z-50"}),d.jsxs(l_.Panel,{className:"fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-white px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Et,{to:"/",className:"flex items-center gap-3",children:d.jsx("img",{alt:"AI Coach Logo",src:C2,className:"h-10 w-auto"})}),d.jsxs("button",{type:"button",className:"-m-2.5 rounded-md p-2.5 text-gray-700",onClick:()=>e(!1),children:[d.jsx("span",{className:"sr-only",children:"Close menu"}),d.jsx(vk,{className:"h-6 w-6","aria-hidden":"true"})]})]}),d.jsx("div",{className:"mt-6 flow-root",children:d.jsxs("div",{className:"-my-6 divide-y divide-gray-500/10",children:[d.jsx("div",{className:"space-y-2 py-6",children:R2.map(n=>d.jsx("a",{href:n.href,className:"-mx-3 block rounded-lg px-3 py-2 text-base font-semibold text-gray-900 hover:bg-gray-50",children:n.name},n.name))}),d.jsxs("div",{className:"py-6",children:[d.jsx(Et,{to:"/login",className:"-mx-3 block rounded-lg px-3 py-2 text-base font-semibold text-gray-900 hover:bg-gray-50",children:"Log in"}),d.jsx(Et,{to:"/register",className:"-mx-3 mt-2 block rounded-lg bg-indigo-600 px-3 py-2 text-base font-semibold text-white hover:bg-indigo-500",children:"Get Started"})]})]})})]})]})})]})}const X6="/ai-coach/assets/logo-white-BkPb45ZJ.png";function Z6(){const t=new Date().getFullYear(),e=[{name:"Twitter",url:"#",icon:""},{name:"LinkedIn",url:"#",icon:""},{name:"GitHub",url:"#",icon:""},{name:"Instagram",url:"#",icon:""}];return d.jsx("footer",{className:"bg-gray-900 text-gray-200",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16 sm:py-20 lg:px-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-10",children:[d.jsxs(pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"space-y-6",children:[d.jsx("a",{href:"/",className:"flex items-center gap-3 group",children:d.jsx("img",{alt:"AI Coach Logo",src:X6,className:"h-10 w-auto transition-transform duration-300 group-hover:scale-105 md:h-14 lg:h-14"})}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Empowering your goals with smart accountability. Stay consistent. Stay winning."}),d.jsx("div",{className:"flex space-x-4",children:e.map(n=>d.jsx(pe.a,{href:n.url,className:"text-gray-400 hover:text-indigo-400 text-xl",whileHover:{y:-2},"aria-label":n.name,children:n.icon},n.name))})]}),d.jsxs(pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[d.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Product"}),d.jsx("ul",{className:"space-y-3",children:["Features","How It Works","Pricing","Testimonials"].map(n=>d.jsx(pe.li,{whileHover:{x:5},children:d.jsxs("a",{href:`#${n.toLowerCase().replace(" ","-")}`,className:"text-gray-400 hover:text-indigo-400 text-sm flex items-center gap-1 transition-colors",children:[d.jsx(c_,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"}),n]})},n))})]}),d.jsxs(pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[d.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Resources"}),d.jsx("ul",{className:"space-y-3",children:["Blog","Documentation","Community","Webinars"].map(n=>d.jsx(pe.li,{whileHover:{x:5},children:d.jsxs("a",{href:"#",className:"text-gray-400 hover:text-indigo-400 text-sm flex items-center gap-1 transition-colors",children:[d.jsx(c_,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"}),n]})},n))})]}),d.jsxs(pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"space-y-4",children:[d.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Contact Us"}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(uS,{className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),d.jsx("a",{href:"mailto:hello@aicoach.com",className:"text-gray-400 hover:text-indigo-400 text-sm transition-colors",children:"hello@aicoach.com"})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h5",{className:"text-sm font-medium text-white mb-2",children:"Subscribe to our newsletter"}),d.jsxs("div",{className:"flex",children:[d.jsx("input",{type:"email",placeholder:"Your email",className:"bg-gray-800 text-white text-sm px-4 py-2 rounded-l-md focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"}),d.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-r-md text-sm font-medium transition-colors",children:"Subscribe"})]})]})]})]}),d.jsxs(pe.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6,delay:.4},className:"mt-16 border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center",children:[d.jsxs("p",{className:"text-gray-500 text-sm",children:[" ",t," AI Coach. All rights reserved."]}),d.jsxs("div",{className:"flex gap-6 mt-4 md:mt-0",children:[d.jsx("a",{href:"#",className:"text-gray-500 hover:text-gray-300 text-sm transition-colors",children:"Privacy Policy"}),d.jsx("a",{href:"#",className:"text-gray-500 hover:text-gray-300 text-sm transition-colors",children:"Terms of Service"}),d.jsx("a",{href:"#",className:"text-gray-500 hover:text-gray-300 text-sm transition-colors",children:"Cookies"})]})]})]})})}const J6=()=>{};var j2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},eO=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},BA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,f=a+2<t.length,g=f?t[a+2]:0,y=l>>2,b=(l&3)<<4|h>>4;let w=(h&15)<<2|g>>6,S=g&63;f||(S=64,c||(w=64)),i.push(n[y],n[b],n[w],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||g==null||b==null)throw new tO;const w=l<<2|h>>4;if(i.push(w),g!==64){const S=h<<4&240|g>>2;if(i.push(S),b!==64){const A=g<<6&192|b;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nO=function(t){const e=UA(t);return BA.encodeByteArray(e,!0)},pf=function(t){return nO(t).replace(/\./g,"")},FA=function(t){try{return BA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=()=>iO().__FIREBASE_DEFAULTS__,sO=()=>{if(typeof process>"u"||typeof j2>"u")return;const t=j2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FA(t[1]);return e&&JSON.parse(e)},rm=()=>{try{return J6()||rO()||sO()||aO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zA=t=>{var e,n;return(n=(e=rm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oO=t=>{const e=zA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},HA=()=>{var t;return(t=rm())===null||t===void 0?void 0:t.config},qA=t=>{var e;return(e=rm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pf(JSON.stringify(n)),pf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function dO(){var t;const e=(t=rm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bv(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mO(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pO(){return!dO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wv(){try{return typeof indexedDB=="object"}catch{return!1}}function _v(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}function $A(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="FirebaseError";class Mi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=gO,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lo.prototype.create)}}class lo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?yO(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Mi(a,h,i)}}function yO(t,e){return t.replace(vO,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const vO=/\{\$([^}]+)}/g;function xO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ys(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(I2(l)&&I2(c)){if(!Ys(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function I2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function nu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function iu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bO(t,e){const n=new wO(t,e);return n.subscribe.bind(n)}class wO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");_O(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Zg),a.error===void 0&&(a.error=Zg),a.complete===void 0&&(a.complete=Zg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _O(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=1e3,TO=2,SO=4*60*60*1e3,AO=.5;function D2(t,e=EO,n=TO){const i=e*Math.pow(n,t),a=Math.round(AO*i*(Math.random()-.5)*2);return Math.min(SO,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class ji{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new lO;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RO(e))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ha){return this.instances.has(e)}getOptions(e=Ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:CO(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ha){return this.component?this.component.multipleInstances?e:Ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CO(t){return t===Ha?void 0:t}function RO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const IO={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},DO=Fe.INFO,kO={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},MO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=kO[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sm{constructor(e){this.name=e,this._logLevel=DO,this._logHandler=MO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const PO=(t,e)=>e.some(n=>t instanceof n);let k2,M2;function OO(){return k2||(k2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VO(){return M2||(M2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GA=new WeakMap,G0=new WeakMap,KA=new WeakMap,Jg=new WeakMap,Ev=new WeakMap;function LO(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Us(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&GA.set(n,t)}).catch(()=>{}),Ev.set(e,t),e}function UO(t){if(G0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});G0.set(t,e)}let K0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return G0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BO(t){K0=t(K0)}function FO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(e0(this),e,...n);return KA.set(i,e.sort?e.sort():[e]),Us(i)}:VO().includes(t)?function(...e){return t.apply(e0(this),e),Us(GA.get(this))}:function(...e){return Us(t.apply(e0(this),e))}}function zO(t){return typeof t=="function"?FO(t):(t instanceof IDBTransaction&&UO(t),PO(t,OO())?new Proxy(t,K0):t)}function Us(t){if(t instanceof IDBRequest)return LO(t);if(Jg.has(t))return Jg.get(t);const e=zO(t);return e!==t&&(Jg.set(t,e),Ev.set(e,t)),e}const e0=t=>Ev.get(t);function YA(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Us(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Us(c.result),f.oldVersion,f.newVersion,Us(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const HO=["get","getKey","getAll","getAllKeys","count"],qO=["put","add","delete","clear"],t0=new Map;function P2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(t0.get(e))return t0.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=qO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||HO.includes(n)))return;const l=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),a&&f.done]))[0]};return t0.set(e,l),l}BO(t=>({...t,get:(e,n,i)=>P2(e,n)||t.get(e,n,i),has:(e,n)=>!!P2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function GO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Y0="@firebase/app",O2="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new sm("@firebase/app"),KO="@firebase/app-compat",YO="@firebase/analytics-compat",WO="@firebase/analytics",QO="@firebase/app-check-compat",XO="@firebase/app-check",ZO="@firebase/auth",JO="@firebase/auth-compat",eV="@firebase/database",tV="@firebase/data-connect",nV="@firebase/database-compat",iV="@firebase/functions",rV="@firebase/functions-compat",sV="@firebase/installations",aV="@firebase/installations-compat",oV="@firebase/messaging",lV="@firebase/messaging-compat",cV="@firebase/performance",uV="@firebase/performance-compat",dV="@firebase/remote-config",hV="@firebase/remote-config-compat",fV="@firebase/storage",mV="@firebase/storage-compat",pV="@firebase/firestore",gV="@firebase/vertexai",yV="@firebase/firestore-compat",vV="firebase",xV="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="[DEFAULT]",bV={[Y0]:"fire-core",[KO]:"fire-core-compat",[WO]:"fire-analytics",[YO]:"fire-analytics-compat",[XO]:"fire-app-check",[QO]:"fire-app-check-compat",[ZO]:"fire-auth",[JO]:"fire-auth-compat",[eV]:"fire-rtdb",[tV]:"fire-data-connect",[nV]:"fire-rtdb-compat",[iV]:"fire-fn",[rV]:"fire-fn-compat",[sV]:"fire-iid",[aV]:"fire-iid-compat",[oV]:"fire-fcm",[lV]:"fire-fcm-compat",[cV]:"fire-perf",[uV]:"fire-perf-compat",[dV]:"fire-rc",[hV]:"fire-rc-compat",[fV]:"fire-gcs",[mV]:"fire-gcs-compat",[pV]:"fire-fst",[yV]:"fire-fst-compat",[gV]:"fire-vertex","fire-js":"fire-js",[vV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Map,wV=new Map,Q0=new Map;function V2(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sr(t){const e=t.name;if(Q0.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;Q0.set(e,t);for(const n of gf.values())V2(n,t);for(const n of wV.values())V2(n,t);return!0}function co(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new lo("app","Firebase",_V);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=xV;function WA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:W0,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Bs.create("bad-app-name",{appName:String(a)});if(n||(n=HA()),!n)throw Bs.create("no-options");const l=gf.get(a);if(l){if(Ys(n,l.options)&&Ys(i,l.config))return l;throw Bs.create("duplicate-app",{appName:a})}const c=new jO(a);for(const f of Q0.values())c.addComponent(f);const h=new EV(n,i,c);return gf.set(a,h),h}function Tv(t=W0){const e=gf.get(t);if(!e&&t===W0&&HA())return WA();if(!e)throw Bs.create("no-app",{appName:t});return e}function ui(t,e,n){var i;let a=(i=bV[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(h.join(" "));return}sr(new ji(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="firebase-heartbeat-database",SV=1,ju="firebase-heartbeat-store";let n0=null;function QA(){return n0||(n0=YA(TV,SV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bs.create("idb-open",{originalErrorMessage:t.message})})),n0}async function AV(t){try{const n=(await QA()).transaction(ju),i=await n.objectStore(ju).get(XA(t));return await n.done,i}catch(e){if(e instanceof Mi)Xr.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(n.message)}}}async function L2(t,e){try{const i=(await QA()).transaction(ju,"readwrite");await i.objectStore(ju).put(e,XA(t)),await i.done}catch(n){if(n instanceof Mi)Xr.warn(n.message);else{const i=Bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xr.warn(i.message)}}}function XA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=1024,CV=30;class RV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IV(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=U2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>CV){const c=DV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U2(),{heartbeatsToSend:i,unsentEntries:a}=jV(this._heartbeatsCache.heartbeats),l=pf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Xr.warn(n),""}}}function U2(){return new Date().toISOString().substring(0,10)}function jV(t,e=NV){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),B2(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),B2(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class IV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wv()?_v().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return L2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return L2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function B2(t){return pf(JSON.stringify({version:2,heartbeats:t})).length}function DV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){sr(new ji("platform-logger",e=>new $O(e),"PRIVATE")),sr(new ji("heartbeat",e=>new RV(e),"PRIVATE")),ui(Y0,O2,t),ui(Y0,O2,"esm2017"),ui("fire-js","")}kV("");function Sv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function ZA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MV=ZA,JA=new lo("auth","Firebase",ZA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new sm("@firebase/auth");function PV(t,...e){yf.logLevel<=Fe.WARN&&yf.warn(`Auth (${Pl}): ${t}`,...e)}function Kh(t,...e){yf.logLevel<=Fe.ERROR&&yf.error(`Auth (${Pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,...e){throw Nv(t,...e)}function Ni(t,...e){return Nv(t,...e)}function Av(t,e,n){const i=Object.assign(Object.assign({},MV()),{[e]:n});return new lo("auth","Firebase",i).create(e,{appName:t.name})}function Kr(t){return Av(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OV(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&hi(t,"argument-error"),Av(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return JA.create(t,...e)}function Re(t,e,...n){if(!t)throw Nv(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kh(e),new Error(e)}function Zr(t,e){t||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VV(){return F2()==="http:"||F2()==="https:"}function F2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VV()||bv()||"connection"in navigator)?navigator.onLine:!0}function UV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=uO()||fO()}get(){return LV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zV=new Yu(3e4,6e4);function ts(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function cr(t,e,n,i,a={}){return tN(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Ku(Object.assign({key:t.config.apiKey},c)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:f},l);return hO()||(g.referrerPolicy="no-referrer"),eN.fetch()(await nN(t,t.config.apiHost,n,h),g)})}async function tN(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},BV),e);try{const a=new qV(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw kh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw kh(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw kh(t,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Av(t,y,g);hi(t,y)}}catch(a){if(a instanceof Mi)throw a;hi(t,"network-request-failed",{message:String(a)})}}async function Wu(t,e,n,i,a={}){const l=await cr(t,e,n,i,a);return"mfaPendingCredential"in l&&hi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function nN(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?Cv(t.config,a):`${t.config.apiScheme}://${a}`;return FV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function HV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ni(this.auth,"network-request-failed")),zV.get())})}}function kh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Ni(t,e,i);return a.customData._tokenResponse=n,a}function z2(t){return t!==void 0&&t.enterprise!==void 0}class $V{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GV(t,e){return cr(t,"GET","/v2/recaptchaConfig",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,e){return cr(t,"POST","/v1/accounts:delete",e)}async function vf(t,e){return cr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YV(t,e=!1){const n=jt(t),i=await n.getIdToken(e),a=Rv(i);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:mu(i0(a.auth_time)),issuedAtTime:mu(i0(a.iat)),expirationTime:mu(i0(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function i0(t){return Number(t)*1e3}function Rv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{const a=FA(n);return a?JSON.parse(a):(Kh("Failed to decode base64 JWT payload"),null)}catch(a){return Kh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function H2(t){const e=Rv(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Mi&&WV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function WV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xf(t){var e;const n=t.auth,i=await t.getIdToken(),a=await wl(t,vf(n,{idToken:i}));Re(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?iN(l.providerUserInfo):[],h=ZV(t.providerData,c),f=t.isAnonymous,g=!(t.email&&l.passwordHash)&&!(h!=null&&h.length),y=f?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Z0(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,b)}async function XV(t){const e=jt(t);await xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZV(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function iN(t){return t.map(e=>{var{providerId:n}=e,i=Sv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e){const n=await tN(t,{},async()=>{const i=Ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await nN(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",eN.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eL(t,e){return cr(t,"POST","/v2/accounts:revokeToken",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=H2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await JV(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new pl;return i&&(Re(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ai{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=Sv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Z0(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await wl(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YV(this,e)}reload(){return XV(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await xf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await wl(this,KV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,c,h,f,g,y;const b=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(a=n.email)!==null&&a!==void 0?a:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,A=(c=n.photoURL)!==null&&c!==void 0?c:void 0,P=(h=n.tenantId)!==null&&h!==void 0?h:void 0,k=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,R=(g=n.createdAt)!==null&&g!==void 0?g:void 0,B=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:te,isAnonymous:W,providerData:re,stsTokenManager:D}=n;Re(F&&D,e,"internal-error");const C=pl.fromJSON(this.name,D);Re(typeof F=="string",e,"internal-error"),Ds(b,e.name),Ds(w,e.name),Re(typeof te=="boolean",e,"internal-error"),Re(typeof W=="boolean",e,"internal-error"),Ds(S,e.name),Ds(A,e.name),Ds(P,e.name),Ds(k,e.name),Ds(R,e.name),Ds(B,e.name);const j=new Ai({uid:F,auth:e,email:w,emailVerified:te,displayName:b,isAnonymous:W,photoURL:A,phoneNumber:S,tenantId:P,stsTokenManager:C,createdAt:R,lastLoginAt:B});return re&&Array.isArray(re)&&(j.providerData=re.map(M=>Object.assign({},M))),k&&(j._redirectEventId=k),j}static async _fromIdTokenResponse(e,n,i=!1){const a=new pl;a.updateFromServerResponse(n);const l=new Ai({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await xf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?iN(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new pl;h.updateFromIdToken(i);const f=new Ai({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Z0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new Map;function Hr(t){Zr(t instanceof Function,"Expected a class definition");let e=q2.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rN.type="NONE";const $2=rN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t,e,n){return`firebase:${t}:${e}:${n}`}class gl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Yh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Yh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vf(this.auth,{idToken:e}).catch(()=>{});return n?Ai._fromGetAccountInfoResponse(this.auth,n,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new gl(Hr($2),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Hr($2);const c=Yh(i,e.config.apiKey,e.name);let h=null;for(const g of n)try{const y=await g._get(c);if(y){let b;if(typeof y=="string"){const w=await vf(e,{idToken:y}).catch(()=>{});if(!w)break;b=await Ai._fromGetAccountInfoResponse(e,w,y)}else b=Ai._fromJSON(e,y);g!==l&&(h=b),l=g;break}}catch{}const f=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new gl(l,e,i):(l=f[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new gl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uN(e))return"Blackberry";if(dN(e))return"Webos";if(aN(e))return"Safari";if((e.includes("chrome/")||oN(e))&&!e.includes("edge/"))return"Chrome";if(cN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function sN(t=gn()){return/firefox\//i.test(t)}function aN(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oN(t=gn()){return/crios\//i.test(t)}function lN(t=gn()){return/iemobile/i.test(t)}function cN(t=gn()){return/android/i.test(t)}function uN(t=gn()){return/blackberry/i.test(t)}function dN(t=gn()){return/webos/i.test(t)}function jv(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tL(t=gn()){var e;return jv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nL(){return mO()&&document.documentMode===10}function hN(t=gn()){return jv(t)||cN(t)||dN(t)||uN(t)||/windows phone/i.test(t)||lN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t,e=[]){let n;switch(t){case"Browser":n=G2(gn());break;case"Worker":n=`${G2(gn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,h)=>{try{const f=e(l);c(f)}catch(f){h(f)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e={}){return cr(t,"GET","/v2/passwordPolicy",ts(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=6;class aL{constructor(e){var n,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:sL,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K2(this),this.idTokenSubscription=new K2(this),this.beforeStateQueue=new iL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vf(this,{idToken:e}),i=await Ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(a=f.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(Kr(this));const n=e?jt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rL(this),n=new aL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await eL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hr(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ns(t){return jt(t)}class K2{constructor(e){this.auth=e,this.observer=null,this.addObserver=bO(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lL(t){am=t}function mN(t){return am.loadJS(t)}function cL(){return am.recaptchaEnterpriseScript}function uL(){return am.gapiScript}function dL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class hL{constructor(){this.enterprise=new fL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mL="recaptcha-enterprise",pN="NO_RECAPTCHA";class pL{constructor(e){this.type=mL,this.auth=ns(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{GV(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new $V(f);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(f=>{h(f)})})}function a(l,c,h){const f=window.grecaptcha;z2(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(pN)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hL().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(h=>{if(!n&&z2(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=cL();f.length!==0&&(f+=h),mN(f).then(()=>{a(h,l,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function Y2(t,e,n,i=!1,a=!1){const l=new pL(t);let c;if(a)c=pN;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function bf(t,e,n,i,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Y2(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Y2(t,e,n,n==="getOobCode");return i(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t,e){const n=co(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ys(l,e??{}))return a;hi(a,"already-initialized")}return n.initialize({options:e})}function yL(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function vL(t,e,n){const i=ns(t);Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=gN(e),{host:c,port:h}=xL(e),f=h===null?"":`:${h}`,g={url:`${l}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Re(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Re(Ys(g,i.config.emulator)&&Ys(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,bL()}function gN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xL(t){const e=gN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:W2(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:W2(c)}}}function W2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function wL(t,e){return cr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e){return Wu(t,"POST","/v1/accounts:signInWithPassword",ts(t,e))}async function EL(t,e){return cr(t,"POST","/v1/accounts:sendOobCode",ts(t,e))}async function TL(t,e){return EL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e){return Wu(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}async function AL(t,e){return Wu(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends Iv{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Iu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Iu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bf(e,n,"signInWithPassword",_L);case"emailLink":return SL(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bf(e,i,"signUpPassword",wL);case"emailLink":return AL(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t,e){return Wu(t,"POST","/v1/accounts:signInWithIdp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="http://localhost";class Ja extends Iv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=Sv(n,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Ja(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return yl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,yl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yl(e,n)}buildRequest(){const e={requestUri:NL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ku(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RL(t){const e=nu(iu(t)).link,n=e?nu(iu(e)).deep_link_id:null,i=nu(iu(t)).deep_link_id;return(i?nu(iu(i)).link:null)||i||n||e||t}class Dv{constructor(e){var n,i,a,l,c,h;const f=nu(iu(e)),g=(n=f.apiKey)!==null&&n!==void 0?n:null,y=(i=f.oobCode)!==null&&i!==void 0?i:null,b=CL((a=f.mode)!==null&&a!==void 0?a:null);Re(g&&y&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=y,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=f.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=RL(e);try{return new Dv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.providerId=Ol.PROVIDER_ID}static credential(e,n){return Iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Dv.parseLink(n);return Re(i,"argument-error"),Iu._fromEmailAndCode(e,i.code,i.tenantId)}}Ol.PROVIDER_ID="password";Ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends kv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Qu{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ja._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Fr.credential(n,i)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Qu{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Qu{constructor(){super("twitter.com")}static credential(e,n){return Ja._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Os.credential(n,i)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(t,e){return Wu(t,"POST","/v1/accounts:signUp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ai._fromIdTokenResponse(e,i,a),c=Q2(i);return new eo({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=Q2(i);return new eo({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function Q2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends Mi{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,wf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new wf(e,n,i,a)}}function yN(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wf._fromErrorAndOperation(t,l,e,i):l})}async function IL(t,e,n=!1){const i=await wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return eo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t,e,n=!1){const{auth:i}=t;if(Hn(i.app))return Promise.reject(Kr(i));const a="reauthenticate";try{const l=await wl(t,yN(i,a,e,t),n);Re(l.idToken,i,"internal-error");const c=Rv(l.idToken);Re(c,i,"internal-error");const{sub:h}=c;return Re(t.uid===h,i,"user-mismatch"),eo._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&hi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(t,e,n=!1){if(Hn(t.app))return Promise.reject(Kr(t));const i="signIn",a=await yN(t,i,e),l=await eo._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function kL(t,e){return vN(ns(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t){const e=ns(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ML(t,e,n){const i=ns(t);await bf(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",TL)}async function PL(t,e,n){if(Hn(t.app))return Promise.reject(Kr(t));const i=ns(t),c=await bf(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jL).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&xN(t),f}),h=await eo._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function OL(t,e,n){return Hn(t.app)?Promise.reject(Kr(t)):kL(jt(t),Ol.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&xN(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t,e){return cr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=jt(t),l={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await wl(i,VL(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function UL(t,e,n,i){return jt(t).onIdTokenChanged(e,n,i)}function BL(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function bN(t,e,n,i){return jt(t).onAuthStateChanged(e,n,i)}function FL(t){return jt(t).signOut()}const _f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_f,"1"),this.storage.removeItem(_f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=1e3,HL=10;class _N extends wN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);nL()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,HL):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},zL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_N.type="LOCAL";const qL=_N;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN extends wN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}EN.type="SESSION";const TN=EN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new om(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async g=>g(n.origin,l)),f=await $L(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,f)=>{const g=Mv("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function KL(t){nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function YL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function QL(){return SN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="firebaseLocalStorageDb",XL=1,Ef="firebaseLocalStorage",NN="fbase_key";class Xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lm(t,e){return t.transaction([Ef],e?"readwrite":"readonly").objectStore(Ef)}function ZL(){const t=indexedDB.deleteDatabase(AN);return new Xu(t).toPromise()}function J0(){const t=indexedDB.open(AN,XL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Ef,{keyPath:NN})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Ef)?e(i):(i.close(),await ZL(),e(await J0()))})})}async function X2(t,e,n){const i=lm(t,!0).put({[NN]:e,value:n});return new Xu(i).toPromise()}async function JL(t,e){const n=lm(t,!1).get(e),i=await new Xu(n).toPromise();return i===void 0?null:i.value}function Z2(t,e){const n=lm(t,!0).delete(e);return new Xu(n).toPromise()}const e9=800,t9=3;class CN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await J0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>t9)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=om._getInstance(QL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YL(),!this.activeServiceWorker)return;this.sender=new GL(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await J0();return await X2(e,_f,"1"),await Z2(e,_f),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>X2(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>JL(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=lm(a,!1).getAll();return new Xu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CN.type="LOCAL";const n9=CN;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t,e){return e?Hr(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv extends Iv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i9(t){return vN(t.auth,new Pv(t),t.bypassAuthState)}function r9(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),DL(n,new Pv(t),t.bypassAuthState)}async function s9(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),IL(n,new Pv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i9;case"linkViaPopup":case"linkViaRedirect":return s9;case"reauthViaPopup":case"reauthViaRedirect":return r9;default:hi(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=new Yu(2e3,1e4);async function IN(t,e,n){if(Hn(t.app))return Promise.reject(Ni(t,"operation-not-supported-in-this-environment"));const i=ns(t);OV(t,e,kv);const a=RN(i,n);return new Ya(i,"signInViaPopup",e,a).executeNotNull()}class Ya extends jN{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=Mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a9.get())};e()}}Ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="pendingRedirect",Wh=new Map;class l9 extends jN{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Wh.get(this.auth._key());if(!e){try{const i=await c9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Wh.set(this.auth._key(),e)}return this.bypassAuthState||Wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c9(t,e){const n=h9(e),i=d9(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function u9(t,e){Wh.set(t._key(),e)}function d9(t){return Hr(t._redirectPersistence)}function h9(t){return Yh(o9,t.config.apiKey,t.name)}async function f9(t,e,n=!1){if(Hn(t.app))return Promise.reject(Kr(t));const i=ns(t),a=RN(i,e),c=await new l9(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=10*60*1e3;class p9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!DN(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ni(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m9&&this.cachedEventUids.clear(),this.cachedEventUids.has(J2(e))}saveEventToCache(e){this.cachedEventUids.add(J2(e)),this.lastProcessedEventTime=Date.now()}}function J2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function g9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(t,e={}){return cr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x9=/^https?/;async function b9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await y9(t);for(const n of e)try{if(w9(n))return}catch{}hi(t,"unauthorized-domain")}function w9(t){const e=X0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!x9.test(n))return!1;if(v9.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=new Yu(3e4,6e4);function eE(){const t=nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function E9(t){return new Promise((e,n)=>{var i,a,l;function c(){eE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eE(),n(Ni(t,"network-request-failed"))},timeout:_9.get()})}if(!((a=(i=nr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=nr().gapi)===null||l===void 0)&&l.load)c();else{const h=dL("iframefcb");return nr()[h]=()=>{gapi.load?c():n(Ni(t,"network-request-failed"))},mN(`${uL()}?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw Qh=null,e})}let Qh=null;function T9(t){return Qh=Qh||E9(t),Qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=new Yu(5e3,15e3),A9="__/auth/iframe",N9="emulator/auth/iframe",C9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j9(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cv(e,N9):`https://${t.config.authDomain}/${A9}`,i={apiKey:e.apiKey,appName:t.name,v:Pl},a=R9.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Ku(i).slice(1)}`}async function I9(t){const e=await T9(t),n=nr().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:j9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C9,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ni(t,"network-request-failed"),h=nr().setTimeout(()=>{l(c)},S9.get());function f(){nr().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k9=500,M9=600,P9="_blank",O9="http://localhost";class tE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V9(t,e,n,i=k9,a=M9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},D9),{width:i.toString(),height:a.toString(),top:l,left:c}),g=gn().toLowerCase();n&&(h=oN(g)?P9:n),sN(g)&&(e=e||O9,f.scrollbars="yes");const y=Object.entries(f).reduce((w,[S,A])=>`${w}${S}=${A},`,"");if(tL(g)&&h!=="_self")return L9(e||"",h),new tE(null);const b=window.open(e||"",h,y);Re(b,t,"popup-blocked");try{b.focus()}catch{}return new tE(b)}function L9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9="__/auth/handler",B9="emulator/auth/handler",F9=encodeURIComponent("fac");async function nE(t,e,n,i,a,l){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Pl,eventId:a};if(e instanceof kv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",xO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))c[y]=b}if(e instanceof Qu){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await t._getAppCheckToken(),g=f?`#${F9}=${encodeURIComponent(f)}`:"";return`${z9(t)}?${Ku(h).slice(1)}${g}`}function z9({config:t}){return t.emulator?Cv(t,B9):`https://${t.authDomain}/${U9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="webStorageSupport";class H9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TN,this._completeRedirectFn=f9,this._overrideRedirectResult=u9}async _openPopup(e,n,i,a){var l;Zr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await nE(e,n,i,X0(),a);return V9(e,c,Mv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await nE(e,n,i,X0(),a);return KL(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Zr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await I9(e),i=new p9(e);return n.register("authEvent",a=>(Re(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(r0,{type:r0},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[r0];c!==void 0&&n(!!c),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=b9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hN()||aN()||jv()}}const q9=H9;var iE="@firebase/auth",rE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K9(t){sr(new ji("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fN(t)},g=new oL(i,a,l,f);return yL(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),sr(new ji("auth-internal",e=>{const n=ns(e.getProvider("auth").getImmediate());return(i=>new $9(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(iE,rE,G9(t)),ui(iE,rE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=5*60,W9=qA("authIdTokenMaxAge")||Y9;let sE=null;const Q9=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>W9)return;const a=n==null?void 0:n.token;sE!==a&&(sE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function X9(t=Tv()){const e=co(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gL(t,{popupRedirectResolver:q9,persistence:[n9,qL,TN]}),i=qA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=Q9(l.toString());BL(n,c,()=>c(n.currentUser)),UL(n,h=>c(h))}}const a=zA("auth");return a&&vL(n,`http://${a}`),n}function Z9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lL({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Ni("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",Z9().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K9("Browser");var J9="firebase",e7="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(J9,e7,"app");const kN="@firebase/installations",Ov="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=1e4,PN=`w:${Ov}`,ON="FIS_v2",t7="https://firebaseinstallations.googleapis.com/v1",n7=60*60*1e3,i7="installations",r7="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},to=new lo(i7,r7,s7);function VN(t){return t instanceof Mi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN({projectId:t}){return`${t7}/projects/${t}/installations`}function UN(t){return{token:t.token,requestStatus:2,expiresIn:o7(t.expiresIn),creationTime:Date.now()}}async function BN(t,e){const i=(await e.json()).error;return to.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function FN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function a7(t,{refreshToken:e}){const n=FN(t);return n.append("Authorization",l7(e)),n}async function zN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function o7(t){return Number(t.replace("s","000"))}function l7(t){return`${ON} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=LN(t),a=FN(t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={fid:n,authVersion:ON,appId:t.appId,sdkVersion:PN},h={method:"POST",headers:a,body:JSON.stringify(c)},f=await zN(()=>fetch(i,h));if(f.ok){const g=await f.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:UN(g.authToken)}}else throw await BN("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7=/^[cdef][\w-]{21}$/,ey="";function h7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=f7(t);return d7.test(n)?n:ey}catch{return ey}}function f7(t){return u7(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new Map;function $N(t,e){const n=cm(t);GN(n,e),m7(n,e)}function GN(t,e){const n=qN.get(t);if(n)for(const i of n)i(e)}function m7(t,e){const n=p7();n&&n.postMessage({key:t,fid:e}),g7()}let Wa=null;function p7(){return!Wa&&"BroadcastChannel"in self&&(Wa=new BroadcastChannel("[Firebase] FID Change"),Wa.onmessage=t=>{GN(t.data.key,t.data.fid)}),Wa}function g7(){qN.size===0&&Wa&&(Wa.close(),Wa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7="firebase-installations-database",v7=1,no="firebase-installations-store";let s0=null;function Vv(){return s0||(s0=YA(y7,v7,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(no)}}})),s0}async function Tf(t,e){const n=cm(t),a=(await Vv()).transaction(no,"readwrite"),l=a.objectStore(no),c=await l.get(n);return await l.put(e,n),await a.done,(!c||c.fid!==e.fid)&&$N(t,e.fid),e}async function KN(t){const e=cm(t),i=(await Vv()).transaction(no,"readwrite");await i.objectStore(no).delete(e),await i.done}async function um(t,e){const n=cm(t),a=(await Vv()).transaction(no,"readwrite"),l=a.objectStore(no),c=await l.get(n),h=e(c);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!c||c.fid!==h.fid)&&$N(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lv(t){let e;const n=await um(t.appConfig,i=>{const a=x7(i),l=b7(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===ey?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function x7(t){const e=t||{fid:h7(),registrationStatus:0};return YN(e)}function b7(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(to.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=w7(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:_7(t)}:{installationEntry:e}}async function w7(t,e){try{const n=await c7(t,e);return Tf(t.appConfig,n)}catch(n){throw VN(n)&&n.customData.serverCode===409?await KN(t.appConfig):await Tf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function _7(t){let e=await aE(t.appConfig);for(;e.registrationStatus===1;)await HN(100),e=await aE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Lv(t);return i||n}return e}function aE(t){return um(t,e=>{if(!e)throw to.create("installation-not-found");return YN(e)})}function YN(t){return E7(t)?{fid:t.fid,registrationStatus:0}:t}function E7(t){return t.registrationStatus===1&&t.registrationTime+MN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7({appConfig:t,heartbeatServiceProvider:e},n){const i=S7(t,n),a=a7(t,n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={installation:{sdkVersion:PN,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(c)},f=await zN(()=>fetch(i,h));if(f.ok){const g=await f.json();return UN(g)}else throw await BN("Generate Auth Token",f)}function S7(t,{fid:e}){return`${LN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uv(t,e=!1){let n;const i=await um(t.appConfig,l=>{if(!WN(l))throw to.create("not-registered");const c=l.authToken;if(!e&&C7(c))return l;if(c.requestStatus===1)return n=A7(t,e),l;{if(!navigator.onLine)throw to.create("app-offline");const h=j7(l);return n=N7(t,h),h}});return n?await n:i.authToken}async function A7(t,e){let n=await oE(t.appConfig);for(;n.authToken.requestStatus===1;)await HN(100),n=await oE(t.appConfig);const i=n.authToken;return i.requestStatus===0?Uv(t,e):i}function oE(t){return um(t,e=>{if(!WN(e))throw to.create("not-registered");const n=e.authToken;return I7(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function N7(t,e){try{const n=await T7(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Tf(t.appConfig,i),n}catch(n){if(VN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await KN(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Tf(t.appConfig,i)}throw n}}function WN(t){return t!==void 0&&t.registrationStatus===2}function C7(t){return t.requestStatus===2&&!R7(t)}function R7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+n7}function j7(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function I7(t){return t.requestStatus===1&&t.requestTime+MN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D7(t){const e=t,{installationEntry:n,registrationPromise:i}=await Lv(e);return i?i.catch(console.error):Uv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k7(t,e=!1){const n=t;return await M7(n),(await Uv(n,e)).token}async function M7(t){const{registrationPromise:e}=await Lv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P7(t){if(!t||!t.options)throw a0("App Configuration");if(!t.name)throw a0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw a0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function a0(t){return to.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="installations",O7="installations-internal",V7=t=>{const e=t.getProvider("app").getImmediate(),n=P7(e),i=co(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},L7=t=>{const e=t.getProvider("app").getImmediate(),n=co(e,QN).getImmediate();return{getId:()=>D7(n),getToken:a=>k7(n,a)}};function U7(){sr(new ji(QN,V7,"PUBLIC")),sr(new ji(O7,L7,"PRIVATE"))}U7();ui(kN,Ov);ui(kN,Ov,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="analytics",B7="firebase_id",F7="origin",z7=60*1e3,H7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new sm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$n=new lo("analytics","Analytics",q7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t){if(!t.startsWith(Bv)){const e=$n.create("invalid-gtag-resource",{gtagURL:t});return In.warn(e.message),""}return t}function XN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function G7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function K7(t,e){const n=G7("firebase-js-sdk-policy",{createScriptURL:$7}),i=document.createElement("script"),a=`${Bv}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function Y7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function W7(t,e,n,i,a,l){const c=i[a];try{if(c)await e[c];else{const f=(await XN(n)).find(g=>g.measurementId===a);f&&await e[f.appId]}}catch(h){In.error(h)}t("config",a,l)}async function Q7(t,e,n,i,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const h=await XN(n);for(const f of c){const g=h.find(b=>b.measurementId===f),y=g&&e[g.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",i,a||{})}catch(l){In.error(l)}}function X7(t,e,n,i){async function a(l,...c){try{if(l==="event"){const[h,f]=c;await Q7(t,e,n,h,f)}else if(l==="config"){const[h,f]=c;await W7(t,e,n,i,h,f)}else if(l==="consent"){const[h,f]=c;t("consent",h,f)}else if(l==="get"){const[h,f,g]=c;t("get",h,f,g)}else if(l==="set"){const[h]=c;t("set",h)}else t(l,...c)}catch(h){In.error(h)}}return a}function Z7(t,e,n,i,a){let l=function(...c){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=X7(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function J7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Bv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=30,tU=1e3;class nU{constructor(e={},n=tU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ZN=new nU;function iU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function rU(t){var e;const{appId:n,apiKey:i}=t,a={method:"GET",headers:iU(i)},l=H7.replace("{app-id}",n),c=await fetch(l,a);if(c.status!==200&&c.status!==304){let h="";try{const f=await c.json();!((e=f.error)===null||e===void 0)&&e.message&&(h=f.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()}async function sU(t,e=ZN,n){const{appId:i,apiKey:a,measurementId:l}=t.options;if(!i)throw $n.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw $n.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new lU;return setTimeout(async()=>{h.abort()},z7),JN({appId:i,apiKey:a,measurementId:l},c,h,e)}async function JN(t,{throttleEndTimeMillis:e,backoffCount:n},i,a=ZN){var l;const{appId:c,measurementId:h}=t;try{await aU(i,e)}catch(f){if(h)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:c,measurementId:h};throw f}try{const f=await rU(t);return a.deleteThrottleMetadata(c),f}catch(f){const g=f;if(!oU(g)){if(a.deleteThrottleMetadata(c),h)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:c,measurementId:h};throw f}const y=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?D2(n,a.intervalMillis,eU):D2(n,a.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return a.setThrottleMetadata(c,b),In.debug(`Calling attemptFetch again in ${y} millis`),JN(t,b,i,a)}}function aU(t,e){return new Promise((n,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),i($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function oU(t){if(!(t instanceof Mi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class lU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function cU(t,e,n,i,a){if(a&&a.global){t("event",n,i);return}else{const l=await e,c=Object.assign(Object.assign({},i),{send_to:l});t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU(){if(wv())try{await _v()}catch(t){return In.warn($n.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return In.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function dU(t,e,n,i,a,l,c){var h;const f=sU(t);f.then(S=>{n[S.measurementId]=S.appId,t.options.measurementId&&S.measurementId!==t.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>In.error(S)),e.push(f);const g=uU().then(S=>{if(S)return i.getId()}),[y,b]=await Promise.all([f,g]);J7(l)||K7(l,y.measurementId),a("js",new Date);const w=(h=c==null?void 0:c.config)!==null&&h!==void 0?h:{};return w[F7]="firebase",w.update=!0,b!=null&&(w[B7]=b),a("config",y.measurementId,w),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.app=e}_delete(){return delete pu[this.app.options.appId],Promise.resolve()}}let pu={},lE=[];const cE={};let o0="dataLayer",fU="gtag",uE,eC,dE=!1;function mU(){const t=[];if(bv()&&t.push("This is a browser extension environment."),$A()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,a)=>`(${a+1}) ${i}`).join(" "),n=$n.create("invalid-analytics-context",{errorInfo:e});In.warn(n.message)}}function pU(t,e,n){mU();const i=t.options.appId;if(!i)throw $n.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $n.create("no-api-key");if(pu[i]!=null)throw $n.create("already-exists",{id:i});if(!dE){Y7(o0);const{wrappedGtag:l,gtagCore:c}=Z7(pu,lE,cE,o0,fU);eC=l,uE=c,dE=!0}return pu[i]=dU(t,lE,cE,e,uE,o0,n),new hU(t)}function gU(t=Tv()){t=jt(t);const e=co(t,Sf);return e.isInitialized()?e.getImmediate():yU(t)}function yU(t,e={}){const n=co(t,Sf);if(n.isInitialized()){const a=n.getImmediate();if(Ys(e,n.getOptions()))return a;throw $n.create("already-initialized")}return n.initialize({options:e})}async function vU(){if(bv()||!$A()||!wv())return!1;try{return await _v()}catch{return!1}}function xU(t,e,n,i){t=jt(t),cU(eC,pu[t.app.options.appId],e,n,i).catch(a=>In.error(a))}const hE="@firebase/analytics",fE="0.10.12";function bU(){sr(new ji(Sf,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return pU(i,a,n)},"PUBLIC")),sr(new ji("analytics-internal",t,"PRIVATE")),ui(hE,fE),ui(hE,fE,"esm2017");function t(e){try{const n=e.getProvider(Sf).getImmediate();return{logEvent:(i,a,l)=>xU(n,i,a,l)}}catch(n){throw $n.create("interop-component-reg-failed",{reason:n})}}}bU();var mE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,tC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function j(){}j.prototype=C.prototype,D.D=C.prototype,D.prototype=new j,D.prototype.constructor=D,D.C=function(M,L,H){for(var V=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)V[ye-2]=arguments[ye];return C.prototype[L].apply(M,V)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,C,j){j||(j=0);var M=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)M[L]=C.charCodeAt(j++)|C.charCodeAt(j++)<<8|C.charCodeAt(j++)<<16|C.charCodeAt(j++)<<24;else for(L=0;16>L;++L)M[L]=C[j++]|C[j++]<<8|C[j++]<<16|C[j++]<<24;C=D.g[0],j=D.g[1],L=D.g[2];var H=D.g[3],V=C+(H^j&(L^H))+M[0]+3614090360&4294967295;C=j+(V<<7&4294967295|V>>>25),V=H+(L^C&(j^L))+M[1]+3905402710&4294967295,H=C+(V<<12&4294967295|V>>>20),V=L+(j^H&(C^j))+M[2]+606105819&4294967295,L=H+(V<<17&4294967295|V>>>15),V=j+(C^L&(H^C))+M[3]+3250441966&4294967295,j=L+(V<<22&4294967295|V>>>10),V=C+(H^j&(L^H))+M[4]+4118548399&4294967295,C=j+(V<<7&4294967295|V>>>25),V=H+(L^C&(j^L))+M[5]+1200080426&4294967295,H=C+(V<<12&4294967295|V>>>20),V=L+(j^H&(C^j))+M[6]+2821735955&4294967295,L=H+(V<<17&4294967295|V>>>15),V=j+(C^L&(H^C))+M[7]+4249261313&4294967295,j=L+(V<<22&4294967295|V>>>10),V=C+(H^j&(L^H))+M[8]+1770035416&4294967295,C=j+(V<<7&4294967295|V>>>25),V=H+(L^C&(j^L))+M[9]+2336552879&4294967295,H=C+(V<<12&4294967295|V>>>20),V=L+(j^H&(C^j))+M[10]+4294925233&4294967295,L=H+(V<<17&4294967295|V>>>15),V=j+(C^L&(H^C))+M[11]+2304563134&4294967295,j=L+(V<<22&4294967295|V>>>10),V=C+(H^j&(L^H))+M[12]+1804603682&4294967295,C=j+(V<<7&4294967295|V>>>25),V=H+(L^C&(j^L))+M[13]+4254626195&4294967295,H=C+(V<<12&4294967295|V>>>20),V=L+(j^H&(C^j))+M[14]+2792965006&4294967295,L=H+(V<<17&4294967295|V>>>15),V=j+(C^L&(H^C))+M[15]+1236535329&4294967295,j=L+(V<<22&4294967295|V>>>10),V=C+(L^H&(j^L))+M[1]+4129170786&4294967295,C=j+(V<<5&4294967295|V>>>27),V=H+(j^L&(C^j))+M[6]+3225465664&4294967295,H=C+(V<<9&4294967295|V>>>23),V=L+(C^j&(H^C))+M[11]+643717713&4294967295,L=H+(V<<14&4294967295|V>>>18),V=j+(H^C&(L^H))+M[0]+3921069994&4294967295,j=L+(V<<20&4294967295|V>>>12),V=C+(L^H&(j^L))+M[5]+3593408605&4294967295,C=j+(V<<5&4294967295|V>>>27),V=H+(j^L&(C^j))+M[10]+38016083&4294967295,H=C+(V<<9&4294967295|V>>>23),V=L+(C^j&(H^C))+M[15]+3634488961&4294967295,L=H+(V<<14&4294967295|V>>>18),V=j+(H^C&(L^H))+M[4]+3889429448&4294967295,j=L+(V<<20&4294967295|V>>>12),V=C+(L^H&(j^L))+M[9]+568446438&4294967295,C=j+(V<<5&4294967295|V>>>27),V=H+(j^L&(C^j))+M[14]+3275163606&4294967295,H=C+(V<<9&4294967295|V>>>23),V=L+(C^j&(H^C))+M[3]+4107603335&4294967295,L=H+(V<<14&4294967295|V>>>18),V=j+(H^C&(L^H))+M[8]+1163531501&4294967295,j=L+(V<<20&4294967295|V>>>12),V=C+(L^H&(j^L))+M[13]+2850285829&4294967295,C=j+(V<<5&4294967295|V>>>27),V=H+(j^L&(C^j))+M[2]+4243563512&4294967295,H=C+(V<<9&4294967295|V>>>23),V=L+(C^j&(H^C))+M[7]+1735328473&4294967295,L=H+(V<<14&4294967295|V>>>18),V=j+(H^C&(L^H))+M[12]+2368359562&4294967295,j=L+(V<<20&4294967295|V>>>12),V=C+(j^L^H)+M[5]+4294588738&4294967295,C=j+(V<<4&4294967295|V>>>28),V=H+(C^j^L)+M[8]+2272392833&4294967295,H=C+(V<<11&4294967295|V>>>21),V=L+(H^C^j)+M[11]+1839030562&4294967295,L=H+(V<<16&4294967295|V>>>16),V=j+(L^H^C)+M[14]+4259657740&4294967295,j=L+(V<<23&4294967295|V>>>9),V=C+(j^L^H)+M[1]+2763975236&4294967295,C=j+(V<<4&4294967295|V>>>28),V=H+(C^j^L)+M[4]+1272893353&4294967295,H=C+(V<<11&4294967295|V>>>21),V=L+(H^C^j)+M[7]+4139469664&4294967295,L=H+(V<<16&4294967295|V>>>16),V=j+(L^H^C)+M[10]+3200236656&4294967295,j=L+(V<<23&4294967295|V>>>9),V=C+(j^L^H)+M[13]+681279174&4294967295,C=j+(V<<4&4294967295|V>>>28),V=H+(C^j^L)+M[0]+3936430074&4294967295,H=C+(V<<11&4294967295|V>>>21),V=L+(H^C^j)+M[3]+3572445317&4294967295,L=H+(V<<16&4294967295|V>>>16),V=j+(L^H^C)+M[6]+76029189&4294967295,j=L+(V<<23&4294967295|V>>>9),V=C+(j^L^H)+M[9]+3654602809&4294967295,C=j+(V<<4&4294967295|V>>>28),V=H+(C^j^L)+M[12]+3873151461&4294967295,H=C+(V<<11&4294967295|V>>>21),V=L+(H^C^j)+M[15]+530742520&4294967295,L=H+(V<<16&4294967295|V>>>16),V=j+(L^H^C)+M[2]+3299628645&4294967295,j=L+(V<<23&4294967295|V>>>9),V=C+(L^(j|~H))+M[0]+4096336452&4294967295,C=j+(V<<6&4294967295|V>>>26),V=H+(j^(C|~L))+M[7]+1126891415&4294967295,H=C+(V<<10&4294967295|V>>>22),V=L+(C^(H|~j))+M[14]+2878612391&4294967295,L=H+(V<<15&4294967295|V>>>17),V=j+(H^(L|~C))+M[5]+4237533241&4294967295,j=L+(V<<21&4294967295|V>>>11),V=C+(L^(j|~H))+M[12]+1700485571&4294967295,C=j+(V<<6&4294967295|V>>>26),V=H+(j^(C|~L))+M[3]+2399980690&4294967295,H=C+(V<<10&4294967295|V>>>22),V=L+(C^(H|~j))+M[10]+4293915773&4294967295,L=H+(V<<15&4294967295|V>>>17),V=j+(H^(L|~C))+M[1]+2240044497&4294967295,j=L+(V<<21&4294967295|V>>>11),V=C+(L^(j|~H))+M[8]+1873313359&4294967295,C=j+(V<<6&4294967295|V>>>26),V=H+(j^(C|~L))+M[15]+4264355552&4294967295,H=C+(V<<10&4294967295|V>>>22),V=L+(C^(H|~j))+M[6]+2734768916&4294967295,L=H+(V<<15&4294967295|V>>>17),V=j+(H^(L|~C))+M[13]+1309151649&4294967295,j=L+(V<<21&4294967295|V>>>11),V=C+(L^(j|~H))+M[4]+4149444226&4294967295,C=j+(V<<6&4294967295|V>>>26),V=H+(j^(C|~L))+M[11]+3174756917&4294967295,H=C+(V<<10&4294967295|V>>>22),V=L+(C^(H|~j))+M[2]+718787259&4294967295,L=H+(V<<15&4294967295|V>>>17),V=j+(H^(L|~C))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+H&4294967295}i.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var j=C-this.blockSize,M=this.B,L=this.h,H=0;H<C;){if(L==0)for(;H<=j;)a(this,D,H),H+=this.blockSize;if(typeof D=="string"){for(;H<C;)if(M[L++]=D.charCodeAt(H++),L==this.blockSize){a(this,M),L=0;break}}else for(;H<C;)if(M[L++]=D[H++],L==this.blockSize){a(this,M),L=0;break}}this.h=L,this.o+=C},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var j=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=j&255,j/=256;for(this.u(D),D=Array(16),C=j=0;4>C;++C)for(var M=0;32>M;M+=8)D[j++]=this.g[C]>>>M&255;return D};function l(D,C){var j=h;return Object.prototype.hasOwnProperty.call(j,D)?j[D]:j[D]=C(D)}function c(D,C){this.h=C;for(var j=[],M=!0,L=D.length-1;0<=L;L--){var H=D[L]|0;M&&H==C||(j[L]=H,M=!1)}this.g=j}var h={};function f(D){return-128<=D&&128>D?l(D,function(C){return new c([C|0],0>C?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return b;if(0>D)return k(g(-D));for(var C=[],j=1,M=0;D>=j;M++)C[M]=D/j|0,j*=4294967296;return new c(C,0)}function y(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return k(y(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=g(Math.pow(C,8)),M=b,L=0;L<D.length;L+=8){var H=Math.min(8,D.length-L),V=parseInt(D.substring(L,L+H),C);8>H?(H=g(Math.pow(C,H)),M=M.j(H).add(g(V))):(M=M.j(j),M=M.add(g(V)))}return M}var b=f(0),w=f(1),S=f(16777216);t=c.prototype,t.m=function(){if(P(this))return-k(this).m();for(var D=0,C=1,j=0;j<this.g.length;j++){var M=this.i(j);D+=(0<=M?M:4294967296+M)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(P(this))return"-"+k(this).toString(D);for(var C=g(Math.pow(D,6)),j=this,M="";;){var L=te(j,C).g;j=R(j,L.j(C));var H=((0<j.g.length?j.g[0]:j.h)>>>0).toString(D);if(j=L,A(j))return H+M;for(;6>H.length;)H="0"+H;M=H+M}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function P(D){return D.h==-1}t.l=function(D){return D=R(this,D),P(D)?-1:A(D)?0:1};function k(D){for(var C=D.g.length,j=[],M=0;M<C;M++)j[M]=~D.g[M];return new c(j,~D.h).add(w)}t.abs=function(){return P(this)?k(this):this},t.add=function(D){for(var C=Math.max(this.g.length,D.g.length),j=[],M=0,L=0;L<=C;L++){var H=M+(this.i(L)&65535)+(D.i(L)&65535),V=(H>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);M=V>>>16,H&=65535,V&=65535,j[L]=V<<16|H}return new c(j,j[j.length-1]&-2147483648?-1:0)};function R(D,C){return D.add(k(C))}t.j=function(D){if(A(this)||A(D))return b;if(P(this))return P(D)?k(this).j(k(D)):k(k(this).j(D));if(P(D))return k(this.j(k(D)));if(0>this.l(S)&&0>D.l(S))return g(this.m()*D.m());for(var C=this.g.length+D.g.length,j=[],M=0;M<2*C;M++)j[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<D.g.length;L++){var H=this.i(M)>>>16,V=this.i(M)&65535,ye=D.i(L)>>>16,xe=D.i(L)&65535;j[2*M+2*L]+=V*xe,B(j,2*M+2*L),j[2*M+2*L+1]+=H*xe,B(j,2*M+2*L+1),j[2*M+2*L+1]+=V*ye,B(j,2*M+2*L+1),j[2*M+2*L+2]+=H*ye,B(j,2*M+2*L+2)}for(M=0;M<C;M++)j[M]=j[2*M+1]<<16|j[2*M];for(M=C;M<2*C;M++)j[M]=0;return new c(j,0)};function B(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function F(D,C){this.g=D,this.h=C}function te(D,C){if(A(C))throw Error("division by zero");if(A(D))return new F(b,b);if(P(D))return C=te(k(D),C),new F(k(C.g),k(C.h));if(P(C))return C=te(D,k(C)),new F(k(C.g),C.h);if(30<D.g.length){if(P(D)||P(C))throw Error("slowDivide_ only works with positive integers.");for(var j=w,M=C;0>=M.l(D);)j=W(j),M=W(M);var L=re(j,1),H=re(M,1);for(M=re(M,2),j=re(j,2);!A(M);){var V=H.add(M);0>=V.l(D)&&(L=L.add(j),H=V),M=re(M,1),j=re(j,1)}return C=R(D,L.j(C)),new F(L,C)}for(L=b;0<=D.l(C);){for(j=Math.max(1,Math.floor(D.m()/C.m())),M=Math.ceil(Math.log(j)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),H=g(j),V=H.j(C);P(V)||0<V.l(D);)j-=M,H=g(j),V=H.j(C);A(H)&&(H=w),L=L.add(H),D=R(D,V)}return new F(L,D)}t.A=function(D){return te(this,D).h},t.and=function(D){for(var C=Math.max(this.g.length,D.g.length),j=[],M=0;M<C;M++)j[M]=this.i(M)&D.i(M);return new c(j,this.h&D.h)},t.or=function(D){for(var C=Math.max(this.g.length,D.g.length),j=[],M=0;M<C;M++)j[M]=this.i(M)|D.i(M);return new c(j,this.h|D.h)},t.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),j=[],M=0;M<C;M++)j[M]=this.i(M)^D.i(M);return new c(j,this.h^D.h)};function W(D){for(var C=D.g.length+1,j=[],M=0;M<C;M++)j[M]=D.i(M)<<1|D.i(M-1)>>>31;return new c(j,D.h)}function re(D,C){var j=C>>5;C%=32;for(var M=D.g.length-j,L=[],H=0;H<M;H++)L[H]=0<C?D.i(H+j)>>>C|D.i(H+j+1)<<32-C:D.i(H+j);return new c(L,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,tC=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Fs=c}).apply(typeof mE<"u"?mE:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nC,ru,iC,Xh,ty,rC,sC,aC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,x,E){return m==Array.prototype||m==Object.prototype||(m[x]=E.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var x=0;x<m.length;++x){var E=m[x];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(m,x){if(x)e:{var E=i;m=m.split(".");for(var I=0;I<m.length-1;I++){var G=m[I];if(!(G in E))break e;E=E[G]}m=m[m.length-1],I=E[m],x=x(I),x!=I&&x!=null&&e(E,m,{configurable:!0,writable:!0,value:x})}}function l(m,x){m instanceof String&&(m+="");var E=0,I=!1,G={next:function(){if(!I&&E<m.length){var J=E++;return{value:x(J,m[J]),done:!1}}return I=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(m){return m||function(){return l(this,function(x,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(m){var x=typeof m;return x=x!="object"?x:m?Array.isArray(m)?"array":x:"null",x=="array"||x=="object"&&typeof m.length=="number"}function g(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function y(m,x,E){return m.call.apply(m.bind,arguments)}function b(m,x,E){if(!m)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,I),m.apply(x,G)}}return function(){return m.apply(x,arguments)}}function w(m,x,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,w.apply(null,arguments)}function S(m,x){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),m.apply(this,I)}}function A(m,x){function E(){}E.prototype=x.prototype,m.aa=x.prototype,m.prototype=new E,m.prototype.constructor=m,m.Qb=function(I,G,J){for(var de=Array(arguments.length-2),He=2;He<arguments.length;He++)de[He-2]=arguments[He];return x.prototype[G].apply(I,de)}}function P(m){const x=m.length;if(0<x){const E=Array(x);for(let I=0;I<x;I++)E[I]=m[I];return E}return[]}function k(m,x){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(f(I)){const G=m.length||0,J=I.length||0;m.length=G+J;for(let de=0;de<J;de++)m[G+de]=I[de]}else m.push(I)}}class R{constructor(x,E){this.i=x,this.j=E,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function B(m){return/^[\s\xa0]*$/.test(m)}function F(){var m=h.navigator;return m&&(m=m.userAgent)?m:""}function te(m){return te[" "](m),m}te[" "]=function(){};var W=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function re(m,x,E){for(const I in m)x.call(E,m[I],I,m)}function D(m,x){for(const E in m)x.call(void 0,m[E],E,m)}function C(m){const x={};for(const E in m)x[E]=m[E];return x}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(m,x){let E,I;for(let G=1;G<arguments.length;G++){I=arguments[G];for(E in I)m[E]=I[E];for(let J=0;J<j.length;J++)E=j[J],Object.prototype.hasOwnProperty.call(I,E)&&(m[E]=I[E])}}function L(m){var x=1;m=m.split(":");const E=[];for(;0<x&&m.length;)E.push(m.shift()),x--;return m.length&&E.push(m.join(":")),E}function H(m){h.setTimeout(()=>{throw m},0)}function V(){var m=he;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class ye{constructor(){this.h=this.g=null}add(x,E){const I=xe.get();I.set(x,E),this.h?this.h.next=I:this.g=I,this.h=I}}var xe=new R(()=>new X,m=>m.reset());class X{constructor(){this.next=this.g=this.h=null}set(x,E){this.h=x,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let q,ne=!1,he=new ye,O=()=>{const m=h.Promise.resolve(void 0);q=()=>{m.then(ee)}};var ee=()=>{for(var m;m=V();){try{m.h.call(m.g)}catch(E){H(E)}var x=xe;x.j(m),100>x.h&&(x.h++,m.next=x.g,x.g=m)}ne=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const E=()=>{};h.addEventListener("test",E,x),h.removeEventListener("test",E,x)}catch{}return m}();function De(m,x){if(ae.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var E=this.type=m.type,I=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget){if(W){e:{try{te(x.nodeName);var G=!0;break e}catch{}G=!1}G||(x=null)}}else E=="mouseover"?x=m.fromElement:E=="mouseout"&&(x=m.toElement);this.relatedTarget=x,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Se[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&De.aa.h.call(this)}}A(De,ae);var Se={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Ht(m,x,E,I,G){this.listener=m,this.proxy=null,this.src=x,this.type=E,this.capture=!!I,this.ha=G,this.key=++Ke,this.da=this.fa=!1}function pi(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function gi(m){this.src=m,this.g={},this.h=0}gi.prototype.add=function(m,x,E,I,G){var J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);var de=dr(m,x,I,G);return-1<de?(x=m[de],E||(x.fa=!1)):(x=new Ht(x,this.src,J,!!I,G),x.fa=E,m.push(x)),x};function ur(m,x){var E=x.type;if(E in m.g){var I=m.g[E],G=Array.prototype.indexOf.call(I,x,void 0),J;(J=0<=G)&&Array.prototype.splice.call(I,G,1),J&&(pi(x),m.g[E].length==0&&(delete m.g[E],m.h--))}}function dr(m,x,E,I){for(var G=0;G<m.length;++G){var J=m[G];if(!J.da&&J.listener==x&&J.capture==!!E&&J.ha==I)return G}return-1}var hr="closure_lm_"+(1e6*Math.random()|0),fr={};function fe(m,x,E,I,G){if(Array.isArray(x)){for(var J=0;J<x.length;J++)fe(m,x[J],E,I,G);return null}return E=rd(E),m&&m[ct]?m.K(x,E,g(I)?!!I.capture:!1,G):Ae(m,x,E,!1,I,G)}function Ae(m,x,E,I,G,J){if(!x)throw Error("Invalid event type");var de=g(G)?!!G.capture:!!G,He=Yn(m);if(He||(m[hr]=He=new gi(m)),E=He.add(x,E,I,de,J),E.proxy)return E;if(I=ft(),E.proxy=I,I.src=m,I.listener=E,m.addEventListener)be||(G=de),G===void 0&&(G=!1),m.addEventListener(x.toString(),I,G);else if(m.attachEvent)m.attachEvent(Kn(x.toString()),I);else if(m.addListener&&m.removeListener)m.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ft(){function m(E){return x.call(m.src,m.listener,E)}const x=mo;return m}function Gn(m,x,E,I,G){if(Array.isArray(x))for(var J=0;J<x.length;J++)Gn(m,x[J],E,I,G);else I=g(I)?!!I.capture:!!I,E=rd(E),m&&m[ct]?(m=m.i,x=String(x).toString(),x in m.g&&(J=m.g[x],E=dr(J,E,I,G),-1<E&&(pi(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete m.g[x],m.h--)))):m&&(m=Yn(m))&&(x=m.g[x.toString()],m=-1,x&&(m=dr(x,E,I,G)),(E=-1<m?x[m]:null)&&yi(E))}function yi(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[ct])ur(x.i,m);else{var E=m.type,I=m.proxy;x.removeEventListener?x.removeEventListener(E,I,m.capture):x.detachEvent?x.detachEvent(Kn(E),I):x.addListener&&x.removeListener&&x.removeListener(I),(E=Yn(x))?(ur(E,m),E.h==0&&(E.src=null,x[hr]=null)):pi(m)}}}function Kn(m){return m in fr?fr[m]:fr[m]="on"+m}function mo(m,x){if(m.da)m=!0;else{x=new De(x,this);var E=m.listener,I=m.ha||m.src;m.fa&&yi(m),m=E.call(I,x)}return m}function Yn(m){return m=m[hr],m instanceof gi?m:null}var qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function rd(m){return typeof m=="function"?m:(m[qt]||(m[qt]=function(x){return m.handleEvent(x)}),m[qt])}function xt(){ue.call(this),this.i=new gi(this),this.M=this,this.F=null}A(xt,ue),xt.prototype[ct]=!0,xt.prototype.removeEventListener=function(m,x,E,I){Gn(this,m,x,E,I)};function Ze(m,x){var E,I=m.F;if(I)for(E=[];I;I=I.F)E.push(I);if(m=m.M,I=x.type||x,typeof x=="string")x=new ae(x,m);else if(x instanceof ae)x.target=x.target||m;else{var G=x;x=new ae(I,m),M(x,G)}if(G=!0,E)for(var J=E.length-1;0<=J;J--){var de=x.g=E[J];G=kn(de,I,!0,x)&&G}if(de=x.g=m,G=kn(de,I,!0,x)&&G,G=kn(de,I,!1,x)&&G,E)for(J=0;J<E.length;J++)de=x.g=E[J],G=kn(de,I,!1,x)&&G}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var m=this.i,x;for(x in m.g){for(var E=m.g[x],I=0;I<E.length;I++)pi(E[I]);delete m.g[x],m.h--}}this.F=null},xt.prototype.K=function(m,x,E,I){return this.i.add(String(m),x,!1,E,I)},xt.prototype.L=function(m,x,E,I){return this.i.add(String(m),x,!0,E,I)};function kn(m,x,E,I){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();for(var G=!0,J=0;J<x.length;++J){var de=x[J];if(de&&!de.da&&de.capture==E){var He=de.listener,Lt=de.ha||de.src;de.fa&&ur(m.i,de),G=He.call(Lt,I)!==!1&&G}}return G&&!I.defaultPrevented}function ln(m,x,E){if(typeof m=="function")E&&(m=w(m,E));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:h.setTimeout(m,x||0)}function sd(m){m.g=ln(()=>{m.g=null,m.i&&(m.i=!1,sd(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class Dm extends ue{constructor(x,E){super(),this.m=x,this.l=E,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:sd(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(m){ue.call(this),this.h=m,this.g={}}A(oa,ue);var la=[];function ca(m){re(m.g,function(x,E){this.g.hasOwnProperty(E)&&yi(x)},m),m.g={}}oa.prototype.N=function(){oa.aa.N.call(this),ca(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vi=h.JSON.stringify,po=h.JSON.parse,ua=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function zl(){}zl.prototype.h=null;function Hl(m){return m.h||(m.h=m.i())}function ql(){}var mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){ae.call(this,"d")}A(pr,ae);function $l(){ae.call(this,"c")}A($l,ae);var Pi={},Gl=null;function rs(){return Gl=Gl||new xt}Pi.La="serverreachability";function go(m){ae.call(this,Pi.La,m)}A(go,ae);function ss(m){const x=rs();Ze(x,new go(x))}Pi.STAT_EVENT="statevent";function ad(m,x){ae.call(this,Pi.STAT_EVENT,m),this.stat=x}A(ad,ae);function ut(m){const x=rs();Ze(x,new ad(x,m))}Pi.Ma="timingevent";function Vt(m,x){ae.call(this,Pi.Ma,m),this.size=x}A(Vt,ae);function It(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},x)}function Wn(){this.g=!0}Wn.prototype.xa=function(){this.g=!1};function Kl(m,x,E,I,G,J){m.info(function(){if(m.g)if(J)for(var de="",He=J.split("&"),Lt=0;Lt<He.length;Lt++){var qe=He[Lt].split("=");if(1<qe.length){var Gt=qe[0];qe=qe[1];var Ut=Gt.split("_");de=2<=Ut.length&&Ut[1]=="type"?de+(Gt+"="+qe+"&"):de+(Gt+"=redacted&")}}else de=null;else de=J;return"XMLHTTP REQ ("+I+") [attempt "+G+"]: "+x+`
`+E+`
`+de})}function km(m,x,E,I,G,J,de){m.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+G+"]: "+x+`
`+E+`
`+J+" "+de})}function as(m,x,E,I){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+da(m,E)+(I?" "+I:"")})}function od(m,x){m.info(function(){return"TIMEOUT: "+x})}Wn.prototype.info=function(){};function da(m,x){if(!m.g)return x;if(!x)return null;try{var E=JSON.parse(x);if(E){for(m=0;m<E.length;m++)if(Array.isArray(E[m])){var I=E[m];if(!(2>I.length)){var G=I[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var de=1;de<G.length;de++)G[de]=""}}}}return vi(E)}catch{return x}}var os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Oi;function Vi(){}A(Vi,zl),Vi.prototype.g=function(){return new XMLHttpRequest},Vi.prototype.i=function(){return{}},Oi=new Vi;function yn(m,x,E,I){this.j=m,this.i=x,this.l=E,this.R=I||1,this.U=new oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var Yl={},yo={};function xi(m,x,E){m.L=1,m.v=ga(Mn(x)),m.m=E,m.P=!0,yr(m,null)}function yr(m,x){m.F=Date.now(),ha(m),m.A=Mn(m.v);var E=m.A,I=m.R;Array.isArray(I)||(I=[String(I)]),ec(E.i,"t",I),m.C=0,E=m.j.J,m.h=new St,m.g=Ed(m.j,E?x:null,!m.m),0<m.O&&(m.M=new Dm(w(m.Y,m,m.g),m.O)),x=m.U,E=m.g,I=m.ca;var G="readystatechange";Array.isArray(G)||(G&&(la[0]=G.toString()),G=la);for(var J=0;J<G.length;J++){var de=fe(E,G[J],I||x.handleEvent,!1,x.h||x);if(!de)break;x.g[de.key]=de}x=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,x)):(m.u="GET",m.g.ea(m.A,m.u,null,x)),ss(),Kl(m.i,m.u,m.A,m.l,m.R,m.m)}yn.prototype.ca=function(m){m=m.target;const x=this.M;x&&Jn(m)==3?x.j():this.Y(m)},yn.prototype.Y=function(m){try{if(m==this.g)e:{const Ut=Jn(this.g);var x=this.g.Ba();const Sr=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||pd(this.g)))){this.J||Ut!=4||x==7||(x==8||0>=Sr?ss(3):ss(2)),ls(this);var E=this.g.Z();this.X=E;t:if(ld(this)){var I=pd(this.g);m="";var G=I.length,J=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xt(this),Li(this);var de="";break t}this.h.i=new h.TextDecoder}for(x=0;x<G;x++)this.h.h=!0,m+=this.h.i.decode(I[x],{stream:!(J&&x==G-1)});I.length=0,this.h.g+=m,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,km(this.i,this.u,this.A,this.l,this.R,Ut,E),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Lt=this.g;if((He=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(He)){var qe=He;break t}}qe=null}if(E=qe)as(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fa(this,E);else{this.o=!1,this.s=3,ut(12),Xt(this),Li(this);break e}}if(this.P){E=!0;let Zt;for(;!this.J&&this.C<de.length;)if(Zt=cd(this,de),Zt==yo){Ut==4&&(this.s=4,ut(14),E=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Yl){this.s=4,ut(15),as(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else as(this.i,this.l,Zt,null),fa(this,Zt);if(ld(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||de.length!=0||this.h.h||(this.s=1,ut(16),E=!1),this.o=this.o&&E,!E)as(this.i,this.l,de,"[Invalid Chunked Response]"),Xt(this),Li(this);else if(0<de.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Ta(Gt),Gt.M=!0,ut(11))}}else as(this.i,this.l,de,null),fa(this,de);Ut==4&&Xt(this),this.o&&!this.J&&(Ut==4?bd(this.j,this):(this.o=!1,ha(this)))}else Lm(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Xt(this),Li(this)}}}catch{}finally{}};function ld(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function cd(m,x){var E=m.C,I=x.indexOf(`
`,E);return I==-1?yo:(E=Number(x.substring(E,I)),isNaN(E)?Yl:(I+=1,I+E>x.length?yo:(x=x.slice(I,I+E),m.C=I+E,x)))}yn.prototype.cancel=function(){this.J=!0,Xt(this)};function ha(m){m.S=Date.now()+m.I,ud(m,m.I)}function ud(m,x){if(m.B!=null)throw Error("WatchDog timer not null");m.B=It(w(m.ba,m),x)}function ls(m){m.B&&(h.clearTimeout(m.B),m.B=null)}yn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(od(this.i,this.A),this.L!=2&&(ss(),ut(17)),Xt(this),this.s=2,Li(this)):ud(this,this.S-m)};function Li(m){m.j.G==0||m.J||bd(m.j,m)}function Xt(m){ls(m);var x=m.M;x&&typeof x.ma=="function"&&x.ma(),m.M=null,ca(m.U),m.g&&(x=m.g,m.g=null,x.abort(),x.ma())}function fa(m,x){try{var E=m.j;if(E.G!=0&&(E.g==m||Wl(E.h,m))){if(!m.K&&Wl(E.h,m)&&E.G==3){try{var I=E.Da.g.parse(x)}catch{I=null}if(Array.isArray(I)&&I.length==3){var G=I;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<m.F)Ro(E),No(E);else break e;sc(E),ut(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=It(w(E.Za,E),6e3));if(1>=xo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Tr(E,11)}else if((m.K||E.g==m)&&Ro(E),!B(x))for(G=E.Da.g.parse(x),x=0;x<G.length;x++){let qe=G[x];if(E.T=qe[0],qe=qe[1],E.G==2)if(qe[0]=="c"){E.K=qe[1],E.ia=qe[2];const Gt=qe[3];Gt!=null&&(E.la=Gt,E.j.info("VER="+E.la));const Ut=qe[4];Ut!=null&&(E.Aa=Ut,E.j.info("SVER="+E.Aa));const Sr=qe[5];Sr!=null&&typeof Sr=="number"&&0<Sr&&(I=1.5*Sr,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Zt=m.g;if(Zt){const $i=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($i){var J=I.h;J.g||$i.indexOf("spdy")==-1&&$i.indexOf("quic")==-1&&$i.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(bo(J,J.h),J.h=null))}if(I.D){const oc=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;oc&&(I.ya=oc,tt(I.I,I.D,oc))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-m.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var de=m;if(I.qa=_d(I,I.J?I.ia:null,I.W),de.K){vn(I.h,de);var He=de,Lt=I.L;Lt&&(He.I=Lt),He.B&&(ls(He),ha(He)),I.g=de}else vd(I);0<E.i.length&&Co(E)}else qe[0]!="stop"&&qe[0]!="close"||Tr(E,7);else E.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Tr(E,7):ic(E):qe[0]!="noop"&&E.l&&E.l.ta(qe),E.v=0)}}ss(4)}catch{}}var dd=class{constructor(m,x){this.g=m,this.map=x}};function vr(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vo(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function xo(m){return m.h?1:m.g?m.g.size:0}function Wl(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function bo(m,x){m.g?m.g.add(x):m.h=x}function vn(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}vr.prototype.cancel=function(){if(this.i=Ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ql(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const E of m.g.values())x=x.concat(E.D);return x}return P(m.i)}function Mm(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var x=[],E=m.length,I=0;I<E;I++)x.push(m[I]);return x}x=[],E=0;for(I in m)x[E++]=m[I];return x}function wo(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var x=[];m=m.length;for(var E=0;E<m;E++)x.push(E);return x}x=[],E=0;for(const I in m)x[E++]=I;return x}}}function Xl(m,x){if(m.forEach&&typeof m.forEach=="function")m.forEach(x,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,x,void 0);else for(var E=wo(m),I=Mm(m),G=I.length,J=0;J<G;J++)x.call(void 0,I[J],E&&E[J],m)}var ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pm(m,x){if(m){m=m.split("&");for(var E=0;E<m.length;E++){var I=m[E].indexOf("="),G=null;if(0<=I){var J=m[E].substring(0,I);G=m[E].substring(I+1)}else J=m[E];x(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Dt(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Dt){this.h=m.h,pa(this,m.j),this.o=m.o,this.g=m.g,cs(this,m.s),this.l=m.l;var x=m.i,E=new br;E.i=x.i,x.g&&(E.g=new Map(x.g),E.h=x.h),xr(this,E),this.m=m.m}else m&&(x=String(m).match(ma))?(this.h=!1,pa(this,x[1]||"",!0),this.o=Qn(x[2]||""),this.g=Qn(x[3]||"",!0),cs(this,x[4]),this.l=Qn(x[5]||"",!0),xr(this,x[6]||"",!0),this.m=Qn(x[7]||"")):(this.h=!1,this.i=new br(null,this.h))}Dt.prototype.toString=function(){var m=[],x=this.j;x&&m.push(ya(x,Zl,!0),":");var E=this.g;return(E||x=="file")&&(m.push("//"),(x=this.o)&&m.push(ya(x,Zl,!0),"@"),m.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&m.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&m.push("/"),m.push(ya(E,E.charAt(0)=="/"?Om:Jl,!0))),(E=this.i.toString())&&m.push("?",E),(E=this.m)&&m.push("#",ya(E,_o)),m.join("")};function Mn(m){return new Dt(m)}function pa(m,x,E){m.j=E?Qn(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function cs(m,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);m.s=x}else m.s=null}function xr(m,x,E){x instanceof br?(m.i=x,fd(m.i,m.h)):(E||(x=ya(x,Vm)),m.i=new br(x,m.h))}function tt(m,x,E){m.i.set(x,E)}function ga(m){return tt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Qn(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ya(m,x,E){return typeof m=="string"?(m=encodeURI(m).replace(x,hd),E&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function hd(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Zl=/[#\/\?@]/g,Jl=/[#\?:]/g,Om=/[#\?]/g,Vm=/[#\?@]/g,_o=/#/g;function br(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function Xn(m){m.g||(m.g=new Map,m.h=0,m.i&&Pm(m.i,function(x,E){m.add(decodeURIComponent(x.replace(/\+/g," ")),E)}))}t=br.prototype,t.add=function(m,x){Xn(this),this.i=null,m=Ui(this,m);var E=this.g.get(m);return E||this.g.set(m,E=[]),E.push(x),this.h+=1,this};function wr(m,x){Xn(m),x=Ui(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function _r(m,x){return Xn(m),x=Ui(m,x),m.g.has(x)}t.forEach=function(m,x){Xn(this),this.g.forEach(function(E,I){E.forEach(function(G){m.call(x,G,I,this)},this)},this)},t.na=function(){Xn(this);const m=Array.from(this.g.values()),x=Array.from(this.g.keys()),E=[];for(let I=0;I<x.length;I++){const G=m[I];for(let J=0;J<G.length;J++)E.push(x[I])}return E},t.V=function(m){Xn(this);let x=[];if(typeof m=="string")_r(this,m)&&(x=x.concat(this.g.get(Ui(this,m))));else{m=Array.from(this.g.values());for(let E=0;E<m.length;E++)x=x.concat(m[E])}return x},t.set=function(m,x){return Xn(this),this.i=null,m=Ui(this,m),_r(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},t.get=function(m,x){return m?(m=this.V(m),0<m.length?String(m[0]):x):x};function ec(m,x,E){wr(m,x),0<E.length&&(m.i=null,m.g.set(Ui(m,x),P(E)),m.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(var E=0;E<x.length;E++){var I=x[E];const J=encodeURIComponent(String(I)),de=this.V(I);for(I=0;I<de.length;I++){var G=J;de[I]!==""&&(G+="="+encodeURIComponent(String(de[I]))),m.push(G)}}return this.i=m.join("&")};function Ui(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function fd(m,x){x&&!m.j&&(Xn(m),m.i=null,m.g.forEach(function(E,I){var G=I.toLowerCase();I!=G&&(wr(this,I),ec(this,G,E))},m)),m.j=x}function va(m,x){const E=new Wn;if(h.Image){const I=new Image;I.onload=S(Zn,E,"TestLoadImage: loaded",!0,x,I),I.onerror=S(Zn,E,"TestLoadImage: error",!1,x,I),I.onabort=S(Zn,E,"TestLoadImage: abort",!1,x,I),I.ontimeout=S(Zn,E,"TestLoadImage: timeout",!1,x,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=m}else x(!1)}function bi(m,x){const E=new Wn,I=new AbortController,G=setTimeout(()=>{I.abort(),Zn(E,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:I.signal}).then(J=>{clearTimeout(G),J.ok?Zn(E,"TestPingServer: ok",!0,x):Zn(E,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(G),Zn(E,"TestPingServer: error",!1,x)})}function Zn(m,x,E,I,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),I(E)}catch{}}function xa(){this.g=new ua}function Bi(m,x,E){const I=E||"";try{Xl(m,function(G,J){let de=G;g(G)&&(de=vi(G)),x.push(I+J+"="+encodeURIComponent(de))})}catch(G){throw x.push(I+"type="+encodeURIComponent("_badmap")),G}}function us(m){this.l=m.Ub||null,this.j=m.eb||!1}A(us,zl),us.prototype.g=function(){return new Er(this.l,this.j)},us.prototype.i=function(m){return function(){return m}}({});function Er(m,x){xt.call(this),this.D=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Er,xt),t=Er.prototype,t.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=x,this.readyState=1,zi(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(x.body=m),(this.D||h).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fi(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,zi(this)),this.g&&(this.readyState=3,zi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function tc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?Fi(this):zi(this),this.readyState==3&&tc(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Fi(this))},t.Qa=function(m){this.g&&(this.response=m,Fi(this))},t.ga=function(){this.g&&Fi(this)};function Fi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,zi(m)}t.setRequestHeader=function(m,x){this.u.append(m,x)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var E=x.next();!E.done;)E=E.value,m.push(E[0]+": "+E[1]),E=x.next();return m.join(`\r
`)};function zi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function nc(m){let x="";return re(m,function(E,I){x+=I,x+=":",x+=E,x+=`\r
`}),x}function $t(m,x,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=nc(E),typeof m=="string"?E!=null&&encodeURIComponent(String(E)):tt(m,x,E))}function Qe(m){xt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Qe,xt);var Eo=/^https?$/i,ba=["POST","PUT"];t=Qe.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,x,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oi.g(),this.v=this.o?Hl(this.o):Hl(Oi),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(J){md(this,J);return}if(m=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var G in I)E.set(G,I[G]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())E.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),G=h.FormData&&m instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ba,x,void 0))||I||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of E)this.g.setRequestHeader(J,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wa(this),this.u=!0,this.g.send(m),this.u=!1}catch(J){md(this,J)}};function md(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.m=5,To(m),Hi(m)}function To(m){m.A||(m.A=!0,Ze(m,"complete"),Ze(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ze(this,"complete"),Ze(this,"abort"),Hi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),Qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?So(this):this.bb())},t.bb=function(){So(this)};function So(m){if(m.h&&typeof c<"u"&&(!m.v[1]||Jn(m)!=4||m.Z()!=2)){if(m.u&&Jn(m)==4)ln(m.Ea,0,m);else if(Ze(m,"readystatechange"),Jn(m)==4){m.h=!1;try{const de=m.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var E;if(!(E=x)){var I;if(I=de===0){var G=String(m.D).match(ma)[1]||null;!G&&h.self&&h.self.location&&(G=h.self.location.protocol.slice(0,-1)),I=!Eo.test(G?G.toLowerCase():"")}E=I}if(E)Ze(m,"complete"),Ze(m,"success");else{m.m=6;try{var J=2<Jn(m)?m.g.statusText:""}catch{J=""}m.l=J+" ["+m.Z()+"]",To(m)}}finally{Hi(m)}}}}function Hi(m,x){if(m.g){wa(m);const E=m.g,I=m.v[0]?()=>{}:null;m.g=null,m.v=null,x||Ze(m,"ready");try{E.onreadystatechange=I}catch{}}}function wa(m){m.I&&(h.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Jn(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),po(x)}};function pd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Lm(m){const x={};m=(m.g&&2<=Jn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<m.length;I++){if(B(m[I]))continue;var E=L(m[I]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=x[G]||[];x[G]=J,J.push(E)}D(x,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(m,x,E){return E&&E.internalChannelParams&&E.internalChannelParams[m]||x}function Ao(m){this.Aa=0,this.i=[],this.j=new Wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_a("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_a("baseRetryDelayMs",5e3,m),this.cb=_a("retryDelaySeedMs",1e4,m),this.Wa=_a("forwardChannelMaxRetries",2,m),this.wa=_a("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new vr(m&&m.concurrentRequestLimit),this.Da=new xa,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ao.prototype,t.la=8,t.G=1,t.connect=function(m,x,E,I){ut(0),this.W=m,this.H=x||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=_d(this,null,this.W),Co(this)};function ic(m){if(gd(m),m.G==3){var x=m.U++,E=Mn(m.I);if(tt(E,"SID",m.K),tt(E,"RID",x),tt(E,"TYPE","terminate"),Ea(m,E),x=new yn(m,m.j,x),x.L=2,x.v=ga(Mn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(x.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=x.v,E=!0),E||(x.g=Ed(x.j,null),x.g.ea(x.v)),x.F=Date.now(),ha(x)}wd(m)}function No(m){m.g&&(Ta(m),m.g.cancel(),m.g=null)}function gd(m){No(m),m.u&&(h.clearTimeout(m.u),m.u=null),Ro(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&h.clearTimeout(m.s),m.s=null)}function Co(m){if(!vo(m.h)&&!m.s){m.s=!0;var x=m.Ga;q||O(),ne||(q(),ne=!0),he.add(x,m),m.B=0}}function Um(m,x){return xo(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=x.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=It(w(m.Ga,m,x),ac(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const G=new yn(this,this.j,m);let J=this.o;if(this.S&&(J?(J=C(J),M(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var x=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(x+=I,4096<x){x=E;break e}if(x===4096||E===this.i.length-1){x=E+1;break e}}x=1e3}else x=1e3;x=yd(this,G,x),E=Mn(this.I),tt(E,"RID",m),tt(E,"CVER",22),this.D&&tt(E,"X-HTTP-Session-Id",this.D),Ea(this,E),J&&(this.O?x="headers="+encodeURIComponent(String(nc(J)))+"&"+x:this.m&&$t(E,this.m,J)),bo(this.h,G),this.Ua&&tt(E,"TYPE","init"),this.P?(tt(E,"$req",x),tt(E,"SID","null"),G.T=!0,xi(G,E,null)):xi(G,E,x),this.G=2}}else this.G==3&&(m?rc(this,m):this.i.length==0||vo(this.h)||rc(this))};function rc(m,x){var E;x?E=x.l:E=m.U++;const I=Mn(m.I);tt(I,"SID",m.K),tt(I,"RID",E),tt(I,"AID",m.T),Ea(m,I),m.m&&m.o&&$t(I,m.m,m.o),E=new yn(m,m.j,E,m.B+1),m.m===null&&(E.H=m.o),x&&(m.i=x.D.concat(m.i)),x=yd(m,E,1e3),E.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),bo(m.h,E),xi(E,I,x)}function Ea(m,x){m.H&&re(m.H,function(E,I){tt(x,I,E)}),m.l&&Xl({},function(E,I){tt(x,I,E)})}function yd(m,x,E){E=Math.min(m.i.length,E);var I=m.l?w(m.l.Na,m.l,m):null;e:{var G=m.i;let J=-1;for(;;){const de=["count="+E];J==-1?0<E?(J=G[0].g,de.push("ofs="+J)):J=0:de.push("ofs="+J);let He=!0;for(let Lt=0;Lt<E;Lt++){let qe=G[Lt].g;const Gt=G[Lt].map;if(qe-=J,0>qe)J=Math.max(0,G[Lt].g-100),He=!1;else try{Bi(Gt,de,"req"+qe+"_")}catch{I&&I(Gt)}}if(He){I=de.join("&");break e}}}return m=m.i.splice(0,E),x.D=m,I}function vd(m){if(!m.g&&!m.u){m.Y=1;var x=m.Fa;q||O(),ne||(q(),ne=!0),he.add(x,m),m.v=0}}function sc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=It(w(m.Fa,m),ac(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,xd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=It(w(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),No(this),xd(this))};function Ta(m){m.A!=null&&(h.clearTimeout(m.A),m.A=null)}function xd(m){m.g=new yn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var x=Mn(m.qa);tt(x,"RID","rpc"),tt(x,"SID",m.K),tt(x,"AID",m.T),tt(x,"CI",m.F?"0":"1"),!m.F&&m.ja&&tt(x,"TO",m.ja),tt(x,"TYPE","xmlhttp"),Ea(m,x),m.m&&m.o&&$t(x,m.m,m.o),m.L&&(m.g.I=m.L);var E=m.g;m=m.ia,E.L=1,E.v=ga(Mn(x)),E.m=null,E.P=!0,yr(E,m)}t.Za=function(){this.C!=null&&(this.C=null,No(this),sc(this),ut(19))};function Ro(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function bd(m,x){var E=null;if(m.g==x){Ro(m),Ta(m),m.g=null;var I=2}else if(Wl(m.h,x))E=x.D,vn(m.h,x),I=1;else return;if(m.G!=0){if(x.o)if(I==1){E=x.m?x.m.length:0,x=Date.now()-x.F;var G=m.B;I=rs(),Ze(I,new Vt(I,E)),Co(m)}else vd(m);else if(G=x.s,G==3||G==0&&0<x.X||!(I==1&&Um(m,x)||I==2&&sc(m)))switch(E&&0<E.length&&(x=m.h,x.i=x.i.concat(E)),G){case 1:Tr(m,5);break;case 4:Tr(m,10);break;case 3:Tr(m,6);break;default:Tr(m,2)}}}function ac(m,x){let E=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(E*=2),E*x}function Tr(m,x){if(m.j.info("Error code "+x),x==2){var E=w(m.fb,m),I=m.Xa;const G=!I;I=new Dt(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||pa(I,"https"),ga(I),G?va(I.toString(),E):bi(I.toString(),E)}else ut(2);m.G=0,m.l&&m.l.sa(x),wd(m),gd(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function wd(m){if(m.G=0,m.ka=[],m.l){const x=Ql(m.h);(x.length!=0||m.i.length!=0)&&(k(m.ka,x),k(m.ka,m.i),m.h.i.length=0,P(m.i),m.i.length=0),m.l.ra()}}function _d(m,x,E){var I=E instanceof Dt?Mn(E):new Dt(E);if(I.g!="")x&&(I.g=x+"."+I.g),cs(I,I.s);else{var G=h.location;I=G.protocol,x=x?x+"."+G.hostname:G.hostname,G=+G.port;var J=new Dt(null);I&&pa(J,I),x&&(J.g=x),G&&cs(J,G),E&&(J.l=E),I=J}return E=m.D,x=m.ya,E&&x&&tt(I,E,x),tt(I,"VER",m.la),Ea(m,I),I}function Ed(m,x,E){if(x&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Ca&&!m.pa?new Qe(new us({eb:E})):new Qe(m.pa),x.Ha(m.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Td(){}t=Td.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jo(){}jo.prototype.g=function(m,x){return new xn(m,x)};function xn(m,x){xt.call(this),this.g=new Ao(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(m?m["X-WebChannel-Client-Profile"]=x.va:m={"X-WebChannel-Client-Profile":x.va}),this.g.S=m,(m=x&&x.Sb)&&!B(m)&&(this.g.m=m),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!B(x)&&(this.g.D=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new qi(this)}A(xn,xt),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){ic(this.g)},xn.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var E={};E.__data__=m,m=E}else this.u&&(E={},E.__data__=vi(m),m=E);x.i.push(new dd(x.Ya++,m)),x.G==3&&Co(x)},xn.prototype.N=function(){this.g.l=null,delete this.j,ic(this.g),delete this.g,xn.aa.N.call(this)};function Sd(m){pr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){e:{for(const E in x){m=E;break e}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}A(Sd,pr);function Ad(){$l.call(this),this.status=1}A(Ad,$l);function qi(m){this.g=m}A(qi,Td),qi.prototype.ua=function(){Ze(this.g,"a")},qi.prototype.ta=function(m){Ze(this.g,new Sd(m))},qi.prototype.sa=function(m){Ze(this.g,new Ad)},qi.prototype.ra=function(){Ze(this.g,"b")},jo.prototype.createWebChannel=jo.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,aC=function(){return new jo},sC=function(){return rs()},rC=Pi,ty={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,Xh=os,gr.COMPLETE="complete",iC=gr,ql.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",xt.prototype.listen=xt.prototype.K,ru=ql,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,nC=Qe}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});const pE="@firebase/firestore",gE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new sm("@firebase/firestore");function sl(){return io.logLevel}function me(t,...e){if(io.logLevel<=Fe.DEBUG){const n=e.map(Fv);io.debug(`Firestore (${Vl}): ${t}`,...n)}}function Jr(t,...e){if(io.logLevel<=Fe.ERROR){const n=e.map(Fv);io.error(`Firestore (${Vl}): ${t}`,...n)}}function _l(t,...e){if(io.logLevel<=Fe.WARN){const n=e.map(Fv);io.warn(`Firestore (${Vl}): ${t}`,...n)}}function Fv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: `+t;throw Jr(e),new Error(e)}function Xe(t,e){t||Ie()}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class _U{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EU{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let l=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Yr,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Yr)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string"),new oC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new fn(e)}}class TU{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class SU{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new TU(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AU{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Hn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new yE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new yE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=NU(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ve(t,e){return t<e?-1:t>e?1:0}function ny(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),a=e.codePointAt(n);if(i!==a){if(i<128&&a<128)return Ve(i,a);{const l=lC(),c=CU(l.encode(vE(t,n)),l.encode(vE(e,n)));return c!==0?c:Ve(i,a)}}n+=i>65535?2:1}return Ve(t.length,e.length)}function vE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function CU(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ve(t[n],e[n]);return Ve(t.length,e.length)}function El(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=-62135596800,bE=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*bE);return new Tt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xE)throw new ge(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-xE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Tt(0,0))}static max(){return new ke(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="__name__";class Xi{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ie(),i===void 0?i=e.length-n:i>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Xi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ve(e.length,n.length)}static compareSegments(e,n){const i=Xi.isNumericId(e),a=Xi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Xi.extractNumericId(e).compare(Xi.extractNumericId(n)):ny(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class lt extends Xi{construct(e,n,i){return new lt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const RU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Xi{construct(e,n,i){return new sn(e,n,i)}static isValidIdentifier(e){return RU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new sn([wE])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ge(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ge(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ge(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new ge(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(lt.fromString(e))}static fromName(e){return new _e(lt.fromString(e).popFirst(5))}static empty(){return new _e(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function jU(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(i===1e9?new Tt(n+1,0):new Tt(n,i));return new Ws(a,_e.empty(),e)}function IU(t){return new Ws(t.readTime,t.key,Du)}class Ws{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ws(ke.min(),_e.empty(),Du)}static max(){return new Ws(ke.max(),_e.empty(),Du)}}function DU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==kU)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,i)=>{n(e)})}static reject(e){return new ce((n,i)=>{i(e)})}static waitFor(e){return new ce((n,i)=>{let a=0,l=0,c=!1;e.forEach(h=>{++a,h.next(()=>{++l,c&&l===a&&n()},f=>i(f))}),c=!0,l===a&&n()})}static or(e){let n=ce.resolve(!1);for(const i of e)n=n.next(a=>a?ce.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new ce((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let f=0;f<l;f++){const g=f;n(e[g]).next(y=>{c[g]=y,++h,h===l&&i(c)},y=>a(y))}})}static doWhile(e,n){return new ce((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function PU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ul(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}dm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=-1;function hm(t){return t==null}function Af(t){return t===0&&1/t==-1/0}function OU(t){return typeof t=="number"&&Number.isInteger(t)&&!Af(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="";function VU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_E(e)),e=LU(t.get(n),e);return _E(e)}function LU(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case uC:n+="";break;default:n+=l}}return n}function _E(t){return t+uC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ra(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??rn.RED,this.left=a??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new rn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,i,a,l){return this}insert(e,n,i){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TE(this.data.getIterator())}getIteratorFrom(e){return new TE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class TE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new qn([])}unionWith(e){let n=new zt(sn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new hC("Invalid base64 string: "+l):l}}(e);return new on(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const UU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(Xe(!!t),typeof t=="string"){let e=0;const n=UU.exec(t);if(Xe(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="server_timestamp",mC="__type__",pC="__previous_value__",gC="__local_write_time__";function Hv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[mC])===null||n===void 0?void 0:n.stringValue)===fC}function fm(t){const e=t.mapValue.fields[pC];return Hv(e)?fm(e):e}function ku(t){const e=Qs(t.mapValue.fields[gC].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,n,i,a,l,c,h,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g}}const Nf="(default)";class Mu{constructor(e,n){this.projectId=e,this.database=n||Nf}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===Nf}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="__type__",FU="__max__",Oh={mapValue:{}},vC="__vector__",Cf="value";function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hv(t)?4:HU(t)?9007199254740991:zU(t)?10:11:Ie()}function ar(t,e){if(t===e)return!0;const n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ku(t).isEqual(ku(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Qs(a.timestampValue),h=Qs(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Xs(a.bytesValue).isEqual(Xs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Rt(a.doubleValue),h=Rt(l.doubleValue);return c===h?Af(c)===Af(h):isNaN(c)&&isNaN(h)}return!1}(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(EE(c)!==EE(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!ar(c[f],h[f])))return!1;return!0}(t,e);default:return Ie()}}function Pu(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function Tl(t,e){if(t===e)return 0;const n=Zs(t),i=Zs(e);if(n!==i)return Ve(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(l,c){const h=Rt(l.integerValue||l.doubleValue),f=Rt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return SE(t.timestampValue,e.timestampValue);case 4:return SE(ku(t),ku(e));case 5:return ny(t.stringValue,e.stringValue);case 6:return function(l,c){const h=Xs(l),f=Xs(c);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const y=Ve(h[g],f[g]);if(y!==0)return y}return Ve(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const h=Ve(Rt(l.latitude),Rt(c.latitude));return h!==0?h:Ve(Rt(l.longitude),Rt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return AE(t.arrayValue,e.arrayValue);case 10:return function(l,c){var h,f,g,y;const b=l.fields||{},w=c.fields||{},S=(h=b[Cf])===null||h===void 0?void 0:h.arrayValue,A=(f=w[Cf])===null||f===void 0?void 0:f.arrayValue,P=Ve(((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:AE(S,A)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===Oh.mapValue&&c===Oh.mapValue)return 0;if(l===Oh.mapValue)return 1;if(c===Oh.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),g=c.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let b=0;b<f.length&&b<y.length;++b){const w=ny(f[b],y[b]);if(w!==0)return w;const S=Tl(h[f[b]],g[y[b]]);if(S!==0)return S}return Ve(f.length,y.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function SE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Qs(t),i=Qs(e),a=Ve(n.seconds,i.seconds);return a!==0?a:Ve(n.nanos,i.nanos)}function AE(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Tl(n[a],i[a]);if(l)return l}return Ve(n.length,i.length)}function Sl(t){return iy(t)}function iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Qs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=iy(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${iy(n.fields[c])}`;return a+"}"}(t.mapValue):Ie()}function Zh(t){switch(Zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fm(t);return e?16+Zh(e):16;case 5:return 2*t.stringValue.length;case 6:return Xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Zh(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return ra(i.fields,(l,c)=>{a+=l.length+Zh(c)}),a}(t.mapValue);default:throw Ie()}}function NE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ry(t){return!!t&&"integerValue"in t}function qv(t){return!!t&&"arrayValue"in t}function CE(t){return!!t&&"nullValue"in t}function RE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jh(t){return!!t&&"mapValue"in t}function zU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[yC])===null||n===void 0?void 0:n.stringValue)===vC}function gu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ra(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=gu(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===FU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Jh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(n)}setAll(e){let n=sn.emptyPath(),i={},a=[];e.forEach((c,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=h.popLast()}c?i[h.lastSegment()]=gu(c):a.push(h.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Jh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){ra(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new jn(gu(this.value))}}function xC(t){const e=[];return ra(t.fields,(n,i)=>{const a=new sn([n]);if(Jh(i)){const l=xC(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,i,a,l,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new mn(e,0,ke.min(),ke.min(),ke.min(),jn.empty(),0)}static newFoundDocument(e,n,i,a){return new mn(e,1,n,ke.min(),i,a,0)}static newNoDocument(e,n){return new mn(e,2,n,ke.min(),ke.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,ke.min(),ke.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.position=e,this.inclusive=n}}function jE(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(c.referenceValue),n.key):i=Tl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function IE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function qU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{}class Ot extends bC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new GU(e,n,i):n==="array-contains"?new WU(e,i):n==="in"?new QU(e,i):n==="not-in"?new XU(e,i):n==="array-contains-any"?new ZU(e,i):new Ot(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new KU(e,i):new YU(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Tl(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(Tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends bC{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ii(e,n)}matches(e){return wC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function wC(t){return t.op==="and"}function _C(t){return $U(t)&&wC(t)}function $U(t){for(const e of t.filters)if(e instanceof Ii)return!1;return!0}function sy(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Sl(t.value);if(_C(t))return t.filters.map(e=>sy(e)).join(",");{const e=t.filters.map(n=>sy(n)).join(",");return`${t.op}(${e})`}}function EC(t,e){return t instanceof Ot?function(i,a){return a instanceof Ot&&i.op===a.op&&i.field.isEqual(a.field)&&ar(i.value,a.value)}(t,e):t instanceof Ii?function(i,a){return a instanceof Ii&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,h)=>l&&EC(c,a.filters[h]),!0):!1}(t,e):void Ie()}function TC(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Sl(n.value)}`}(t):t instanceof Ii?function(n){return n.op.toString()+" {"+n.getFilters().map(TC).join(" ,")+"}"}(t):"Filter"}class GU extends Ot{constructor(e,n,i){super(e,n,i),this.key=_e.fromName(i.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class KU extends Ot{constructor(e,n){super(e,"in",n),this.keys=SC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YU extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=SC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>_e.fromName(i.referenceValue))}class WU extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qv(n)&&Pu(n.arrayValue,this.value)}}class QU extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pu(this.value.arrayValue,n)}}class XU extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pu(this.value.arrayValue,n)}}class ZU extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Pu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.le=null}}function DE(t,e=null,n=[],i=[],a=null,l=null,c=null){return new JU(t,e,n,i,a,l,c)}function $v(t){const e=Me(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>sy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),hm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Sl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Sl(i)).join(",")),e.le=n}return e.le}function Gv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!IE(t.startAt,e.startAt)&&IE(t.endAt,e.endAt)}function ay(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n=null,i=[],a=[],l=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function e8(t,e,n,i,a,l,c,h){return new Bl(t,e,n,i,a,l,c,h)}function Kv(t){return new Bl(t)}function kE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AC(t){return t.collectionGroup!==null}function yu(t){const e=Me(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new zt(sn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new Ou(l,i))}),n.has(sn.keyField().canonicalString())||e.he.push(new Ou(sn.keyField(),i))}return e.he}function ir(t){const e=Me(t);return e.Pe||(e.Pe=t8(e,yu(t))),e.Pe}function t8(t,e){if(t.limitType==="F")return DE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Ou(a.field,l)});const n=t.endAt?new Rf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Rf(t.startAt.position,t.startAt.inclusive):null;return DE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function oy(t,e){const n=t.filters.concat([e]);return new Bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jf(t,e,n){return new Bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mm(t,e){return Gv(ir(t),ir(e))&&t.limitType===e.limitType}function NC(t){return`${$v(ir(t))}|lt:${t.limitType}`}function al(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>TC(a)).join(", ")}]`),hm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>Sl(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>Sl(a)).join(",")),`Target(${i})`}(ir(t))}; limitType=${t.limitType})`}function pm(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of yu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(c,h,f){const g=jE(c,h,f);return c.inclusive?g<=0:g<0}(i.startAt,yu(i),a)||i.endAt&&!function(c,h,f){const g=jE(c,h,f);return c.inclusive?g>=0:g>0}(i.endAt,yu(i),a))}(t,e)}function n8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CC(t){return(e,n)=>{let i=!1;for(const a of yu(t)){const l=i8(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function i8(t,e,n){const i=t.field.isKeyField()?_e.comparator(e.key,n.key):function(l,c,h){const f=c.data.field(l),g=h.data.field(l);return f!==null&&g!==null?Tl(f,g):Ie()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return dC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=new vt(_e.comparator);function es(){return r8}const RC=new vt(_e.comparator);function su(...t){let e=RC;for(const n of t)e=e.insert(n.key,n);return e}function jC(t){let e=RC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Qa(){return vu()}function IC(){return vu()}function vu(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const s8=new vt(_e.comparator),a8=new zt(_e.comparator);function ze(...t){let e=a8;for(const n of t)e=e.add(n);return e}const o8=new zt(Ve);function l8(){return o8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function DC(t){return{integerValue:""+t}}function c8(t,e){return OU(e)?DC(e):Yv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this._=void 0}}function u8(t,e,n){return t instanceof Vu?function(a,l){const c={fields:{[mC]:{stringValue:fC},[gC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Hv(l)&&(l=fm(l)),l&&(c.fields[pC]=l),{mapValue:c}}(n,e):t instanceof Lu?MC(t,e):t instanceof Uu?PC(t,e):function(a,l){const c=kC(a,l),h=ME(c)+ME(a.Ie);return ry(c)&&ry(a.Ie)?DC(h):Yv(a.serializer,h)}(t,e)}function d8(t,e,n){return t instanceof Lu?MC(t,e):t instanceof Uu?PC(t,e):n}function kC(t,e){return t instanceof If?function(i){return ry(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Vu extends gm{}class Lu extends gm{constructor(e){super(),this.elements=e}}function MC(t,e){const n=OC(e);for(const i of t.elements)n.some(a=>ar(a,i))||n.push(i);return{arrayValue:{values:n}}}class Uu extends gm{constructor(e){super(),this.elements=e}}function PC(t,e){let n=OC(e);for(const i of t.elements)n=n.filter(a=>!ar(a,i));return{arrayValue:{values:n}}}class If extends gm{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ME(t){return Rt(t.integerValue||t.doubleValue)}function OC(t){return qv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,n){this.field=e,this.transform=n}}function f8(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof Lu&&a instanceof Lu||i instanceof Uu&&a instanceof Uu?El(i.elements,a.elements,ar):i instanceof If&&a instanceof If?ar(i.Ie,a.Ie):i instanceof Vu&&a instanceof Vu}(t.transform,e.transform)}class m8{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ym{}function VC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wv(t.key,di.none()):new Zu(t.key,t.data,di.none());{const n=t.data,i=jn.empty();let a=new zt(sn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new sa(t.key,i,new qn(a.toArray()),di.none())}}function p8(t,e,n){t instanceof Zu?function(a,l,c){const h=a.value.clone(),f=OE(a.fieldTransforms,l,c.transformResults);h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):t instanceof sa?function(a,l,c){if(!ef(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=OE(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(LC(a)),f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function xu(t,e,n,i){return t instanceof Zu?function(l,c,h,f){if(!ef(l.precondition,c))return h;const g=l.value.clone(),y=VE(l.fieldTransforms,f,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,i):t instanceof sa?function(l,c,h,f){if(!ef(l.precondition,c))return h;const g=VE(l.fieldTransforms,f,c),y=c.data;return y.setAll(LC(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(t,e,n,i):function(l,c,h){return ef(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(t,e,n)}function g8(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=kC(i.transform,a||null);l!=null&&(n===null&&(n=jn.empty()),n.set(i.field,l))}return n||null}function PE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&El(i,a,(l,c)=>f8(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zu extends ym{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class sa extends ym{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function LC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function OE(t,e,n){const i=new Map;Xe(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,d8(c,h,n[a]))}return i}function VE(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,u8(l,c,e))}return i}class Wv extends ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y8 extends ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&p8(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=xu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=xu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=IC();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const f=VC(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(n,i)=>PE(n,i))&&El(this.baseMutations,e.baseMutations,(n,i)=>PE(n,i))}}class Qv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){Xe(e.mutations.length===i.length);let a=function(){return s8}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Qv(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ge;function w8(t){switch(t){case le.OK:return Ie();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ie()}}function UC(t){if(t===void 0)return Jr("GRPC error has no .code"),le.UNKNOWN;switch(t){case Pt.OK:return le.OK;case Pt.CANCELLED:return le.CANCELLED;case Pt.UNKNOWN:return le.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return le.INTERNAL;case Pt.UNAVAILABLE:return le.UNAVAILABLE;case Pt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Pt.NOT_FOUND:return le.NOT_FOUND;case Pt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Pt.ABORTED:return le.ABORTED;case Pt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Pt.DATA_LOSS:return le.DATA_LOSS;default:return Ie()}}(Ge=Pt||(Pt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=new Fs([4294967295,4294967295],0);function LE(t){const e=lC().encode(t),n=new tC;return n.update(e),new Uint8Array(n.digest())}function UE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fs([n,i],0),new Fs([a,l],0)]}class Xv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(i<0)throw new au(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Fs.fromNumber(this.Ee)}Ae(e,n,i){let a=e.add(n.multiply(Fs.fromNumber(i)));return a.compare(_8)===1&&(a=new Fs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=LE(e),[i,a]=UE(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Xv(l,a,n);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Ee===0)return;const n=LE(e),[i,a]=UE(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Ju.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new vm(ke.min(),a,new vt(Ve),es(),ze())}}class Ju{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ju(i,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,i,a){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=a}}class BC{constructor(e,n){this.targetId=e,this.ge=n}}class FC{constructor(e,n,i=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class BE{constructor(){this.pe=0,this.ye=FE(),this.we=on.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ze(),n=ze(),i=ze();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ie()}}),new Ju(this.we,this.Se,e,n,i)}Me(){this.be=!1,this.ye=FE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class E8{constructor(e){this.ke=e,this.qe=new Map,this.Qe=es(),this.$e=Vh(),this.Ue=Vh(),this.Ke=new vt(Ve)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,i=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(ay(l))if(i===0){const c=new _e(l.path);this.ze(n,c,mn.newNoDocument(c,ke.min()))}else Xe(i===1);else{const c=this.et(n);if(c!==i){const h=this.tt(e),f=h?this.nt(h,e,c):1;if(f!==0){this.Ye(n);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=Xs(i).toUint8Array()}catch(f){if(f instanceof hC)return _l("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Xv(c,a,l)}catch(f){return _l(f instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const c=this.ke.it(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,c)=>{const h=this.Xe(c);if(h){if(l.current&&ay(h.target)){const f=new _e(h.target.path);this._t(f).has(c)||this.ut(c,f)||this.ze(c,f,mn.newNoDocument(f,e))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let i=ze();this.Ue.forEach((l,c)=>{let h=!0;c.forEachWhile(f=>{const g=this.Xe(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new vm(e,n,this.Ke,this.Qe,i);return this.Qe=es(),this.$e=Vh(),this.Ue=Vh(),this.Ke=new vt(Ve),a}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new BE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new zt(Ve),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new zt(Ve),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new BE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Vh(){return new vt(_e.comparator)}function FE(){return new vt(_e.comparator)}const T8={asc:"ASCENDING",desc:"DESCENDING"},S8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A8={and:"AND",or:"OR"};class N8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ly(t,e){return t.useProto3Json||hm(e)?e:{value:e}}function Df(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function C8(t,e){return Df(t,e.toTimestamp())}function rr(t){return Xe(!!t),ke.fromTimestamp(function(n){const i=Qs(n);return new Tt(i.seconds,i.nanos)}(t))}function Zv(t,e){return cy(t,e).canonicalString()}function cy(t,e){const n=function(a){return new lt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HC(t){const e=lt.fromString(t);return Xe(YC(e)),e}function uy(t,e){return Zv(t.databaseId,e.path)}function l0(t,e){const n=HC(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e($C(n))}function qC(t,e){return Zv(t.databaseId,e)}function R8(t){const e=HC(t);return e.length===4?lt.emptyPath():$C(e)}function dy(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $C(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zE(t,e,n){return{name:uy(t,e),fields:n.value.mapValue.fields}}function j8(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,y){return g.useProto3Json?(Xe(y===void 0||typeof y=="string"),on.fromBase64String(y||"")):(Xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array),on.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(g){const y=g.code===void 0?le.UNKNOWN:UC(g.code);return new ge(y,g.message||"")}(c);n=new FC(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=l0(t,i.document.name),l=rr(i.document.updateTime),c=i.document.createTime?rr(i.document.createTime):ke.min(),h=new jn({mapValue:{fields:i.document.fields}}),f=mn.newFoundDocument(a,l,c,h),g=i.targetIds||[],y=i.removedTargetIds||[];n=new tf(g,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=l0(t,i.document),l=i.readTime?rr(i.readTime):ke.min(),c=mn.newNoDocument(a,l),h=i.removedTargetIds||[];n=new tf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=l0(t,i.document),l=i.removedTargetIds||[];n=new tf([],l,a,null)}else{if(!("filter"in e))return Ie();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new b8(a,l),h=i.targetId;n=new BC(h,c)}}return n}function I8(t,e){let n;if(e instanceof Zu)n={update:zE(t,e.key,e.value)};else if(e instanceof Wv)n={delete:uy(t,e.key)};else if(e instanceof sa)n={update:zE(t,e.key,e.data),updateMask:B8(e.fieldMask)};else{if(!(e instanceof y8))return Ie();n={verify:uy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const h=c.transform;if(h instanceof Vu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Lu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Uu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof If)return{fieldPath:c.field.canonicalString(),increment:h.Ie};throw Ie()}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:C8(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie()}(t,e.precondition)),n}function D8(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>function(a,l){let c=a.updateTime?rr(a.updateTime):rr(l);return c.isEqual(ke.min())&&(c=rr(l)),new m8(c,a.transformResults||[])}(n,e))):[]}function k8(t,e){return{documents:[qC(t,e.path)]}}function M8(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=qC(t,a);const l=function(g){if(g.length!==0)return KC(Ii.create(g,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(y=>function(w){return{field:ol(w.field),direction:V8(w.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=ly(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:a}}function P8(t){let e=R8(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Xe(i===1);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(b){const w=GC(b);return w instanceof Ii&&_C(w)?w.getFilters():[w]}(n.where));let c=[];n.orderBy&&(c=function(b){return b.map(w=>function(A){return new Ou(ll(A.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(w))}(n.orderBy));let h=null;n.limit&&(h=function(b){let w;return w=typeof b=="object"?b.value:b,hm(w)?null:w}(n.limit));let f=null;n.startAt&&(f=function(b){const w=!!b.before,S=b.values||[];return new Rf(S,w)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const w=!b.before,S=b.values||[];return new Rf(S,w)}(n.endAt)),e8(e,a,c,l,h,"F",f,g)}function O8(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ll(n.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ll(n.unaryFilter.field);return Ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ll(n.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ll(n.unaryFilter.field);return Ot.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(ll(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ii.create(n.compositeFilter.filters.map(i=>GC(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(t):Ie()}function V8(t){return T8[t]}function L8(t){return S8[t]}function U8(t){return A8[t]}function ol(t){return{fieldPath:t.canonicalString()}}function ll(t){return sn.fromServerFormat(t.fieldPath)}function KC(t){return t instanceof Ot?function(n){if(n.op==="=="){if(RE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(CE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(CE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:L8(n.op),value:n.value}}}(t):t instanceof Ii?function(n){const i=n.getFilters().map(a=>KC(a));return i.length===1?i[0]:{compositeFilter:{op:U8(n.op),filters:i}}}(t):Ie()}function B8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,i,a,l=ke.min(),c=ke.min(),h=on.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e){this.Tt=e}}function z8(t){const e=P8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(){this.Tn=new q8}addToCollectionParentIndex(e,n){return this.Tn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Ws.min())}updateCollectionGroup(e,n,i){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class q8{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new zt(lt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new zt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WC=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(WC,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Al(0)}static Kn(){return new Al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="LruGarbageCollector",$8=1048576;function $E([t,e],[n,i]){const a=Ve(t,n);return a===0?Ve(e,i):a}class G8{constructor(e){this.Hn=e,this.buffer=new zt($E),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();$E(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class K8{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(qE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ul(n)?me(qE,"Ignoring IndexedDB error during garbage collection: ",n):await Ll(n)}await this.er(3e5)})}}class Y8{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(dm.ae);const i=new G8(n);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(HE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,a,l,c,h,f,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(i=b,h=Date.now(),this.removeTargets(e,i,n))).next(b=>(l=b,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(g=Date.now(),sl()<=Fe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(g-f)+`ms
Total Duration: ${g-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function W8(t,e){return new Y8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ce.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&xu(i.mutation,a,qn.empty(),Tt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ze()){const a=Qa();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let c=su();return l.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=Qa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ze()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,h)=>{n.set(c,h)})})}computeViews(e,n,i,a){let l=es();const c=vu(),h=function(){return vu()}();return n.forEach((f,g)=>{const y=i.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof sa)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),xu(y.mutation,g,y.mutation.getFieldMask(),Tt.now())):c.set(g.key,qn.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((g,y)=>c.set(g,y)),n.forEach((g,y)=>{var b;return h.set(g,new X8(y,(b=c.get(g))!==null&&b!==void 0?b:null))}),h))}recalculateAndSaveOverlays(e,n){const i=vu();let a=new vt((c,h)=>c-h),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const h of c)h.keys().forEach(f=>{const g=n.get(f);if(g===null)return;let y=i.get(f)||qn.empty();y=h.applyToLocalView(g,y),i.set(f,y);const b=(a.get(h.batchId)||ze()).add(f);a=a.insert(h.batchId,b)})}).next(()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,y=f.value,b=IC();y.forEach(w=>{if(!l.has(w)){const S=VC(n.get(w),i.get(w));S!==null&&b.set(w,S),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ce.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ce.resolve(Qa());let h=Du,f=l;return c.next(g=>ce.forEach(g,(y,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next(w=>{f=f.insert(y,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,f,g,ze())).next(y=>({batchId:h,changes:jC(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(i=>{let a=su();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=su();return this.indexManager.getCollectionParents(e,l).next(h=>ce.forEach(h,f=>{const g=function(b,w){return new Bl(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(y=>{y.forEach((b,w)=>{c=c.insert(b,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(c=>{l.forEach((f,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,mn.newInvalidDocument(y)))});let h=su();return c.forEach((f,g)=>{const y=l.get(f);y!==void 0&&xu(y.mutation,g,qn.empty(),Tt.now()),pm(n,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ce.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:rr(a.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:z8(a.bundledQuery),readTime:rr(a.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(){this.overlays=new vt(_e.comparator),this.Rr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Qa();return ce.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.Et(e,n,l)}),ce.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ce.resolve()}getOverlaysForCollection(e,n,i){const a=Qa(),l=n.length+1,c=new _e(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new vt((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let y=l.get(g.largestBatchId);y===null&&(y=Qa(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=Qa(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,y)=>h.set(g,y)),!(h.size()>=a)););return ce.resolve(h)}Et(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new x8(n,i));let l=this.Rr.get(n);l===void 0&&(l=ze(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.Vr=new zt(Qt.mr),this.gr=new zt(Qt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new Qt(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new Qt(e,n))}Sr(e,n){e.forEach(i=>this.removeReference(i,n))}br(e){const n=new _e(new lt([])),i=new Qt(n,e),a=new Qt(n,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new _e(new lt([])),i=new Qt(n,e),a=new Qt(n,e+1);let l=ze();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new Qt(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Qt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return _e.comparator(e.key,n.key)||Ve(e.Cr,n.Cr)}static pr(e,n){return Ve(e.Cr,n.Cr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new zt(Qt.mr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new v8(l,n,i,a);this.mutationQueue.push(c);for(const h of a)this.Mr=this.Mr.add(new Qt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,n){return ce.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Nr(i),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?zv:this.Fr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Qt(n,0),a=new Qt(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const h=this.Or(c.Cr);l.push(h)}),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new zt(Ve);return n.forEach(a=>{const l=new Qt(a,0),c=new Qt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],h=>{i=i.add(h.Cr)})}),ce.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const c=new Qt(new _e(l),0);let h=new zt(Ve);return this.Mr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(h=h.add(f.Cr)),!0)},c),ce.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Xe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ce.forEach(n.mutations,a=>{const l=new Qt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new Qt(n,0),a=this.Mr.firstAfterOrEqual(i);return ce.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.kr=e,this.docs=function(){return new vt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ce.resolve(i?i.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let i=es();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():mn.newInvalidDocument(a))}),ce.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=es();const c=n.path,h=new _e(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:y}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||DU(IU(y),i)<=0||(a.has(y.key)||pm(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ie()}qr(e,n){return ce.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new rB(this)}getSize(e){return ce.resolve(this.size)}}class rB extends Q8{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),ce.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e){this.persistence=e,this.Qr=new uo(n=>$v(n),Gv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Jv,this.targetCount=0,this.Kr=Al.Un()}forEachTarget(e,n){return this.Qr.forEach((i,a)=>n(a)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),ce.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Al(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.zn(n),ce.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.Qr.forEach((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),ce.waitFor(l).next(()=>a)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return ce.resolve(i)}addMatchingKeys(e,n,i){return this.Ur.yr(n,i),ce.resolve()}removeMatchingKeys(e,n,i){this.Ur.Sr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ce.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ur.vr(n);return ce.resolve(i)}containsKey(e,n){return ce.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new dm(0),this.zr=!1,this.zr=!0,this.jr=new tB,this.referenceDelegate=e(this),this.Hr=new sB(this),this.indexManager=new H8,this.remoteDocumentCache=function(a){return new iB(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new F8(n),this.Yr=new J8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new nB(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const a=new aB(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return ce.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class aB extends MU{constructor(e){super(),this.currentSequenceNumber=e}}class ex{constructor(e){this.persistence=e,this.ti=new Jv,this.ni=null}static ri(e){return new ex(e)}get ii(){if(this.ni)return this.ni;throw Ie()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),ce.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ce.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.ii,i=>{const a=_e.fromPath(i);return this.si(e,a).next(l=>{l||n.removeEntry(a,ke.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ce.or([()=>ce.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class kf{constructor(e,n){this.persistence=e,this.oi=new uo(i=>VU(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=W8(this,n)}static ri(e,n){return new kf(e,n)}Zr(){}Xr(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return ce.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?ce.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,n).next(h=>{h||(i++,l.removeEntry(c,ke.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ce.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zh(e.data.value)),n}ar(e,n,i){return ce.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return ce.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(e,n){let i=ze(),a=ze();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new tx(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return pO()?8:PU(gn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,n,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new oB;return this._s(e,n,c).next(h=>{if(l.result=h,this.Xi)return this.us(e,n,c,h.size)})}).next(()=>l.result)}us(e,n,i,a){return i.documentReadCount<this.es?(sl()<=Fe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ce.resolve()):(sl()<=Fe.DEBUG&&me("QueryEngine","Query:",al(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(sl()<=Fe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(n))):ce.resolve())}rs(e,n){if(kE(n))return ce.resolve(null);let i=ir(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=jf(n,null,"F"),i=ir(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=ze(...l);return this.ns.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const g=this.cs(n,h);return this.ls(n,g,c,f.readTime)?this.rs(e,jf(n,null,"F")):this.hs(e,g,n,f)}))})))}ss(e,n,i,a){return kE(n)||a.isEqual(ke.min())?ce.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(n,l);return this.ls(n,c,i,a)?ce.resolve(null):(sl()<=Fe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),al(n)),this.hs(e,c,n,jU(a,Du)).next(h=>h))})}cs(e,n){let i=new zt(CC(e));return n.forEach((a,l)=>{pm(e,l)&&(i=i.add(l))}),i}ls(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,i){return sl()<=Fe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",al(n)),this.ns.getDocumentsMatchingQuery(e,n,Ws.min(),i)}hs(e,n,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="LocalStore",cB=3e8;class uB{constructor(e,n,i,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new vt(Ve),this.Is=new uo(l=>$v(l),Gv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z8(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function dB(t,e,n,i){return new uB(t,e,n,i)}async function XC(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let f=ze();for(const g of a){c.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}for(const g of l){h.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(i,f).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:h}))})})}function hB(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,g,y){const b=g.batch,w=b.keys();let S=ce.resolve();return w.forEach(A=>{S=S.next(()=>y.getEntry(f,A)).next(P=>{const k=g.docVersions.get(A);Xe(k!==null),P.version.compareTo(k)<0&&(b.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),y.addEntry(P)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,b))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=ze();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function ZC(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function fB(t,e){const n=Me(t),i=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const h=[];e.targetChanges.forEach((y,b)=>{const w=a.get(b);if(!w)return;h.push(n.Hr.removeMatchingKeys(l,y.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(l,y.addedDocuments,b)));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(on.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),a=a.insert(b,S),function(P,k,R){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=cB?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(w,S,y)&&h.push(n.Hr.updateTargetData(l,S))});let f=es(),g=ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),h.push(mB(l,c,e.documentUpdates).next(y=>{f=y.Vs,g=y.fs})),!i.isEqual(ke.min())){const y=n.Hr.getLastRemoteSnapshotVersion(l).next(b=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(y)}return ce.waitFor(h).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,f,g)).next(()=>f)}).then(l=>(n.Ts=a,l))}function mB(t,e,n){let i=ze(),a=ze();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=es();return n.forEach((h,f)=>{const g=l.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(ke.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):me(nx,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{Vs:c,fs:a}})}function pB(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=zv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function gB(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,e).next(l=>l?(a=l,ce.resolve(a)):n.Hr.allocateTargetId(i).next(c=>(a=new Ls(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function hy(t,e,n){const i=Me(t),a=i.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Ul(c))throw c;me(nx,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function GE(t,e,n){const i=Me(t);let a=ke.min(),l=ze();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,g,y){const b=Me(f),w=b.Is.get(y);return w!==void 0?ce.resolve(b.Ts.get(w)):b.Hr.getTargetData(g,y)}(i,c,ir(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,h.targetId).next(f=>{l=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,n?a:ke.min(),n?l:ze())).next(h=>(yB(i,n8(e),h),{documents:h,gs:l})))}function yB(t,e,n){let i=t.Es.get(e)||ke.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Es.set(e,i)}class KE{constructor(){this.activeTargetIds=l8()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vB{constructor(){this.ho=new KE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new KE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="ConnectivityMonitor";class WE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(YE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(YE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh=null;function fy(){return Lh===null?Lh=function(){return 268435456+Math.round(2147483648*Math.random())}():Lh++,"0x"+Lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="RestConnection",bB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wB{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Nf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,n,i,a,l){const c=fy(),h=this.bo(e,n.toUriEncodedString());me(c0,`Sending RPC '${e}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,l),this.vo(e,h,f,i).then(g=>(me(c0,`Received RPC '${e}' ${c}: `,g),g),g=>{throw _l(c0,`RPC '${e}' ${c} failed with error: `,g,"url: ",h,"request:",i),g})}Co(e,n,i,a,l,c){return this.So(e,n,i,a,l)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}bo(e,n){const i=bB[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class EB extends wB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,a){const l=fy();return new Promise((c,h)=>{const f=new nC;f.setWithCredentials(!0),f.listenOnce(iC.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Xh.NO_ERROR:const y=f.getResponseJson();me(dn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Xh.TIMEOUT:me(dn,`RPC '${e}' ${l} timed out`),h(new ge(le.DEADLINE_EXCEEDED,"Request time out"));break;case Xh.HTTP_ERROR:const b=f.getStatus();if(me(dn,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const A=function(k){const R=k.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(R)>=0?R:le.UNKNOWN}(S.status);h(new ge(A,S.message))}else h(new ge(le.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ge(le.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{me(dn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);me(dn,`RPC '${e}' ${l} sending request:`,a),f.send(n,"POST",g,i,15)})}Wo(e,n,i){const a=fy(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=aC(),h=sC(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const y=l.join("");me(dn,`Creating RPC '${e}' stream ${a}: ${y}`,f);const b=c.createWebChannel(y,f);let w=!1,S=!1;const A=new _B({Fo:k=>{S?me(dn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(w||(me(dn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),w=!0),me(dn,`RPC '${e}' stream ${a} sending:`,k),b.send(k))},Mo:()=>b.close()}),P=(k,R,B)=>{k.listen(R,F=>{try{B(F)}catch(te){setTimeout(()=>{throw te},0)}})};return P(b,ru.EventType.OPEN,()=>{S||(me(dn,`RPC '${e}' stream ${a} transport opened.`),A.Qo())}),P(b,ru.EventType.CLOSE,()=>{S||(S=!0,me(dn,`RPC '${e}' stream ${a} transport closed`),A.Uo())}),P(b,ru.EventType.ERROR,k=>{S||(S=!0,_l(dn,`RPC '${e}' stream ${a} transport errored:`,k),A.Uo(new ge(le.UNAVAILABLE,"The operation could not be completed")))}),P(b,ru.EventType.MESSAGE,k=>{var R;if(!S){const B=k.data[0];Xe(!!B);const F=B,te=(F==null?void 0:F.error)||((R=F[0])===null||R===void 0?void 0:R.error);if(te){me(dn,`RPC '${e}' stream ${a} received error:`,te);const W=te.status;let re=function(j){const M=Pt[j];if(M!==void 0)return UC(M)}(W),D=te.message;re===void 0&&(re=le.INTERNAL,D="Unknown error status: "+W+" with message "+te.message),S=!0,A.Uo(new ge(re,D)),b.close()}else me(dn,`RPC '${e}' stream ${a} received:`,B),A.Ko(B)}}),P(h,rC.STAT_EVENT,k=>{k.stat===ty.PROXY?me(dn,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===ty.NOPROXY&&me(dn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function u0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t){return new N8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="PersistentStream";class eR{constructor(e,n,i,a,l,c,h,f){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new JC(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{e(()=>{const a=new ge(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(QE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(me(QE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TB extends eR{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=j8(this.serializer,e),i=function(l){if(!("targetChange"in l))return ke.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?rr(c.readTime):ke.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=dy(this.serializer),n.addTarget=function(l,c){let h;const f=c.target;if(h=ay(f)?{documents:k8(l,f)}:{query:M8(l,f).ht},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=zC(l,c.resumeToken);const g=ly(l,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(ke.min())>0){h.readTime=Df(l,c.snapshotVersion.toTimestamp());const g=ly(l,c.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,e);const i=O8(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=dy(this.serializer),n.removeTarget=e,this.I_(n)}}class SB extends eR{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=D8(e.writeResults,e.commitTime),i=rr(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=dy(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>I8(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{}class NB extends AB{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new ge(le.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,cy(n,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(le.UNKNOWN,l.toString())})}Co(e,n,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Co(e,cy(n,i),a,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(le.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class CB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Jr(n),this.N_=!1):me("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class RB{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{ho(this)&&(me(ro,"Restarting streams for network reachability change."),await async function(f){const g=Me(f);g.W_.add(4),await ed(g),g.j_.set("Unknown"),g.W_.delete(4),await bm(g)}(this))})}),this.j_=new CB(i,a)}}async function bm(t){if(ho(t))for(const e of t.G_)await e(!0)}async function ed(t){for(const e of t.G_)await e(!1)}function tR(t,e){const n=Me(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),ax(n)?sx(n):Fl(n).c_()&&rx(n,e))}function ix(t,e){const n=Me(t),i=Fl(n);n.K_.delete(e),i.c_()&&nR(n,e),n.K_.size===0&&(i.c_()?i.P_():ho(n)&&n.j_.set("Unknown"))}function rx(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fl(t).y_(e)}function nR(t,e){t.H_.Ne(e),Fl(t).w_(e)}function sx(t){t.H_=new E8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Fl(t).start(),t.j_.B_()}function ax(t){return ho(t)&&!Fl(t).u_()&&t.K_.size>0}function ho(t){return Me(t).W_.size===0}function iR(t){t.H_=void 0}async function jB(t){t.j_.set("Online")}async function IB(t){t.K_.forEach((e,n)=>{rx(t,e)})}async function DB(t,e){iR(t),ax(t)?(t.j_.q_(e),sx(t)):t.j_.set("Unknown")}async function kB(t,e,n){if(t.j_.set("Online"),e instanceof FC&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const h of l.targetIds)a.K_.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.K_.delete(h),a.H_.removeTarget(h))}(t,e)}catch(i){me(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Mf(t,i)}else if(e instanceof tf?t.H_.We(e):e instanceof BC?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ke.min()))try{const i=await ZC(t.localStore);n.compareTo(i)>=0&&await function(l,c){const h=l.H_.ot(c);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.K_.get(g);y&&l.K_.set(g,y.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach((f,g)=>{const y=l.K_.get(f);if(!y)return;l.K_.set(f,y.withResumeToken(on.EMPTY_BYTE_STRING,y.snapshotVersion)),nR(l,f);const b=new Ls(y.target,f,g,y.sequenceNumber);rx(l,b)}),l.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){me(ro,"Failed to raise snapshot:",i),await Mf(t,i)}}async function Mf(t,e,n){if(!Ul(e))throw e;t.W_.add(1),await ed(t),t.j_.set("Offline"),n||(n=()=>ZC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(ro,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await bm(t)})}function rR(t,e){return e().catch(n=>Mf(t,n,e))}async function wm(t){const e=Me(t),n=Js(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:zv;for(;MB(e);)try{const a=await pB(e.localStore,i);if(a===null){e.U_.length===0&&n.P_();break}i=a.batchId,PB(e,a)}catch(a){await Mf(e,a)}sR(e)&&aR(e)}function MB(t){return ho(t)&&t.U_.length<10}function PB(t,e){t.U_.push(e);const n=Js(t);n.c_()&&n.S_&&n.b_(e.mutations)}function sR(t){return ho(t)&&!Js(t).u_()&&t.U_.length>0}function aR(t){Js(t).start()}async function OB(t){Js(t).C_()}async function VB(t){const e=Js(t);for(const n of t.U_)e.b_(n.mutations)}async function LB(t,e,n){const i=t.U_.shift(),a=Qv.from(i,e,n);await rR(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await wm(t)}async function UB(t,e){e&&Js(t).S_&&await async function(i,a){if(function(c){return w8(c)&&c!==le.ABORTED}(a.code)){const l=i.U_.shift();Js(i).h_(),await rR(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await wm(i)}}(t,e),sR(t)&&aR(t)}async function XE(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),me(ro,"RemoteStore received new credentials");const i=ho(n);n.W_.add(3),await ed(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await bm(n)}async function BB(t,e){const n=Me(t);e?(n.W_.delete(2),await bm(n)):e||(n.W_.add(2),await ed(n),n.j_.set("Unknown"))}function Fl(t){return t.J_||(t.J_=function(n,i,a){const l=Me(n);return l.M_(),new TB(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:jB.bind(null,t),No:IB.bind(null,t),Lo:DB.bind(null,t),p_:kB.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),ax(t)?sx(t):t.j_.set("Unknown")):(await t.J_.stop(),iR(t))})),t.J_}function Js(t){return t.Y_||(t.Y_=function(n,i,a){const l=Me(n);return l.M_(),new SB(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:OB.bind(null,t),Lo:UB.bind(null,t),D_:VB.bind(null,t),v_:LB.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await wm(t)):(await t.Y_.stop(),t.U_.length>0&&(me(ro,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,h=new ox(e,n,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lx(t,e){if(Jr("AsyncQueue",`${e}: ${t}`),Ul(t))return new ge(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{static emptySet(e){return new vl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||_e.comparator(n.key,i.key):(n,i)=>_e.comparator(n.key,i.key),this.keyedMap=su(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new vl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.Z_=new vt(_e.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ie():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Nl{constructor(e,n,i,a,l,c,h,f,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach(h=>{c.push({type:0,doc:h})}),new Nl(e,n,vl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class zB{constructor(){this.queries=JE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=Me(n),l=a.queries;a.queries=JE(),l.forEach((c,h)=>{for(const f of h.ta)f.onError(i)})})(this,new ge(le.ABORTED,"Firestore shutting down"))}}function JE(){return new uo(t=>NC(t),mm)}async function oR(t,e){const n=Me(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new FB,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=lx(c,`Initialization of query '${al(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&cx(n)}async function lR(t,e){const n=Me(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function HB(t,e){const n=Me(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ta)h.oa(a)&&(i=!0);c.ea=a}}i&&cx(n)}function qB(t,e,n){const i=Me(t),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(n);i.queries.delete(e)}function cx(t){t.ia.forEach(e=>{e.next()})}var my,eT;(eT=my||(my={}))._a="default",eT.Cache="cache";class cR{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Nl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==my.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.key=e}}class dR{constructor(e){this.key=e}}class $B{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ze(),this.mutatedKeys=ze(),this.ya=CC(e),this.wa=new vl(this.ya)}get Sa(){return this.fa}ba(e,n){const i=n?n.Da:new ZE,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,b)=>{const w=a.get(y),S=pm(this.query,b)?b:null,A=!!w&&this.mutatedKeys.has(w.key),P=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;w&&S?w.data.isEqual(S.data)?A!==P&&(i.track({type:3,doc:S}),k=!0):this.va(w,S)||(i.track({type:2,doc:S}),k=!0,(f&&this.ya(S,f)>0||g&&this.ya(S,g)<0)&&(h=!0)):!w&&S?(i.track({type:0,doc:S}),k=!0):w&&!S&&(i.track({type:1,doc:w}),k=!0,(f||g)&&(h=!0)),k&&(S?(c=c.add(S),l=P?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{wa:c,Da:i,ls:h,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,b)=>function(S,A){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return P(S)-P(A)}(y.type,b.type)||this.ya(y.doc,b.doc)),this.Ca(i),a=a!=null&&a;const h=n&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,g=f!==this.ga;return this.ga=f,c.length!==0||g?{snapshot:new Nl(this.query,e.wa,l,c,e.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ZE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ze(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new dR(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new uR(i))}),n}Oa(e){this.fa=e.gs,this.pa=ze();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Nl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ux="SyncEngine";class GB{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class KB{constructor(e){this.key=e,this.Ba=!1}}class YB{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new uo(h=>NC(h),mm),this.qa=new Map,this.Qa=new Set,this.$a=new vt(_e.comparator),this.Ua=new Map,this.Ka=new Jv,this.Wa={},this.Ga=new Map,this.za=Al.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function WB(t,e,n=!0){const i=yR(t);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await hR(i,e,n,!0),a}async function QB(t,e){const n=yR(t);await hR(n,e,!0,!1)}async function hR(t,e,n,i){const a=await gB(t.localStore,ir(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await XB(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&tR(t.remoteStore,a),h}async function XB(t,e,n,i,a){t.Ha=(b,w,S)=>async function(P,k,R,B){let F=k.view.ba(R);F.ls&&(F=await GE(P.localStore,k.query,!1).then(({documents:D})=>k.view.ba(D,F)));const te=B&&B.targetChanges.get(k.targetId),W=B&&B.targetMismatches.get(k.targetId)!=null,re=k.view.applyChanges(F,P.isPrimaryClient,te,W);return nT(P,k.targetId,re.Ma),re.snapshot}(t,b,w,S);const l=await GE(t.localStore,e,!0),c=new $B(e,l.gs),h=c.ba(l.documents),f=Ju.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=c.applyChanges(h,t.isPrimaryClient,f);nT(t,n,g.Ma);const y=new GB(e,n,c);return t.ka.set(e,y),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),g.snapshot}async function ZB(t,e,n){const i=Me(t),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!mm(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await hy(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&ix(i.remoteStore,a.targetId),py(i,a.targetId)}).catch(Ll)):(py(i,a.targetId),await hy(i.localStore,a.targetId,!0))}async function JB(t,e){const n=Me(t),i=n.ka.get(e),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ix(n.remoteStore,i.targetId))}async function eF(t,e,n){const i=oF(t);try{const a=await function(c,h){const f=Me(c),g=Tt.now(),y=h.reduce((S,A)=>S.add(A.key),ze());let b,w;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=es(),P=ze();return f.ds.getEntries(S,y).next(k=>{A=k,A.forEach((R,B)=>{B.isValidDocument()||(P=P.add(R))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,A)).next(k=>{b=k;const R=[];for(const B of h){const F=g8(B,b.get(B.key).overlayedDocument);F!=null&&R.push(new sa(B.key,F,xC(F.value.mapValue),di.exists(!0)))}return f.mutationQueue.addMutationBatch(S,g,R,h)}).next(k=>{w=k;const R=k.applyToLocalDocumentSet(b,P);return f.documentOverlayCache.saveOverlays(S,k.batchId,R)})}).then(()=>({batchId:w.batchId,changes:jC(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,h,f){let g=c.Wa[c.currentUser.toKey()];g||(g=new vt(Ve)),g=g.insert(h,f),c.Wa[c.currentUser.toKey()]=g}(i,a.batchId,n),await td(i,a.changes),await wm(i.remoteStore)}catch(a){const l=lx(a,"Failed to persist write");n.reject(l)}}async function fR(t,e){const n=Me(t);try{const i=await fB(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Ua.get(l);c&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?Xe(c.Ba):a.removedDocuments.size>0&&(Xe(c.Ba),c.Ba=!1))}),await td(n,i,e)}catch(i){await Ll(i)}}function tT(t,e,n){const i=Me(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((l,c)=>{const h=c.view.sa(e);h.snapshot&&a.push(h.snapshot)}),function(c,h){const f=Me(c);f.onlineState=h;let g=!1;f.queries.forEach((y,b)=>{for(const w of b.ta)w.sa(h)&&(g=!0)}),g&&cx(f)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function tF(t,e,n){const i=Me(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Ua.get(e),l=a&&a.key;if(l){let c=new vt(_e.comparator);c=c.insert(l,mn.newNoDocument(l,ke.min()));const h=ze().add(l),f=new vm(ke.min(),new Map,new vt(Ve),c,h);await fR(i,f),i.$a=i.$a.remove(l),i.Ua.delete(e),dx(i)}else await hy(i.localStore,e,!1).then(()=>py(i,e,n)).catch(Ll)}async function nF(t,e){const n=Me(t),i=e.batch.batchId;try{const a=await hB(n.localStore,e);pR(n,i,null),mR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await td(n,a)}catch(a){await Ll(a)}}async function iF(t,e,n){const i=Me(t);try{const a=await function(c,h){const f=Me(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return f.mutationQueue.lookupMutationBatch(g,h).next(b=>(Xe(b!==null),y=b.keys(),f.mutationQueue.removeMutationBatch(g,b))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>f.localDocuments.getDocuments(g,y))})}(i.localStore,e);pR(i,e,n),mR(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await td(i,a)}catch(a){await Ll(a)}}function mR(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function pR(t,e,n){const i=Me(t);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function py(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(i=>{t.Ka.containsKey(i)||gR(t,i)})}function gR(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(ix(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),dx(t))}function nT(t,e,n){for(const i of n)i instanceof uR?(t.Ka.addReference(i.key,e),rF(t,i)):i instanceof dR?(me(ux,"Document no longer in limbo: "+i.key),t.Ka.removeReference(i.key,e),t.Ka.containsKey(i.key)||gR(t,i.key)):Ie()}function rF(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(me(ux,"New document in limbo: "+n),t.Qa.add(i),dx(t))}function dx(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new _e(lt.fromString(e)),i=t.za.next();t.Ua.set(i,new KB(n)),t.$a=t.$a.insert(n,i),tR(t.remoteStore,new Ls(ir(Kv(n.path)),i,"TargetPurposeLimboResolution",dm.ae))}}async function td(t,e,n){const i=Me(t),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{c.push(i.Ha(f,e,n).then(g=>{var y;if((g||n)&&i.isPrimaryClient){const b=g?!g.fromCache:(y=n==null?void 0:n.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(g){a.push(g);const b=tx.Yi(f.targetId,g);l.push(b)}}))}),await Promise.all(c),i.La.p_(a),await async function(f,g){const y=Me(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ce.forEach(g,w=>ce.forEach(w.Hi,S=>y.persistence.referenceDelegate.addReference(b,w.targetId,S)).next(()=>ce.forEach(w.Ji,S=>y.persistence.referenceDelegate.removeReference(b,w.targetId,S)))))}catch(b){if(!Ul(b))throw b;me(nx,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const S=y.Ts.get(w),A=S.snapshotVersion,P=S.withLastLimboFreeSnapshotVersion(A);y.Ts=y.Ts.insert(w,P)}}}(i.localStore,l))}async function sF(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){me(ux,"User change. New user:",e.toKey());const i=await XC(n.localStore,e);n.currentUser=e,function(l,c){l.Ga.forEach(h=>{h.forEach(f=>{f.reject(new ge(le.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await td(n,i.Rs)}}function aF(t,e){const n=Me(t),i=n.Ua.get(e);if(i&&i.Ba)return ze().add(i.key);{let a=ze();const l=n.qa.get(e);if(!l)return a;for(const c of l){const h=n.ka.get(c);a=a.unionWith(h.view.Sa)}return a}}function yR(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tF.bind(null,e),e.La.p_=HB.bind(null,e.eventManager),e.La.Ja=qB.bind(null,e.eventManager),e}function oF(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iF.bind(null,e),e}class Pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return dB(this.persistence,new lB,e.initialUser,this.serializer)}Xa(e){return new QC(ex.ri,this.serializer)}Za(e){return new vB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pf.provider={build:()=>new Pf};class lF extends Pf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Xe(this.persistence.referenceDelegate instanceof kf);const i=this.persistence.referenceDelegate.garbageCollector;return new K8(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new QC(i=>kf.ri(i,n),this.serializer)}}class gy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sF.bind(null,this.syncEngine),await BB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zB}()}createDatastore(e){const n=xm(e.databaseInfo.databaseId),i=function(l){return new EB(l)}(e.databaseInfo);return function(l,c,h,f){return new NB(l,c,h,f)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,c,h){return new RB(i,a,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,n=>tT(this.syncEngine,n,0),function(){return WE.D()?new WE:new xB}())}createSyncEngine(e,n){return function(a,l,c,h,f,g,y){const b=new YB(a,l,c,h,f,g);return y&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Me(a);me(ro,"RemoteStore shutting down."),l.W_.add(5),await ed(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gy.provider={build:()=>new gy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="FirestoreClient";class cF{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=fn.UNAUTHENTICATED,this.clientId=cC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{me(ea,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(me(ea,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=lx(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function d0(t,e){t.asyncQueue.verifyOperationInProgress(),me(ea,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await XC(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function iT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uF(t);me(ea,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>XE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>XE(e.remoteStore,a)),t._onlineComponents=e}async function uF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(ea,"Using user provided OfflineComponentProvider");try{await d0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;_l("Error using user provided cache. Falling back to memory cache: "+n),await d0(t,new Pf)}}else me(ea,"Using default OfflineComponentProvider"),await d0(t,new lF(void 0));return t._offlineComponents}async function xR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(ea,"Using user provided OnlineComponentProvider"),await iT(t,t._uninitializedComponentsProvider._online)):(me(ea,"Using default OnlineComponentProvider"),await iT(t,new gy))),t._onlineComponents}function dF(t){return xR(t).then(e=>e.syncEngine)}async function bR(t){const e=await xR(t),n=e.eventManager;return n.onListen=WB.bind(null,e.syncEngine),n.onUnlisten=ZB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JB.bind(null,e.syncEngine),n}function hF(t,e,n={}){const i=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,h,f,g){const y=new vR({next:w=>{y.su(),c.enqueueAndForget(()=>lR(l,b));const S=w.docs.has(h);!S&&w.fromCache?g.reject(new ge(le.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&f&&f.source==="server"?g.reject(new ge(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new cR(Kv(h.path),y,{includeMetadataChanges:!0,Ta:!0});return oR(l,b)}(await bR(t),t.asyncQueue,e,n,i)),i.promise}function fF(t,e,n={}){const i=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,h,f,g){const y=new vR({next:w=>{y.su(),c.enqueueAndForget(()=>lR(l,b)),w.fromCache&&f.source==="server"?g.reject(new ge(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new cR(h,y,{includeMetadataChanges:!0,Ta:!0});return oR(l,b)}(await bR(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t,e,n){if(!n)throw new ge(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mF(t,e,n,i){if(e===!0&&i===!0)throw new ge(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sT(t){if(!_e.isDocumentKey(t))throw new ge(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aT(t){if(_e.isDocumentKey(t))throw new ge(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function Di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_m(t);throw new ge(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firestore.googleapis.com",oT=!0;class lT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ER,this.ssl=oT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:oT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$8)throw new ge(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Em{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new wU;switch(i.type){case"firstParty":return new SU(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=rT.get(n);i&&(me("ComponentProvider","Removing Datastore"),rT.delete(n),i.terminate())}(this),Promise.resolve()}}function pF(t,e,n,i={}){var a;const l=(t=Di(t,Em))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;l.host!==ER&&l.host!==h&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:h,ssl:!1,emulatorOptions:i});if(!Ys(f,c)&&(t._setSettings(f),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=fn.MOCK_USER;else{g=cO(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ge(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new fn(b)}t._authCredentials=new _U(new oC(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new aa(this.firestore,e,this._query)}}class En{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class zs extends aa{constructor(e,n,i){super(e,n,Kv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new _e(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function Ci(t,e,...n){if(t=jt(t),_R("collection","path",e),t instanceof Em){const i=lt.fromString(e,...n);return aT(i),new zs(t,null,i)}{if(!(t instanceof En||t instanceof zs))throw new ge(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(lt.fromString(e,...n));return aT(i),new zs(t.firestore,null,i)}}function Tn(t,e,...n){if(t=jt(t),arguments.length===1&&(e=cC.newId()),_R("doc","path",e),t instanceof Em){const i=lt.fromString(e,...n);return sT(i),new En(t,null,new _e(i))}{if(!(t instanceof En||t instanceof zs))throw new ge(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(lt.fromString(e,...n));return sT(i),new En(t.firestore,t instanceof zs?t.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="AsyncQueue";class uT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new JC(this,"async_queue_retry"),this.Su=()=>{const i=u0();i&&me(cT,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const n=u0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=u0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Yr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ul(e))throw e;me(cT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw Jr("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=ox.createAndSchedule(this,e,n,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Ie()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class fo extends Em{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new uT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uT(e),this._firestoreClient=void 0,await e}}}function TR(t,e){const n=typeof t=="object"?t:Tv(),i=typeof t=="string"?t:Nf,a=co(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=oO("firestore");l&&pF(a,...l)}return a}function hx(t){if(t._terminated)throw new ge(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gF(t),t._firestoreClient}function gF(t){var e,n,i;const a=t._freezeSettings(),l=function(h,f,g,y){return new BU(h,f,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,wR(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new cF(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cl(on.fromBase64String(e))}catch(n){throw new ge(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cl(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=/^__.*__$/;class vF{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new sa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(e,this.data,n,this.fieldTransforms)}}class SR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new sa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class px{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new px(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Uu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Of(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(AR(this.Lu)&&yF.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class xF{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||xm(e)}ju(e,n,i,a=!1){return new px({Lu:e,methodName:n,zu:i,path:sn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Am(t){const e=t._freezeSettings(),n=xm(t._databaseId);return new xF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NR(t,e,n,i,a,l={}){const c=t.ju(l.merge||l.mergeFields?2:0,e,n,a);yx("Data must be an object, but it was:",c,i);const h=CR(i,c);let f,g;if(l.merge)f=new qn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const b of l.mergeFields){const w=yy(e,b,n);if(!c.contains(w))throw new ge(le.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);jR(y,w)||y.push(w)}f=new qn(y),g=c.fieldTransforms.filter(b=>f.covers(b.field))}else f=null,g=c.fieldTransforms;return new vF(new jn(h),f,g)}class Nm extends Sm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nm}}class gx extends Sm{_toFieldTransform(e){return new h8(e.path,new Vu)}isEqual(e){return e instanceof gx}}function bF(t,e,n,i){const a=t.ju(1,e,n);yx("Data must be an object, but it was:",a,i);const l=[],c=jn.empty();ra(i,(f,g)=>{const y=vx(e,f,n);g=jt(g);const b=a.Uu(y);if(g instanceof Nm)l.push(y);else{const w=nd(g,b);w!=null&&(l.push(y),c.set(y,w))}});const h=new qn(l);return new SR(c,h,a.fieldTransforms)}function wF(t,e,n,i,a,l){const c=t.ju(1,e,n),h=[yy(e,i,n)],f=[a];if(l.length%2!=0)throw new ge(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(yy(e,l[w])),f.push(l[w+1]);const g=[],y=jn.empty();for(let w=h.length-1;w>=0;--w)if(!jR(g,h[w])){const S=h[w];let A=f[w];A=jt(A);const P=c.Uu(S);if(A instanceof Nm)g.push(S);else{const k=nd(A,P);k!=null&&(g.push(S),y.set(S,k))}}const b=new qn(g);return new SR(y,b,c.fieldTransforms)}function _F(t,e,n,i=!1){return nd(n,t.ju(i?4:3,e))}function nd(t,e){if(RR(t=jt(t)))return yx("Unsupported field value:",e,t),CR(t,e);if(t instanceof Sm)return function(i,a){if(!AR(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const h of i){let f=nd(h,a.Ku(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return c8(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Tt.fromDate(i);return{timestampValue:Df(a.serializer,l)}}if(i instanceof Tt){const l=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Df(a.serializer,l)}}if(i instanceof fx)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Cl)return{bytesValue:zC(a.serializer,i._byteString)};if(i instanceof En){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Zv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof mx)return function(c,h){return{mapValue:{fields:{[yC]:{stringValue:vC},[Cf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw h.Wu("VectorValues must only contain numeric values.");return Yv(h.serializer,g)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${_m(i)}`)}(t,e)}function CR(t,e){const n={};return dC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(t,(i,a)=>{const l=nd(a,e.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function RR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof fx||t instanceof Cl||t instanceof En||t instanceof Sm||t instanceof mx)}function yx(t,e,n){if(!RR(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=_m(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function yy(t,e,n){if((e=jt(e))instanceof Tm)return e._internalPath;if(typeof e=="string")return vx(t,e);throw Of("Field path arguments must be of type string or ",t,!1,void 0,n)}const EF=new RegExp("[~\\*/\\[\\]]");function vx(t,e,n){if(e.search(EF)>=0)throw Of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tm(...e.split("."))._internalPath}catch{throw Of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Of(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new ge(le.INVALID_ARGUMENT,h+t+f)}function jR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TF extends IR{data(){return super.data()}}function Cm(t,e){return typeof e=="string"?vx(t,e):e instanceof Tm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xx{}class bx extends xx{}function Hs(t,e,...n){let i=[];e instanceof xx&&i.push(e),i=i.concat(n),function(l){const c=l.filter(f=>f instanceof wx).length,h=l.filter(f=>f instanceof Rm).length;if(c>1||c>0&&h>0)throw new ge(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)t=a._apply(t);return t}class Rm extends bx{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Rm(e,n,i)}_apply(e){const n=this._parse(e);return DR(e._query,n),new aa(e.firestore,e.converter,oy(e._query,n))}_parse(e){const n=Am(e.firestore);return function(l,c,h,f,g,y,b){let w;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ge(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){fT(b,y);const A=[];for(const P of b)A.push(hT(f,l,P));w={arrayValue:{values:A}}}else w=hT(f,l,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||fT(b,y),w=_F(h,c,b,y==="in"||y==="not-in");return Ot.create(g,y,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function qr(t,e,n){const i=e,a=Cm("where",t);return Rm._create(a,i,n)}class wx extends xx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wx(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let c=a;const h=l.getFlattenedFilters();for(const f of h)DR(c,f),c=oy(c,f)}(e._query,n),new aa(e.firestore,e.converter,oy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _x extends bx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _x(e,n)}_apply(e){const n=function(a,l,c){if(a.startAt!==null)throw new ge(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ou(l,c)}(e._query,this._field,this._direction);return new aa(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new Bl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function Vf(t,e="asc"){const n=e,i=Cm("orderBy",t);return _x._create(i,n)}class Ex extends bx{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Ex(e,n,i)}_apply(e){return new aa(e.firestore,e.converter,jf(e._query,this._limit,this._limitType))}}function dT(t){return Ex._create("limit",t,"F")}function hT(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new ge(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AC(e)&&n.indexOf("/")!==-1)throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(lt.fromString(n));if(!_e.isDocumentKey(i))throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return NE(t,new _e(i))}if(n instanceof En)return NE(t,n._key);throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(n)}.`)}function fT(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DR(t,e){const n=function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AF{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ra(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[Cf].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Rt(c.doubleValue));return new mx(l)}convertGeoPoint(e){return new fx(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=fm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=lt.fromString(e);Xe(YC(i));const a=new Mu(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return a.isEqual(n)||Jr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MR extends IR{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Cm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class nf extends MR{data(e={}){return super.data(e)}}class NF{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ou(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new nf(this._firestore,this._userDataWriter,i.key,i,new ou(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(h=>{const f=new nf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ou(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const f=new nf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ou(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:CF(h.type),doc:f,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t){t=Di(t,En);const e=Di(t.firestore,fo);return hF(hx(e),t._key).then(n=>RF(e,t,n))}class PR extends AF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function qs(t){t=Di(t,aa);const e=Di(t.firestore,fo),n=hx(e),i=new PR(e);return SF(t._query),fF(n,t._query).then(a=>new NF(e,i,t,a))}function vy(t,e,n){t=Di(t,En);const i=Di(t.firestore,fo),a=kR(t.converter,e);return Im(i,[NR(Am(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,di.none())])}function Tx(t,e,n,...i){t=Di(t,En);const a=Di(t.firestore,fo),l=Am(a);let c;return c=typeof(e=jt(e))=="string"||e instanceof Tm?wF(l,"updateDoc",t._key,e,n,i):bF(l,"updateDoc",t._key,e),Im(a,[c.toMutation(t._key,di.exists(!0))])}function jm(t){return Im(Di(t.firestore,fo),[new Wv(t._key,di.none())])}function Sx(t,e){const n=Di(t.firestore,fo),i=Tn(t),a=kR(t.converter,e);return Im(n,[NR(Am(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,di.exists(!1))]).then(()=>i)}function Im(t,e){return function(i,a){const l=new Yr;return i.asyncQueue.enqueueAndForget(async()=>eF(await dF(i),a,l)),l.promise}(hx(t),e)}function RF(t,e,n){const i=n.docs.get(e._key),a=new PR(t);return new MR(t,a,e._key,i,new ou(n.hasPendingWrites,n.fromCache),e.converter)}function so(){return new gx("serverTimestamp")}(function(e,n=!0){(function(a){Vl=a})(Pl),sr(new ji("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new fo(new EU(i.getProvider("auth-internal")),new AU(c,i.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(g.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),ui(pE,gE,e),ui(pE,gE,"esm2017")})();const jF={apiKey:"AIzaSyCYpf_KkzUI_E8sKqs7I_16axaox6xHKgI",authDomain:"ai-coaching-182fd.firebaseapp.com",projectId:"ai-coaching-182fd",storageBucket:"ai-coaching-182fd.appspot.com",messagingSenderId:"356785094413",appId:"1:356785094413:web:40892dcca5ebb56e823a44",measurementId:"G-KHMN7TTXF0"},Ax=WA(jF),IF=async()=>{try{return await vU()?gU(Ax):null}catch(t){return console.error("Analytics initialization error:",t),null}};IF();const an=X9(Ax),OR=new Fr,VR=new Br,yt=TR(Ax);function DF(){const[t,e]=_.useState(""),[n,i]=_.useState(!1),[a,l]=_.useState(!1),c=or();_.useEffect(()=>{(async()=>{try{const w=an.currentUser;if(w){const S=await id(Tn(yt,"users",w.uid));S.exists()&&e(S.data().firstName||"User")}}catch(w){console.error("Error fetching user data:",w)}})()},[]);const h=async()=>{try{await FL(an),c("/login")}catch(b){console.error("Error signing out:",b)}},f=()=>{i(!n)},g=()=>{i(!1)},y=()=>{l(!a)};return d.jsx("div",{className:"flex flex-col bg-gray-50",children:d.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[d.jsx("div",{className:"hidden md:flex md:flex-col md:w-64 bg-gradient-to-b from-indigo-700 to-indigo-800 text-white shadow-xl",children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"flex items-center px-4 py-5 flex-shrink-0",children:d.jsxs("span",{className:"text-xl font-bold flex items-center pt-5",children:[d.jsx("span",{className:"bg-white text-indigo-700 rounded-lg p-1 mr-2",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),"AI Coach"]})}),d.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto",children:d.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:[{to:"/app/dashboard",icon:"",label:"Dashboard"},{to:"/app/goals",icon:"",label:"Goals"},{to:"/app/appointments",icon:"",label:"Appointments"},{to:"/app/coach",icon:"",label:"Coach Chat"},{to:"/app/journal",icon:"",label:"Journal"},{to:"/app/settings",icon:"",label:"Settings"}].map(b=>d.jsxs(b0,{to:b.to,className:({isActive:w})=>`${w?"bg-indigo-800 text-white":"text-indigo-100 hover:bg-indigo-600"} group flex items-center px-3 py-3 text-sm font-medium rounded-md transition-colors duration-200`,children:[d.jsx("span",{className:"mr-3 text-lg",children:b.icon}),b.label]},b.to))})}),d.jsx("div",{className:"p-4 border-t border-indigo-600",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-900 flex items-center justify-center text-white text-lg font-bold shadow-sm",children:t.charAt(0).toUpperCase()})}),d.jsxs("div",{className:"ml-3 relative",children:[d.jsx("p",{className:"text-sm font-medium text-white",children:t}),d.jsx("button",{onClick:y,className:"text-xs font-medium text-indigo-200 hover:text-white focus:outline-none",children:"Account "}),a&&d.jsx("div",{className:"absolute right-0 bottom-full mb-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:d.jsx("button",{onClick:h,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Sign out"})})]})]})})]})}),d.jsxs("div",{className:`md:hidden fixed inset-0 z-40 transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"}`,children:[d.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:g,style:{display:n?"block":"none"}}),d.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-gradient-to-b from-indigo-700 to-indigo-800 transform transition-transform duration-300 ease-in-out h-full",children:[d.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:d.jsxs("button",{onClick:g,className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[d.jsx("span",{className:"sr-only",children:"Close sidebar"}),d.jsx("span",{className:"text-white text-2xl",children:""})]})}),d.jsxs("div",{className:"flex-1 h-0 pt-5 overflow-y-auto",children:[d.jsx("div",{className:"flex items-center px-4",children:d.jsxs("span",{className:"text-xl text-white font-bold flex items-center",children:[d.jsx("span",{className:"bg-white text-indigo-700 rounded-lg p-1 mr-2",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),"AI Coach"]})}),d.jsx("nav",{className:"mt-5 px-2 space-y-1",children:[{to:"/app/dashboard",icon:"",label:"Dashboard"},{to:"/app/goals",icon:"",label:"Goals"},{to:"/app/appointments",icon:"",label:"Appointments"},{to:"/app/coach",icon:"",label:"Coach Chat"},{to:"/app/journal",icon:"",label:"Journal"},{to:"/app/settings",icon:"",label:"Settings"}].map(b=>d.jsxs(b0,{to:b.to,className:({isActive:w})=>`${w?"bg-indigo-800 text-white":"text-indigo-100 hover:bg-indigo-600"} group flex items-center px-3 py-3 text-sm font-medium rounded-md transition-colors duration-200`,onClick:g,children:[d.jsx("span",{className:"mr-3 text-lg",children:b.icon}),b.label]},b.to))})]}),d.jsx("div",{className:"flex-shrink-0 flex border-t border-indigo-600 p-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{children:d.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-900 flex items-center justify-center text-white text-lg font-bold shadow-sm",children:t.charAt(0).toUpperCase()})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("div",{className:"text-sm font-medium text-white",children:t}),d.jsx("button",{onClick:h,className:"text-xs font-medium text-indigo-200 hover:text-white",children:"Sign out"})]})]})})]})]}),d.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[d.jsxs("div",{className:"sticky top-0 z-10 md:hidden flex items-center justify-between px-4 py-3 bg-white shadow-sm",children:[d.jsxs("button",{type:"button",className:"inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:f,children:[d.jsx("span",{className:"sr-only",children:"Open sidebar"}),d.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]}),d.jsx("div",{className:"flex items-center",children:d.jsx("span",{className:"text-lg font-semibold text-indigo-700",children:"AI Coach"})}),d.jsx("div",{className:"w-6"})," "]}),d.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 py-6",children:d.jsx(y4,{})})})]})]})})}function kF({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const MF=_.forwardRef(kF);function PF({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{fillRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const OF=_.forwardRef(PF);function VF({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{fillRule:"evenodd",d:"M2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm6.39-2.908a.75.75 0 0 1 .766.027l3.5 2.25a.75.75 0 0 1 0 1.262l-3.5 2.25A.75.75 0 0 1 8 12.25v-4.5a.75.75 0 0 1 .39-.658Z",clipRule:"evenodd"}))}const mT=_.forwardRef(VF);function LF({title:t,titleId:e,...n},i){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z",clipRule:"evenodd"}))}const UF=_.forwardRef(LF);function BF(){return d.jsxs("div",{className:"relative isolate flex items-center justify-center min-h-screen bg-gray-900 overflow-hidden",children:[d.jsx("div",{style:{clipPath:"polygon(73.6% 51.7%, 91.7% 11.8%, 100% 46.4%, 97.4% 82.2%, 92.5% 84.9%, 75.7% 64%, 55.3% 47.5%, 46.5% 49.4%, 45% 62.9%, 50.3% 87.2%, 21.3% 64.1%, 0.1% 100%, 5.4% 51.1%, 21.4% 63.9%, 58.9% 0.2%, 73.6% 51.7%)"},className:"absolute inset-0 -z-20 aspect-1108/632 w-[69.25rem] bg-linear-to-r from-[#80caff] to-[#4f46e5] opacity-90"}),d.jsx("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:d.jsx("div",{className:"absolute left-1/2 top-0 h-[60rem] w-[120rem] -translate-x-1/2 bg-[linear-gradient(to_right,rgba(255,255,255,0.1)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,255,255,0.1)_1px,transparent_1px)] bg-[size:60px_60px] [mask-image:radial-gradient(ellipse_50%_50%_at_50%_50%,#000_70%,transparent_100%)]"})}),d.jsx("div",{className:"absolute -top-40 -left-40 -z-10 transform-gpu blur-3xl","aria-hidden":"true",children:d.jsx("div",{className:"aspect-[1108/632] w-[69.25rem] bg-gradient-to-r from-[#80caff] to-[#4f46e5] opacity-20 rounded-full h-96 w-96 animate-float"})}),d.jsx("div",{className:"absolute -bottom-32 -right-40 -z-10 transform-gpu blur-3xl","aria-hidden":"true",children:d.jsx("div",{className:"aspect-[1108/632] w-[69.25rem] bg-gradient-to-r from-[#ff80b5] to-[#9089fc] opacity-20 rounded-full h-96 w-96 animate-float-delay"})}),d.jsxs(pe.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"text-center px-6 sm:px-16 lg:px-24 max-w-4xl",children:[d.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},className:"mb-8 flex justify-center",children:d.jsxs("span",{className:"inline-flex items-center rounded-full bg-indigo-500/10 px-4 py-2 text-sm font-medium text-indigo-400 ring-1 ring-inset ring-indigo-500/20",children:[d.jsx("span",{className:"h-2 w-2 rounded-full bg-indigo-400 animate-pulse mr-2"}),"Now with AI coaching"]})}),d.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl lg:text-6xl xl:text-7xl leading-tight",children:[d.jsx("span",{className:"bg-gradient-to-r from-indigo-300 to-indigo-600 bg-clip-text text-transparent",children:"Transform"})," Your Productivity"]}),d.jsx("p",{className:"mt-6 text-lg text-gray-300 sm:text-xl max-w-3xl mx-auto",children:"AI-powered accountability, real-time insights, and personalized coaching to help you achieve more in less time."}),d.jsxs("div",{className:"mt-12 flex flex-col sm:flex-row justify-center items-center gap-4",children:[d.jsx(pe.div,{whileHover:{scale:1.03},whileTap:{scale:.98},children:d.jsxs(Et,{to:"/register",className:"relative inline-flex items-center justify-center px-8 py-4 overflow-hidden font-medium text-white transition-all duration-300 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl group hover:from-indigo-600 hover:to-purple-700 shadow-lg hover:shadow-xl",children:[d.jsx("span",{className:"absolute top-0 right-0 inline-block w-4 h-4 transition-all duration-500 ease-in-out bg-purple-700 rounded group-hover:-mt-4 group-hover:-mr-4",children:d.jsx("span",{className:"absolute top-0 right-0 w-5 h-5 rotate-45 translate-x-1/2 -translate-y-1/2 bg-white"})}),d.jsx("span",{className:"absolute bottom-0 left-0 w-full h-full transition-all duration-500 ease-in-out delay-200 bg-gradient-to-r from-indigo-600 to-purple-700 rounded opacity-0 group-hover:opacity-100"}),d.jsxs("span",{className:"relative w-full text-center font-semibold text-lg flex items-center justify-center",children:["Get Started ",d.jsx(OF,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]})}),d.jsxs(pe.a,{whileHover:{scale:1.03},whileTap:{scale:.98},href:"#how-it-works",className:"inline-flex items-center px-6 py-3.5 text-sm font-medium text-white bg-gray-800 hover:bg-gray-700 rounded-xl border border-gray-700 transition-all duration-300 shadow hover:shadow-md group",children:[d.jsx(mT,{className:"h-5 w-5 text-indigo-400 mr-2 group-hover:text-indigo-300 transition-colors"}),d.jsx("span",{className:"relative",children:"Watch Demo"})]})]}),d.jsx("div",{className:"mt-16 flex justify-center",children:d.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-gray-700/50 shadow-2xl w-full max-w-4xl h-64 sm:h-80 bg-gradient-to-br from-gray-800 to-gray-900/50",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/80 to-transparent z-10"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:d.jsxs("div",{className:"text-center px-6",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-indigo-600/20 backdrop-blur-sm border border-indigo-500/30",children:d.jsx(mT,{className:"h-8 w-8 text-indigo-400"})}),d.jsx("p",{className:"mt-4 text-sm text-gray-300",children:"See how it works"})]})})]})})]})]})}/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zF=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),pT=t=>{const e=zF(t);return e.charAt(0).toUpperCase()+e.slice(1)},LR=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),HF=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},f)=>_.createElement("svg",{ref:f,...qF,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:LR("lucide",a),...!l&&!HF(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,y])=>_.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=(t,e)=>{const n=_.forwardRef(({className:i,...a},l)=>_.createElement($F,{ref:l,iconNode:e,className:LR(`lucide-${FF(pT(t))}`,`lucide-${t}`,i),...a}));return n.displayName=pT(t),n};/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],KF=is("calendar-clock",GF);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],WF=is("chevron-right",YF);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xy=is("eye-off",QF);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],by=is("eye",XF);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wy=is("lock",ZF);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],_y=is("mail",JF);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],tz=is("message-circle",ez);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],iz=is("target",nz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gT=is("user",rz),h0=[{icon:d.jsx(iz,{className:"w-8 h-8"}),title:"Set Smart Goals",description:"Define specific, measurable goals with AI guidance that breaks them into achievable milestones.",color:"from-indigo-500 to-purple-500",accent:"bg-indigo-500"},{icon:d.jsx(KF,{className:"w-8 h-8"}),title:"Schedule AI Sessions",description:"Plan voice check-ins with your AI coach using our intuitive scheduling system.",color:"from-amber-500 to-orange-500",accent:"bg-amber-500"},{icon:d.jsx(tz,{className:"w-8 h-8"}),title:"Maintain Consistency",description:"Get real-time feedback and encouragement to stay focused and accountable.",color:"from-emerald-500 to-teal-500",accent:"bg-emerald-500"}];function sz(){return d.jsxs("section",{id:"how-it-works",className:"relative py-24 bg-white overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/3 w-full max-w-4xl h-[800px] bg-gradient-to-br from-indigo-50 to-purple-50 rounded-full opacity-40 blur-3xl"}),d.jsxs("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 relative z-10",children:[d.jsxs("div",{className:"text-center mb-20",children:[d.jsxs(pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"inline-flex items-center rounded-full px-4 py-1.5 text-sm font-medium bg-indigo-100 text-indigo-700 mb-6",children:[d.jsx("span",{className:"h-2 w-2 rounded-full bg-indigo-500 mr-2 animate-pulse"}),"Simple 3-step process"]}),d.jsxs(pe.h2,{className:"text-4xl sm:text-5xl font-bold text-gray-900 mb-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},viewport:{once:!0},children:["How Our ",d.jsx("span",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 bg-clip-text text-transparent",children:"AI Coach"})," Works"]}),d.jsx(pe.p,{className:"text-xl text-gray-600 max-w-3xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:"Transform your productivity in just three simple steps with personalized AI guidance."})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8 lg:gap-12",children:h0.map((t,e)=>d.jsxs(pe.div,{className:"group relative",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:e*.15},viewport:{once:!0},children:[d.jsx("div",{className:`absolute -top-4 -left-4 w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-lg ${t.accent} shadow-md`,children:e+1}),d.jsxs("div",{className:"h-full p-8 rounded-2xl bg-white border border-gray-200 shadow-sm group-hover:shadow-lg transition-all duration-300 relative overflow-hidden",children:[d.jsx("div",{className:`absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-10 ${t.color} transition-opacity duration-500 -z-10`}),d.jsx("div",{className:`w-16 h-16 rounded-xl mb-6 flex items-center justify-center bg-gradient-to-br ${t.color} shadow-md`,children:Ee.cloneElement(t.icon,{className:"w-8 h-8 text-white"})}),d.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-3",children:t.title}),d.jsx("p",{className:"text-gray-600 mb-6",children:t.description}),d.jsxs("div",{className:"flex items-center text-sm font-medium text-indigo-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:["Learn more ",d.jsx(WF,{className:"ml-1 h-4 w-4"})]}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-100 overflow-hidden",children:d.jsx(pe.div,{className:`h-full ${t.accent}`,initial:{width:0},whileInView:{width:"100%"},transition:{duration:1.5,delay:e*.3},viewport:{once:!0}})})]})]},e))}),d.jsx("div",{className:"hidden md:flex items-center justify-center mt-8 relative",children:h0.map((t,e)=>d.jsx(Ee.Fragment,{children:e<h0.length-1&&d.jsx(pe.div,{className:`h-1 w-24 ${t.accent} opacity-30`,initial:{scaleX:0},whileInView:{scaleX:1},transition:{duration:.8,delay:e*.3+.5},viewport:{once:!0}})},e))})]})]})}const az=[{name:"Daily AI Check-ins",description:"Start your day with an intelligent check-in that helps you stay aligned, focused, and motivated toward your goals.",icon:cS,color:"text-indigo-500",bgColor:"bg-indigo-50"},{name:"Progress Analytics",description:"Get visual insights into your habits and consistency with beautiful, actionable dashboards and reports.",icon:Zf,color:"text-purple-500",bgColor:"bg-purple-50"},{name:"Smart Goal Tracking",description:"Our AI breaks down your big goals into manageable steps and adjusts them based on your progress.",icon:lk,color:"text-amber-500",bgColor:"bg-amber-50"},{name:"Accountability Network",description:"Join a vetted community of high-performers who motivate each other to stay on track.",icon:gk,color:"text-emerald-500",bgColor:"bg-emerald-50"}];function oz(){return d.jsxs("div",{id:"features",className:"relative overflow-hidden bg-white py-24 sm:py-32",children:[d.jsx("div",{className:"absolute -top-32 left-1/2 -z-10 -translate-x-1/2 transform-gpu blur-3xl",children:d.jsx("div",{className:"aspect-[1155/678] w-[72.1875rem] bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30",style:{clipPath:"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"}})}),d.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[d.jsxs("div",{className:"mx-auto grid max-w-2xl grid-cols-1 gap-y-16 gap-x-8 sm:gap-y-20 lg:mx-0 lg:max-w-none lg:grid-cols-2 lg:items-center mb-20",children:[d.jsxs(pe.div,{className:"lg:pr-8",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[d.jsxs(pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"inline-flex items-center rounded-full px-4 py-1.5 text-sm font-medium bg-indigo-100 text-indigo-700 mb-6",children:[d.jsx("span",{className:"h-2 w-2 rounded-full bg-indigo-500 mr-2 animate-pulse"}),"AI-Powered Productivity"]}),d.jsxs(pe.h2,{className:"mt-6 text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.3},viewport:{once:!0},children:["Transform how you ",d.jsx("span",{className:"text-indigo-600",children:"achieve"})," your goals"]}),d.jsx(pe.p,{className:"mt-6 text-lg leading-8 text-gray-600",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.4},viewport:{once:!0},children:"Our AI coach adapts to your unique workflow, providing personalized insights and accountability to help you make consistent progress."})]}),d.jsxs(pe.div,{className:"relative",initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[d.jsxs("div",{className:"relative aspect-[16/10] w-full overflow-hidden rounded-3xl bg-gray-900 shadow-2xl ring-1 ring-gray-900/10 lg:w-[576px] xl:w-[612px]",children:[d.jsx("div",{className:"absolute inset-0",children:d.jsx("img",{className:"object-cover w-full h-full",src:"https://img.freepik.com/free-photo/happy-african-american-professional-manager-smiling-looking-camera-headshot-portrait_1163-5134.jpg?uid=R15707722&ga=GA1.1.2138330038.1725127456&semt=ais_hybrid&w=740",alt:"App preview"})}),d.jsx("div",{className:"absolute -left-16 top-20 -z-10 h-64 w-64 rounded-full bg-purple-500 opacity-20 blur-3xl"}),d.jsx("div",{className:"absolute -right-16 bottom-20 -z-10 h-64 w-64 rounded-full bg-indigo-500 opacity-20 blur-3xl"})]}),d.jsx(pe.div,{className:"absolute -bottom-8 -left-8 bg-white p-4 rounded-xl shadow-lg border border-gray-200",initial:{y:20,opacity:0},whileInView:{y:0,opacity:1},transition:{delay:.8},viewport:{once:!0},children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 rounded-lg bg-indigo-50 p-2",children:d.jsx(Zf,{className:"h-5 w-5 text-indigo-600"})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Weekly progress"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"+28%"})]})]})}),d.jsx(pe.div,{className:"absolute -top-8 -right-8 bg-white p-4 rounded-xl shadow-lg border border-gray-200",initial:{y:-20,opacity:0},whileInView:{y:0,opacity:1},transition:{delay:1},viewport:{once:!0},children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 rounded-lg bg-green-50 p-2",children:d.jsx(cS,{className:"h-5 w-5 text-green-600"})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Consistency"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"94%"})]})]})})]})]}),d.jsx("div",{className:"mx-auto max-w-2xl lg:max-w-none",children:d.jsx(pe.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0},className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:az.map((t,e)=>d.jsxs(pe.div,{className:"relative rounded-2xl p-6 transition-all hover:bg-gray-50 border border-gray-200",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:e*.1},viewport:{once:!0},whileHover:{y:-5},children:[d.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-lg ${t.bgColor}`,children:d.jsx(t.icon,{className:`h-6 w-6 ${t.color}`,"aria-hidden":"true"})}),d.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:t.name}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:t.description}),d.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-br from-white via-white to-gray-100 opacity-0 transition-opacity group-hover:opacity-100 rounded-2xl"})]},t.name))})})]})]})}function lz(){return d.jsx("div",{className:"bg-gray-50 py-24 sm:py-32",children:d.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[d.jsxs(pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center",children:[d.jsxs("h2",{className:"inline-flex items-center rounded-full px-4 py-1.5 text-sm font-semibold bg-indigo-100 text-indigo-700 mb-6",children:[d.jsx("span",{className:"h-2 w-2 rounded-full bg-indigo-500 mr-2 animate-pulse"}),"Achieve Your Goals Faster"]}),d.jsxs("h3",{className:"mt-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:["AI-powered ",d.jsx("span",{className:"text-indigo-600",children:"Accountability Coaching"})," for Success"]})]}),d.jsxs("div",{className:"mt-16 grid gap-6 sm:mt-20 lg:grid-cols-3",children:[d.jsxs(pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"relative overflow-hidden rounded-3xl bg-white shadow-xl lg:row-span-2",children:[d.jsx("div",{className:"absolute -right-20 -top-20 h-64 w-64 rounded-full bg-indigo-100 opacity-30 blur-3xl"}),d.jsxs("div",{className:"p-8 sm:p-10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-indigo-50",children:d.jsx(sk,{className:"h-6 w-6 text-indigo-600"})}),d.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"Mobile Access"})]}),d.jsx("p",{className:"mt-4 text-gray-600",children:"Stay on track with mobile-friendly access to your AI-powered coach. Track your goals and progress from anywhere."}),d.jsx("div",{className:"mt-8 h-[400px] overflow-hidden rounded-xl border border-gray-200 bg-gray-50",children:d.jsx("img",{className:"h-full w-full object-cover object-top",src:"https://img.freepik.com/free-photo/woman-having-online-meeting-work_23-2148940756.jpg?uid=R15707722&ga=GA1.1.2138330038.1725127456&semt=ais_hybrid&w=740",alt:"Mobile app preview"})})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs(pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},className:"relative overflow-hidden rounded-3xl bg-white shadow-xl",children:[d.jsx("div",{className:"absolute -left-20 -bottom-20 h-64 w-64 rounded-full bg-amber-100 opacity-30 blur-3xl"}),d.jsxs("div",{className:"p-8 sm:p-10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-amber-50",children:d.jsx(hk,{className:"h-6 w-6 text-amber-600"})}),d.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"Performance Tracking"})]}),d.jsx("p",{className:"mt-4 text-gray-600",children:"Monitor your progress with real-time performance analytics. Stay accountable and adjust your actions for maximum success."}),d.jsx("div",{className:"mt-8 flex justify-center",children:d.jsx("img",{className:"w-full max-w-xs",src:"https://tailwindcss.com/plus-assets/img/component-images/bento-03-performance.png",alt:"Performance metrics"})})]})]}),d.jsxs(pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"relative overflow-hidden rounded-3xl bg-white shadow-xl",children:[d.jsx("div",{className:"absolute -right-20 -top-20 h-64 w-64 rounded-full bg-emerald-100 opacity-30 blur-3xl"}),d.jsxs("div",{className:"p-8 sm:p-10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-50",children:d.jsx(mk,{className:"h-6 w-6 text-emerald-600"})}),d.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"Secure Data"})]}),d.jsx("p",{className:"mt-4 text-gray-600",children:"Your privacy is our priority. Our system ensures that your data is fully protected with top-notch security measures."}),d.jsx("div",{className:"mt-8 flex justify-center",children:d.jsx("img",{className:"h-40 object-contain",src:"https://tailwindcss.com/plus-assets/img/component-images/bento-03-security.png",alt:"Security features"})})]})]})]}),d.jsxs(pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.5},viewport:{once:!0},className:"relative overflow-hidden rounded-3xl bg-white shadow-xl lg:row-span-2",children:[d.jsx("div",{className:"absolute -left-20 -bottom-20 h-64 w-64 rounded-full bg-purple-100 opacity-30 blur-3xl"}),d.jsxs("div",{className:"p-8 sm:p-10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-purple-50",children:d.jsx(ik,{className:"h-6 w-6 text-purple-600"})}),d.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"Smart AI Coaching"})]}),d.jsx("p",{className:"mt-4 text-gray-600",children:"Our system uses advanced AI to provide personalized coaching and actionable insights that guide you to success every step of the way."}),d.jsx("div",{className:"mt-8 h-[400px] overflow-hidden rounded-xl border border-gray-200 bg-gray-50",children:d.jsx("img",{className:"h-full w-full object-cover object-top",src:"https://img.freepik.com/premium-photo/business-woman-talking-whiteboard-presentation-planning-explaining-with-hand-gesture-office-female-leader-speaker-training-mentoring-feedback-with-corporate-meeting_590464-402205.jpg?uid=R15707722&ga=GA1.1.2138330038.1725127456&semt=ais_hybrid&w=740",alt:"Mobile app preview"})})]})]})]})]})})}const cz=[{id:1,name:"Daily Check-ins with AI Coaches",value:"75,000+",icon:qD,color:"text-indigo-600",bgColor:"bg-indigo-50"},{id:2,name:"Goals Achieved with AI Support",value:"2.5 million",icon:XD,color:"text-emerald-600",bgColor:"bg-emerald-50"},{id:3,name:"Users Who Stay on Track Yearly",value:"90%",icon:Zf,color:"text-amber-600",bgColor:"bg-amber-50"}];function uz(){return d.jsxs("div",{className:"relative bg-white py-24 sm:py-32 overflow-hidden",children:[d.jsx("div",{className:"absolute -right-20 -top-20 h-64 w-64 rounded-full bg-indigo-100 opacity-20 blur-3xl"}),d.jsx("div",{className:"absolute -left-20 -bottom-20 h-64 w-64 rounded-full bg-emerald-100 opacity-20 blur-3xl"}),d.jsx("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:d.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-16 items-center",children:[d.jsxs(pe.div,{className:"relative lg:h-full",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[d.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-indigo-100/20 to-purple-100/20 -z-10"}),d.jsx("img",{alt:"AI Accountability",src:"https://img.freepik.com/free-photo/group-people-with-laptops_23-2147993401.jpg?uid=R15707722&ga=GA1.1.2138330038.1725127456&semt=ais_hybrid&w=740",className:"w-full h-full object-cover rounded-2xl shadow-xl border border-gray-100"})]}),d.jsxs(pe.div,{className:"mt-16 lg:mt-0",initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[d.jsxs(pe.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2},viewport:{once:!0},className:"inline-flex items-center rounded-full bg-indigo-50 px-4 py-1.5 text-sm font-medium text-indigo-700 mb-6",children:[d.jsx("span",{className:"h-2 w-2 rounded-full bg-indigo-500 mr-2 animate-pulse"}),"Our Proven Impact"]}),d.jsxs(pe.h2,{className:"text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},children:["Achieve ",d.jsx("span",{className:"text-indigo-600",children:"more"})," with AI accountability"]}),d.jsx(pe.p,{className:"mt-6 text-lg leading-8 text-gray-600",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},children:"Join thousands of users who are reaching their goals faster with personalized AI coaching and data-driven insights."}),d.jsx(pe.div,{className:"mt-16 grid grid-cols-1 gap-8 sm:grid-cols-2 xl:grid-cols-3",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.5},viewport:{once:!0},children:cz.map(t=>d.jsxs(pe.div,{className:"flex flex-col gap-y-4 p-6 rounded-xl bg-white border border-gray-200 hover:shadow-lg transition-all",whileHover:{y:-5},children:[d.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-lg ${t.bgColor}`,children:d.jsx(t.icon,{className:`h-6 w-6 ${t.color}`})}),d.jsx("dt",{className:"text-sm font-medium text-gray-600",children:t.name}),d.jsx("dd",{className:"text-2xl font-bold text-gray-900",children:t.value})]},t.id))})]})]})})]})}function dz(){const t=[{id:1,quote:"I never thought an AI coach could actually help me stay on track with my personal goalsbut this has completely changed the game. I get daily check-ins, motivational nudges, and real-time insights that keep me focused. It's like having a coach in my pocket 24/7.",author:"Melissa T.",role:"Startup Founder",achievement:"Crushed 4 major goals in 3 months with AI support",image:"https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&auto=format&fit=crop&w=2102&q=80"},{id:2,quote:"The accountability features have transformed how I approach my work. I'm 3x more productive and actually completing projects instead of just starting them.",author:"James R.",role:"Software Engineer",achievement:"Increased productivity by 300%",image:"https://images.unsplash.com/photo-1531427186611-ecfd6d936c79?ixlib=rb-1.2.1&auto=format&fit=crop&w=2102&q=80"},{id:3,quote:"As a freelance designer, staying consistent used to be tough. Now, I wake up with clarity, track progress, and stay inspiredall through this AI. Its seriously changed my mindset.",author:"Aisha N.",role:"Freelance Designer",achievement:"Hit income goals 2 months ahead of schedule",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-1.2.1&auto=format&fit=crop&w=2100&q=80"},{id:4,quote:"The weekly reflections and emotional wellness prompts have helped me stay grounded while running a growing business. This isn't just productivityits wellness, too.",author:"Daniel W.",role:"Small Business Owner",achievement:"Reduced burnout and maintained a healthier work-life balance",image:"https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?ixlib=rb-1.2.1&auto=format&fit=crop&w=2100&q=80"},{id:5,quote:"I was skeptical at first, but within a week I was hooked. The AI keeps me engaged, calls out my excuses, and even celebrates wins with me. So motivating!",author:"Tanya G.",role:"Marketing Consultant",achievement:"Launched 2 new client projects without burnout",image:"https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-1.2.1&auto=format&fit=crop&w=2100&q=80"},{id:6,quote:"For someone who used to struggle with routines, this tool made it feel natural. The AI helped me build solid habits and actually stick to them without pressure.",author:"Ryan P.",role:"Content Creator",achievement:"Built a daily routine that finally sticks",image:"https://images.unsplash.com/photo-1520975911483-6ca0c91bff1f?ixlib=rb-1.2.1&auto=format&fit=crop&w=2100&q=80"},{id:7,quote:"This AI is like a mirror that keeps me honest. Ive never had this level of self-awareness and goal clarity before.",author:"Isabella M.",role:"Leadership Coach",achievement:"Improved client engagement and doubled program signups",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=2100&q=80"},{id:8,quote:"I'm managing my time better, sleeping better, and feeling more focused each day. This AI coach helped me rewire how I think about time and progress.",author:"Caleb L.",role:"Grad Student",achievement:"Balanced full-time study and part-time work with ease",image:"https://images.unsplash.com/photo-1607746882042-944635dfe10e?ixlib=rb-1.2.1&auto=format&fit=crop&w=2100&q=80"}],[e,n]=_.useState(0),[i,a]=_.useState(0);_.useEffect(()=>{const g=setInterval(()=>{l()},8e3);return()=>clearInterval(g)},[e]);const l=()=>{a(1),n(g=>g+1===t.length?0:g+1)},c=()=>{a(-1),n(g=>g-1<0?t.length-1:g-1)},h=g=>{a(g>e?1:-1),n(g)},f={hiddenRight:{x:"100%",opacity:0},hiddenLeft:{x:"-100%",opacity:0},visible:{x:"0",opacity:1,transition:{duration:.5,ease:"easeInOut"}},exit:{x:i===1?"-100%":"100%",opacity:0,transition:{duration:.5,ease:"easeInOut"}}};return d.jsxs("section",{id:"testimonials",className:"relative bg-gray-900 py-24 sm:py-32 overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 -z-10",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900/20 via-purple-900/10 to-gray-900"}),d.jsx("div",{className:"absolute left-1/2 top-0 h-[500px] w-[500px] -translate-x-1/2 rounded-full bg-indigo-900/10 blur-3xl"})]}),d.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[d.jsxs(pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"mx-auto max-w-3xl text-center",children:[d.jsxs("span",{className:"inline-flex items-center rounded-full bg-indigo-500/10 px-4 py-1 text-sm font-medium text-indigo-400 ring-1 ring-inset ring-indigo-500/20 mb-4",children:[d.jsx("span",{className:"h-2 w-2 rounded-full bg-indigo-400 mr-2 animate-pulse"}),"Client Testimonials"]}),d.jsxs("h2",{className:"text-3xl font-bold tracking-tight text-white sm:text-4xl",children:["Trusted by ",d.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400",children:"visionaries"})]}),d.jsx("p",{className:"mt-4 text-lg leading-8 text-gray-300",children:"Hear from those who've transformed their productivity with our AI coaching"})]}),d.jsxs("div",{className:"relative mt-16",children:[d.jsx("div",{className:"relative h-[400px] w-full overflow-hidden rounded-2xl",children:d.jsx(Ek,{mode:"wait",custom:i,children:d.jsx(pe.div,{custom:i,variants:f,initial:i===1?"hiddenRight":"hiddenLeft",animate:"visible",exit:"exit",className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"relative h-full w-full max-w-4xl",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800 to-gray-900/80 rounded-2xl"}),d.jsx("img",{src:t[e].image,alt:"",className:"absolute inset-0 h-full w-full object-cover rounded-2xl opacity-30"}),d.jsxs("div",{className:"relative h-full flex flex-col justify-center p-12 sm:p-16 lg:p-20",children:[d.jsx("blockquote",{className:"text-xl leading-8 text-white sm:text-2xl sm:leading-9",children:d.jsx("p",{className:"relative before:content-[''] before:absolute before:-left-4 before:-top-2 before:text-4xl before:text-indigo-400 before:opacity-50 before:font-serif",children:t[e].quote})}),d.jsx("figcaption",{className:"mt-8",children:d.jsxs("div",{className:"flex items-center gap-x-4",children:[d.jsx("img",{src:t[e].image,alt:t[e].author,className:"h-12 w-12 rounded-full object-cover ring-2 ring-indigo-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-white",children:t[e].author}),d.jsx("div",{className:"text-gray-400",children:t[e].role}),d.jsx("div",{className:"mt-1 text-sm text-indigo-400",children:t[e].achievement})]})]})})]})]})},e)})}),d.jsx("button",{onClick:c,className:"absolute left-4 top-1/2 -translate-y-1/2 rounded-full bg-gray-800/50 p-2 text-white shadow-lg hover:bg-gray-700/70 focus:outline-none focus:ring-2 focus:ring-indigo-500 z-10","aria-label":"Previous testimonial",children:d.jsx(JD,{className:"h-6 w-6"})}),d.jsx("button",{onClick:l,className:"absolute right-4 top-1/2 -translate-y-1/2 rounded-full bg-gray-800/50 p-2 text-white shadow-lg hover:bg-gray-700/70 focus:outline-none focus:ring-2 focus:ring-indigo-500 z-10","aria-label":"Next testimonial",children:d.jsx(tk,{className:"h-6 w-6"})}),d.jsx("div",{className:"mt-8 flex justify-center gap-2",children:t.map((g,y)=>d.jsx("button",{onClick:()=>h(y),className:`h-2 w-8 rounded-full transition-all ${y===e?"bg-indigo-500":"bg-gray-600 hover:bg-gray-500"}`,"aria-label":`Go to testimonial ${y+1}`},y))})]})]})]})}const hz=[{name:"Starter",id:"tier-starter",href:"/register",priceMonthly:"$19",description:"Perfect for beginners building their first habits",features:["Daily habit reminders","3 active goals at a time","Basic progress analytics","Standard support (48h response)","Mobile app access"],featured:!1},{name:"Pro",id:"tier-pro",href:"/register",priceMonthly:"$49",description:"For serious goal achievers needing advanced tools",features:["Unlimited goals & habits","AI-generated goal plans","Advanced analytics dashboard","Priority support (24h response)","Weekly progress reports","Voice check-in support","Accountability partner matching"],featured:!0},{name:"Team",id:"tier-team",href:"/register",priceMonthly:"$99",description:"For groups and organizations",features:["Everything in Pro","Up to 5 team members","Team progress tracking","Admin dashboard","Dedicated success manager","Custom reporting","API access"],featured:!1}];function fz(){return d.jsxs("div",{id:"pricing",className:"relative isolate bg-white px-6 py-24 sm:py-32 lg:px-8",children:[d.jsx("div",{className:"absolute inset-x-0 -top-3 -z-10 transform-gpu overflow-hidden px-36 blur-3xl","aria-hidden":"true",children:d.jsx("div",{className:"mx-auto aspect-[1155/678] w-[72.1875rem] bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30",style:{clipPath:"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"}})}),d.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[d.jsxs(pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"mx-auto max-w-4xl text-center",children:[d.jsxs("div",{className:"inline-flex items-center rounded-full bg-indigo-50 px-4 py-1.5 text-sm font-medium text-indigo-700 mb-6",children:[d.jsx("span",{className:"h-2 w-2 rounded-full bg-indigo-500 mr-2 animate-pulse"}),"Pricing"]}),d.jsxs("h1",{className:"mt-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:["Plans that grow with your ",d.jsx("span",{className:"text-indigo-600",children:"ambition"})]}),d.jsx("p",{className:"mt-6 text-lg leading-8 text-gray-600",children:"Whether you're building your first habit or leading a team, we have the right tools for you."})]}),d.jsx(pe.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"mx-auto mt-16 grid max-w-md grid-cols-1 gap-8 lg:max-w-7xl lg:grid-cols-3",children:hz.map(t=>d.jsxs(pe.div,{whileHover:{y:-5},className:`
                                flex flex-col justify-between rounded-3xl p-8 shadow-lg ring-1 ring-gray-200
                                ${t.featured?"bg-gray-900 text-white":"bg-white text-gray-900"}
                            `,children:[d.jsxs("div",{children:[t.featured&&d.jsx("div",{className:"flex items-center gap-x-2 mb-4",children:d.jsxs("span",{className:"inline-flex items-center rounded-full bg-indigo-500/10 px-3 py-1 text-sm font-medium text-indigo-400",children:[d.jsx(UF,{className:"h-4 w-4 mr-1"}),"Most popular"]})}),d.jsx("h3",{className:"text-2xl font-bold",children:t.name}),d.jsx("p",{className:"mt-4 text-sm",children:t.description}),d.jsxs("div",{className:"mt-6 flex items-baseline gap-x-2",children:[d.jsx("span",{className:`text-5xl font-bold ${t.featured?"text-white":"text-gray-900"}`,children:t.priceMonthly}),d.jsx("span",{className:`text-sm font-semibold ${t.featured?"text-gray-300":"text-gray-600"}`,children:"/month"})]}),d.jsx("ul",{role:"list",className:"mt-8 space-y-3",children:t.features.map(e=>d.jsxs("li",{className:"flex items-start",children:[d.jsx(MF,{className:`h-5 w-5 flex-shrink-0 mt-0.5 mr-3 ${t.featured?"text-indigo-400":"text-indigo-600"}`,"aria-hidden":"true"}),d.jsx("span",{className:"text-sm",children:e})]},e))})]}),d.jsx(pe.div,{whileHover:{scale:1.03},whileTap:{scale:.98},className:"mt-10",children:d.jsx(Et,{to:t.href,className:`
                                        block rounded-md px-3 py-2.5 text-center text-sm font-semibold leading-6 transition-all
                                        ${t.featured?"bg-indigo-500 text-white shadow-sm hover:bg-indigo-400":"bg-white text-indigo-600 shadow-sm ring-1 ring-inset ring-indigo-200 hover:ring-indigo-300"}
                                    `,children:"Get started"})})]},t.id))}),d.jsx(pe.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"mt-16 flex justify-center",children:d.jsx("div",{className:"mx-auto w-full max-w-3xl",children:d.jsxs(pe.div,{className:"relative isolate overflow-hidden rounded-3xl bg-gradient-to-br from-indigo-900 to-indigo-950 p-8 sm:p-10 text-center shadow-2xl",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},viewport:{once:!0,margin:"-100px"},children:[d.jsx("div",{className:"absolute -right-20 -top-20 h-80 w-80 rounded-full bg-indigo-800/20 blur-[100px]"}),d.jsx("div",{className:"absolute -left-20 -bottom-20 h-80 w-80 rounded-full bg-indigo-700/20 blur-[100px]"}),d.jsx("div",{className:"absolute right-10 top-6 h-3 w-3 rounded-full bg-white/80 animate-pulse"}),d.jsx("div",{className:"absolute left-8 bottom-8 h-2 w-2 rounded-full bg-indigo-300/70 animate-pulse delay-300"}),d.jsxs("div",{className:"relative z-10",children:[d.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-indigo-700/30 backdrop-blur-sm",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-8 w-8 text-white",children:[d.jsx("path",{d:"M18 8h1a4 4 0 010 8h-1M2 8h16v9a4 4 0 01-4 4H6a4 4 0 01-4-4V8z"}),d.jsx("line",{x1:"6",y1:"1",x2:"6",y2:"4"}),d.jsx("line",{x1:"10",y1:"1",x2:"10",y2:"4"}),d.jsx("line",{x1:"14",y1:"1",x2:"14",y2:"4"})]})}),d.jsx("h3",{className:"mt-6 text-2xl font-bold text-white sm:text-3xl",children:"Enterprise Solutions"}),d.jsx("p",{className:"mx-auto mt-3 max-w-2xl text-lg text-indigo-100",children:"Custom plans for organizations with specialized needs and larger teams."}),d.jsx(pe.div,{className:"mt-8",whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs("a",{href:"#contact",className:"inline-flex items-center justify-center gap-2 rounded-xl bg-white px-6 py-3.5 text-sm font-semibold text-indigo-900 shadow-md ring-1 ring-white/20 hover:bg-indigo-50 hover:shadow-lg transition-all duration-300",children:[d.jsx("span",{children:"Request Custom Quote"}),d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5",children:d.jsx("path",{fillRule:"evenodd",d:"M5.22 14.78a.75.75 0 001.06 0l7.22-7.22v5.69a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75h-7.5a.75.75 0 000 1.5h5.69l-7.22 7.22a.75.75 0 000 1.06z",clipRule:"evenodd"})})]})})]})]})})})]})]})}function mz(){return d.jsxs("div",{id:"contact",className:"relative isolate bg-gray-900",children:[d.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[d.jsxs("svg",{className:"absolute inset-0 h-full w-full stroke-gray-800 [mask-image:radial-gradient(100%_100%_at_top_right,white,transparent)]","aria-hidden":"true",children:[d.jsx("defs",{children:d.jsx("pattern",{id:"pattern",width:200,height:200,x:"50%",y:-1,patternUnits:"userSpaceOnUse",children:d.jsx("path",{d:"M100 200V.5M.5 .5H200",fill:"none"})})}),d.jsx("rect",{width:"100%",height:"100%",strokeWidth:0,fill:"url(#pattern)"})]}),d.jsx("div",{className:"absolute left-1/2 top-0 -z-10 -translate-x-1/2 transform-gpu blur-3xl","aria-hidden":"true",children:d.jsx("div",{className:"aspect-[1155/678] w-[72.1875rem] bg-gradient-to-br from-[#80caff] to-[#4f46e5] opacity-20",style:{clipPath:"polygon(74.1% 56.1%, 100% 38.6%, 97.5% 73.3%, 85.5% 100%, 80.7% 98.2%, 72.5% 67.7%, 60.2% 37.8%, 52.4% 32.2%, 47.5% 41.9%, 45.2% 65.8%, 27.5% 23.5%, 0.1% 35.4%, 17.9% 0.1%, 27.6% 23.5%, 76.1% 2.6%, 74.1% 56.1%)"}})})]}),d.jsxs("div",{className:"mx-auto grid max-w-7xl grid-cols-1 lg:grid-cols-2",children:[d.jsx(pe.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"px-6 pt-24 pb-20 sm:pt-32 lg:static lg:px-8 lg:py-48",children:d.jsxs("div",{className:"mx-auto max-w-xl lg:mx-0 lg:max-w-lg",children:[d.jsxs(pe.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2},className:"inline-flex items-center rounded-full bg-indigo-100 px-4 py-1.5 text-sm font-medium text-indigo-700 mb-6",children:[d.jsx("span",{className:"h-2 w-2 rounded-full bg-indigo-500 mr-2 animate-pulse"}),"Contact Us"]}),d.jsx(pe.h2,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{delay:.3},className:"text-4xl font-bold tracking-tight text-white sm:text-5xl",children:"Get in touch"}),d.jsx(pe.p,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.4},className:"mt-6 text-lg leading-8 text-gray-300",children:"Have questions or want to discuss a project? Reach out to our team and we'll get back to you as soon as possible."}),d.jsxs(pe.dl,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.5},className:"mt-10 space-y-4 text-base leading-7 text-gray-300",children:[d.jsx(f0,{icon:d.jsx(YD,{className:"h-6 w-6 text-gray-400"}),label:"Address",info:d.jsxs(d.Fragment,{children:["545 Mavis Island",d.jsx("br",{}),"Chicago, IL 99191"]})}),d.jsx(f0,{icon:d.jsx(uk,{className:"h-6 w-6 text-gray-400"}),label:"Telephone",info:d.jsx("a",{href:"tel:+1 (555) 234-5678",className:"hover:text-white",children:"+1 (555) 234-5678"})}),d.jsx(f0,{icon:d.jsx(uS,{className:"h-6 w-6 text-gray-400"}),label:"Email",info:d.jsx("a",{href:"mailto:hello@example.com",className:"hover:text-white",children:"hello@example.com"})})]})]})}),d.jsx(pe.form,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},action:"#",method:"POST",className:"px-6 pt-20 pb-24 sm:pb-32 lg:px-8 lg:py-48",children:d.jsxs("div",{className:"mx-auto max-w-xl lg:mr-0 lg:max-w-lg",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2",children:[d.jsx(Uh,{id:"first-name",name:"first-name",label:"First name",type:"text",autoComplete:"given-name"}),d.jsx(Uh,{id:"last-name",name:"last-name",label:"Last name",type:"text",autoComplete:"family-name"}),d.jsx(Uh,{id:"email",name:"email",label:"Email",type:"email",autoComplete:"email",fullWidth:!0}),d.jsx(Uh,{id:"phone-number",name:"phone-number",label:"Phone number",type:"tel",autoComplete:"tel",fullWidth:!0}),d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold leading-6 text-white",children:"Message"}),d.jsx("div",{className:"mt-2.5",children:d.jsx("textarea",{id:"message",name:"message",rows:4,className:"block w-full rounded-md bg-white/5 border-0 px-3.5 py-2 text-white shadow-sm ring-1 ring-inset ring-white/10 placeholder:text-gray-500 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6",defaultValue:""})})]})]}),d.jsx("div",{className:"mt-8 flex justify-end",children:d.jsx(pe.button,{whileHover:{scale:1.03},whileTap:{scale:.98},type:"submit",className:"rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Send message"})})]})})]})]})}function f0({icon:t,label:e,info:n}){return d.jsxs("div",{className:"flex gap-x-4",children:[d.jsxs("dt",{className:"flex-none",children:[d.jsx("span",{className:"sr-only",children:e}),t]}),d.jsx("dd",{children:n})]})}function Uh({id:t,name:e,label:n,type:i,autoComplete:a,fullWidth:l=!1}){return d.jsxs("div",{className:l?"sm:col-span-2":"",children:[d.jsx("label",{htmlFor:t,className:"block text-sm font-semibold leading-6 text-white",children:n}),d.jsx("div",{className:"mt-2.5",children:d.jsx("input",{id:t,name:e,type:i,autoComplete:a,className:"block w-full rounded-md bg-white/5 border-0 px-3.5 py-2 text-white shadow-sm ring-1 ring-inset ring-white/10 placeholder:text-gray-500 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"})})]})}function pz(){return d.jsxs("section",{className:"bg-white relative overflow-hidden",children:[d.jsx("div",{className:"absolute -top-32 left-1/2 -z-10 -translate-x-1/2 transform-gpu blur-3xl",children:d.jsx("div",{className:"aspect-[1155/678] w-[72.1875rem] bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 ",style:{clipPath:"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"}})}),d.jsx("div",{className:"mx-auto max-w-7xl py-24 sm:px-6 sm:py-32 lg:px-8",children:d.jsxs(pe.div,{className:"relative isolate overflow-hidden bg-gradient-to-br from-indigo-900 to-purple-900 px-6 pt-16 shadow-2xl sm:rounded-3xl sm:px-16 md:pt-24 lg:flex lg:gap-x-20 lg:px-24 lg:pt-0",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.9,ease:"easeOut"},viewport:{once:!0},children:[d.jsx("div",{className:"absolute -top-20 -left-20 h-64 w-64 rounded-full bg-indigo-500/20 blur-3xl"}),d.jsx("div",{className:"absolute -bottom-20 -right-20 h-64 w-64 rounded-full bg-purple-500/20 blur-3xl"}),d.jsxs("div",{className:"mx-auto max-w-md lg:mx-0 lg:flex-auto lg:py-32",children:[d.jsxs(pe.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2},className:"inline-flex items-center rounded-full bg-indigo-500/10 px-4 py-1 text-sm font-medium text-indigo-300 ring-1 ring-inset ring-indigo-500/20 mb-6",children:[d.jsx("span",{className:"h-2 w-2 rounded-full bg-indigo-400 mr-2 animate-pulse"}),"Transform Your Productivity"]}),d.jsxs(pe.h2,{className:"text-3xl sm:text-4xl font-bold tracking-tight text-white mb-6 text-left",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},children:[d.jsx("span",{className:"bg-gradient-to-r from-indigo-300 to-white bg-clip-text text-transparent",children:"AI-Powered"})," Accountability Coaching"]}),d.jsx(pe.p,{className:"text-lg text-gray-300 mb-8 max-w-lg text-left",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.5,duration:.8},children:"Get personalized guidance, smart reminders, and data-driven insights to help you achieve your goals faster than ever before."}),d.jsxs(pe.div,{className:"flex items-center gap-x-6 lg:justify-start",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.7,duration:.8},children:[d.jsx(pe.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:d.jsx(Et,{to:"/register",className:"rounded-md bg-gradient-to-r from-indigo-500 to-purple-600 px-6 py-3.5 text-sm font-semibold text-white shadow-lg hover:from-indigo-600 hover:to-purple-700 transition-all",children:"Start Your Free Trial"})}),d.jsxs("a",{href:"#how-it-works",className:"flex items-center text-sm font-semibold text-white hover:text-indigo-200 transition-colors",children:["See How It Works",d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5 ml-1",children:d.jsx("path",{fillRule:"evenodd",d:"M5.22 14.78a.75.75 0 001.06 0l7.22-7.22v5.69a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75h-7.5a.75.75 0 000 1.5h5.69l-7.22 7.22a.75.75 0 000 1.06z",clipRule:"evenodd"})})]})]})]}),d.jsxs(pe.div,{className:"relative mt-16 h-80 lg:mt-8 lg:h-[28rem]",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{delay:.9,duration:.9},children:[d.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-br from-white/10 via-transparent to-transparent rounded-xl"}),d.jsx("img",{className:"object-cover w-full h-full",src:"https://img.freepik.com/free-photo/happy-delighted-afro-girl-clenches-fists-feels-triumph-rejoices-victory-keeps-eyes-shut-smiles-broadly-wears-white-t-shirt-stands-indoor_273609-33297.jpg?uid=R15707722&ga=GA1.1.2138330038.1725127456&semt=ais_hybrid&w=740",alt:"App preview"}),d.jsx(pe.div,{className:"absolute -bottom-8 -left-8 bg-white p-4 rounded-xl shadow-lg border border-gray-200",initial:{y:20,opacity:0},whileInView:{y:0,opacity:1},transition:{delay:.8},viewport:{once:!0},children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 rounded-lg bg-indigo-50 p-2",children:d.jsx(Zf,{className:"h-5 w-5 text-indigo-600"})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Weekly progress"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"+28%"})]})]})})]})]})})]})}const gz=()=>d.jsxs("main",{className:"space-y-20 md:space-y-28 lg:space-y-32",children:[d.jsx(BF,{}),d.jsx(sz,{}),d.jsx(oz,{}),d.jsx(lz,{}),d.jsx(uz,{}),d.jsx(dz,{}),d.jsx(fz,{}),d.jsx(mz,{}),d.jsx(pz,{})]});function yz(){const[t,e]=_.useState(!1),[n,i]=_.useState(!1),[a,l]=_.useState(""),[c,h]=_.useState(!1),[f,g]=_.useState(""),[y,b]=_.useState(()=>{const R=localStorage.getItem("signInFormData");return R?JSON.parse(R):{email:"",password:"",rememberMe:!1}}),w=or();_.useEffect(()=>{y.rememberMe?localStorage.setItem("signInFormData",JSON.stringify(y)):localStorage.removeItem("signInFormData")},[y]);const S=R=>{const{name:B,value:F,type:te,checked:W}=R.target;b(re=>({...re,[B]:te==="checkbox"?W:F}))},A=async R=>{R.preventDefault(),h(!0),l(""),g("");try{const B=await OL(an,y.email,y.password);console.log("Signed in user:",B.user),w("/app")}catch(B){console.error("Login error:",B);let F="Login failed. Please try again.";switch(B.code){case"auth/user-not-found":F="No account found with this email.";break;case"auth/wrong-password":F="Incorrect password. Please try again.";break;case"auth/too-many-requests":F="Too many attempts. Try again later or reset your password.";break;case"auth/user-disabled":F="This account has been disabled.";break}l(F)}finally{h(!1)}},P=async R=>{h(!0),l(""),g("");try{const F=(await IN(an,R)).user,te=Tn(yt,"users",F.uid);(await id(te)).exists()||await vy(te,{uid:F.uid,email:F.email,displayName:F.displayName,photoURL:F.photoURL||"",provider:R.providerId,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),w("/app")}catch(B){console.error("Social login error:",B),l("Social login failed. Try again.")}finally{h(!1)}},k=async()=>{if(!y.email){l("Enter your email to reset your password.");return}h(!0),l(""),g("");try{await ML(an,y.email),g("Password reset email sent. Check your inbox.")}catch(R){console.error("Reset error:",R),l("Error sending reset email. Try again.")}finally{h(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-md",children:[d.jsxs("div",{className:"text-center pb-6",children:[d.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:n?"Reset your password":"Sign in to your account"}),!n&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",d.jsx(Et,{to:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"create a new account"})]})]}),a&&d.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-md text-sm",children:a}),f&&d.jsx("div",{className:"mb-4 p-3 bg-green-50 text-green-700 rounded-md text-sm",children:f}),n?d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(_y,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:y.email,onChange:S,className:"py-2 pl-10 block w-full border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"you@example.com"})]})]}),d.jsx("button",{type:"submit",className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${c?"opacity-70 cursor-not-allowed":""}`,disabled:c,children:c?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Reset Password"}),d.jsx("p",{className:"text-center mt-2 text-sm",children:d.jsx("button",{type:"button",onClick:()=>{i(!1),l(""),g("")},className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Back to Sign In"})})]}):d.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(_y,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:y.email,onChange:S,className:"py-2 pl-10 block w-full border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"you@example.com"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(wy,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{id:"password",name:"password",type:t?"text":"password",autoComplete:"current-password",required:!0,value:y.password,onChange:S,className:"py-2 pl-10 block w-full border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:""}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>e(!t),children:t?d.jsx(xy,{className:"h-5 w-5 text-gray-400"}):d.jsx(by,{className:"h-5 w-5 text-gray-400"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:y.rememberMe,onChange:S,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),d.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),d.jsx("div",{className:"text-sm",children:d.jsx("button",{type:"button",onClick:()=>i(!0),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot password?"})})]}),d.jsx("button",{type:"submit",className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${c?"opacity-70 cursor-not-allowed":""}`,disabled:c,children:c?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})]}),!n&&d.jsxs("div",{className:"mt-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),d.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>P(OR),disabled:c,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]}),d.jsxs("button",{onClick:()=>P(VR),disabled:c,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",fill:"#1877F2"})}),"Facebook"]})]})]})]})})}function vz(){const[t,e]=_.useState(!1),[n,i]=_.useState(!1),[a,l]=_.useState(""),[c,h]=_.useState(!1),[f,g]=_.useState(()=>{const R=localStorage.getItem("registrationFormData");return R?JSON.parse(R):{firstName:"",lastName:"",email:"",password:"",confirmPassword:"",plan:"",acceptTerms:!1}}),y=or(),b=TR();_.useEffect(()=>{localStorage.setItem("registrationFormData",JSON.stringify(f))},[f]);const w=R=>{const{name:B,value:F,type:te,checked:W}=R.target;g(re=>({...re,[B]:te==="checkbox"?W:F}))},S=()=>!f.firstName||!f.lastName?(l("Please enter your full name"),!1):f.email.includes("@")?f.password.length<8?(l("Password must be at least 8 characters"),!1):f.password!==f.confirmPassword?(l("Passwords do not match"),!1):f.plan?f.acceptTerms?(l(""),!0):(l("You must accept the terms and conditions"),!1):(l("Please select a pricing plan"),!1):(l("Please enter a valid email address"),!1),A=async R=>{try{await LL(R,{displayName:`${f.firstName} ${f.lastName}`});const B=Tn(b,"users",R.uid);await vy(B,{uid:R.uid,firstName:f.firstName,lastName:f.lastName,email:f.email,plan:f.plan,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),localStorage.removeItem("registrationFormData")}catch(B){throw console.error("Error saving user data:",B),B}},P=async R=>{if(R.preventDefault(),!!S()){h(!0),l("");try{const B=await PL(an,f.email,f.password);await A(B.user),y("/app")}catch(B){console.error("Registration error:",B),l(B.message||"Registration failed. Please try again.")}finally{h(!1)}}},k=async R=>{h(!0),l("");try{const B=await IN(an,R),F=Tn(b,"users",B.user.uid);await vy(F,{uid:B.user.uid,email:B.user.email,displayName:B.user.displayName,photoURL:B.user.photoURL,provider:R.providerId,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),y("/app")}catch(B){console.error("Social signup error:",B),l(B.message||"Social signup failed. Please try again.")}finally{h(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-md",children:[d.jsxs("div",{className:"text-center pb-6",children:[d.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Create an account"}),d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Already have an account?"," ",d.jsx(Et,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in"})]})]}),a&&d.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-md text-sm",children:a}),d.jsxs("form",{onSubmit:P,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(gT,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:f.firstName,onChange:w,className:"py-2 pl-10 block w-full border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"John"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(gT,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:f.lastName,onChange:w,className:"py-2 pl-10 block w-full border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Doe"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(_y,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:f.email,onChange:w,className:"py-2 pl-10 block w-full border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"you@example.com"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(wy,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:f.password,onChange:w,className:"py-2 pl-10 block w-full border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:""}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>e(!t),children:t?d.jsx(xy,{className:"h-5 w-5 text-gray-400"}):d.jsx(by,{className:"h-5 w-5 text-gray-400"})})]}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(wy,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:n?"text":"password",required:!0,value:f.confirmPassword,onChange:w,className:"py-2 pl-10 block w-full border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:""}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>i(!n),children:n?d.jsx(xy,{className:"h-5 w-5 text-gray-400"}):d.jsx(by,{className:"h-5 w-5 text-gray-400"})})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"plan",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Plan"}),d.jsxs("select",{name:"plan",id:"plan",value:f.plan,onChange:w,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0,children:[d.jsx("option",{value:"",children:"-- Choose a plan --"}),d.jsx("option",{value:"starter",children:"Starter - $19/mo"}),d.jsx("option",{value:"pro",children:"Pro - $49/mo"}),d.jsx("option",{value:"team",children:"Team - $99/mo"})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5",children:d.jsx("input",{id:"acceptTerms",name:"acceptTerms",type:"checkbox",required:!0,checked:f.acceptTerms,onChange:w,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),d.jsx("div",{className:"ml-3 text-sm",children:d.jsxs("label",{htmlFor:"acceptTerms",className:"font-medium text-gray-700",children:["I agree to the"," ",d.jsx(Et,{to:"/terms",className:"text-indigo-600 hover:text-indigo-500",children:"Terms & Conditions"})]})})]}),d.jsx("button",{type:"submit",className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${c?"opacity-70 cursor-not-allowed":""}`,disabled:c,children:c?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create Account"})]}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),d.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>k(OR),disabled:c,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]}),d.jsxs("button",{onClick:()=>k(VR),disabled:c,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",fill:"#1877F2"})}),"Facebook"]})]})]})]})})}function UR({value:t,color:e="indigo"}){const n={indigo:"bg-indigo-600",blue:"bg-blue-600",purple:"bg-purple-600",pink:"bg-pink-600",green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"};return d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:d.jsx("div",{className:`${n[e]} h-2.5 rounded-full`,style:{width:`${t}%`}})})}var BR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yT=Ee.createContext&&Ee.createContext(BR),xz=["attr","size","title"];function bz(t,e){if(t==null)return{};var n=wz(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function wz(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lf.apply(this,arguments)}function vT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(n),!0).forEach(function(i){_z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _z(t,e,n){return e=Ez(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ez(t){var e=Tz(t,"string");return typeof e=="symbol"?e:e+""}function Tz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FR(t){return t&&t.map((e,n)=>Ee.createElement(e.tag,Uf({key:n},e.attr),FR(e.child)))}function Sn(t){return e=>Ee.createElement(Sz,Lf({attr:Uf({},t.attr)},e),FR(t.child))}function Sz(t){var e=n=>{var{attr:i,size:a,title:l}=t,c=bz(t,xz),h=a||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Ee.createElement("svg",Lf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:f,style:Uf(Uf({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&Ee.createElement("title",null,l),t.children)};return yT!==void 0?Ee.createElement(yT.Consumer,null,n=>e(n)):e(BR)}function m0(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function xT(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function Bf(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function p0(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function bT(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function wT(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function Ey(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function Az(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(t)}function Nz(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function Cz(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function Ty(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function Rz(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function g0(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(t)}function zR(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function HR(t){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function jz(){const[t,e]=_.useState({firstName:"",streak:0}),[n,i]=_.useState([]),[a,l]=_.useState([]),[c,h]=_.useState(0),[f,g]=_.useState(0),[y,b]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const P=an.currentUser;if(P){const k=await id(Tn(yt,"users",P.uid));k.exists()&&e({firstName:k.data().firstName||"User",streak:k.data().streak||0});const R=new Date,B=Hs(Ci(yt,"appointments"),qr("userId","==",P.uid),qr("date",">=",R),Vf("date","asc"),dT(3)),te=(await qs(B)).docs.map(L=>({id:L.id,...L.data(),date:L.data().date.toDate()}));i(te);const W=Hs(Ci(yt,"goals"),qr("userId","==",P.uid),Vf("createdAt","desc"),dT(3)),D=(await qs(W)).docs.map(L=>({id:L.id,...L.data(),createdAt:L.data().createdAt.toDate()}));l(D);const C=D.filter(L=>L.completed).length;g(D.length>0?Math.round(C/D.length*100):0);const j=Hs(Ci(yt,"journalEntries"),qr("userId","==",P.uid)),M=await qs(j);h(M.size)}}catch(P){console.error("Error fetching dashboard data:",P)}finally{b(!1)}})()},[]);const w=A=>A.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),S=()=>{const A=new Date().getHours();return A<12?"Good morning":A<18?"Good afternoon":"Good evening"};return y?d.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):d.jsxs("div",{className:"py-6 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[S(),", ",t.firstName,"!"]}),d.jsx("p",{className:"mt-2 text-gray-600",children:"Here's your personalized coaching overview"})]}),d.jsxs("div",{className:"flex items-center bg-gradient-to-r from-indigo-100 to-purple-100 px-4 py-2 rounded-full",children:[d.jsx("span",{className:"text-xl mr-2",children:""}),d.jsxs("span",{className:"font-medium",children:[t.streak,"-day streak"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[d.jsx(Bh,{title:"Goal Completion",value:`${f}%`,icon:d.jsx(g0,{className:"w-5 h-5"}),color:"indigo",progress:f}),d.jsx(Bh,{title:"Active Goals",value:a.length,icon:d.jsx(g0,{className:"w-5 h-5"}),color:"blue"}),d.jsx(Bh,{title:"Upcoming Sessions",value:n.length,icon:d.jsx(Bf,{className:"w-5 h-5"}),color:"purple"}),d.jsx(Bh,{title:"Journal Entries",value:c,icon:d.jsx(xT,{className:"w-5 h-5"}),color:"pink"})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[d.jsx(Fh,{icon:d.jsx(g0,{className:"w-6 h-6"}),title:"Set Goal",to:"/app/goals/create",color:"indigo"}),d.jsx(Fh,{icon:d.jsx(Bf,{className:"w-6 h-6"}),title:"Schedule",to:"/app/appointments",color:"blue"}),d.jsx(Fh,{icon:d.jsx(Cz,{className:"w-6 h-6"}),title:"AI Coach",to:"/app/coach",color:"purple"}),d.jsx(Fh,{icon:d.jsx(xT,{className:"w-6 h-6"}),title:"Journal",to:"/app/journal",color:"pink"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Sessions"}),d.jsxs(Et,{to:"/app/appointments",className:"text-sm font-medium text-indigo-600 hover:text-indigo-800 flex items-center",children:["View all ",d.jsx(bT,{className:"ml-1"})]})]}),d.jsx("div",{className:"divide-y divide-gray-100",children:n.length>0?n.map(A=>d.jsx(Et,{to:`/app/appointments/${A.id}`,className:"block px-6 py-4 hover:bg-gray-50 transition-colors",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:A.title}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:w(A.date)})]}),d.jsx("div",{className:"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:A.type||"Check-in"})]})},A.id)):d.jsxs("div",{className:"px-6 py-8 text-center",children:[d.jsx("p",{className:"text-gray-500 mb-3",children:"No upcoming sessions scheduled"}),d.jsx(Et,{to:"/app/appointments/schedule",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Schedule Session"})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Goals"}),d.jsxs(Et,{to:"/app/goals",className:"text-sm font-medium text-indigo-600 hover:text-indigo-800 flex items-center",children:["View all ",d.jsx(bT,{className:"ml-1"})]})]}),d.jsx("div",{className:"divide-y divide-gray-100",children:a.length>0?a.map(A=>{var P;return d.jsx(Et,{to:`/app/goals/${A.id}`,className:"block px-6 py-4 hover:bg-gray-50 transition-colors",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:`mt-1 flex-shrink-0 h-3 w-3 rounded-full ${A.completed?"bg-green-500":"bg-yellow-500"}`}),d.jsxs("div",{className:"ml-4 flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"font-medium text-gray-900",children:A.title}),d.jsx("span",{className:"text-xs text-gray-500",children:A.createdAt.toLocaleDateString()})]}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:A.completed?"Completed":`Target: ${new Date(((P=A.targetDate)==null?void 0:P.seconds)*1e3).toLocaleDateString()}`}),!A.completed&&d.jsx("div",{className:"mt-2",children:d.jsx(UR,{value:A.progress||0,color:A.progress>70?"green":A.progress>30?"yellow":"red"})})]})]})},A.id)}):d.jsxs("div",{className:"px-6 py-8 text-center",children:[d.jsx("p",{className:"text-gray-500 mb-3",children:"You haven't set any goals yet"}),d.jsx(Et,{to:"/app/goals/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Create Goal"})]})})]})]}),d.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 text-center text-white",children:[d.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Today's Motivation"}),d.jsx("blockquote",{className:"text-lg italic mb-4",children:'"Success is the sum of small efforts, repeated day in and day out."'}),d.jsx("p",{className:"text-indigo-100",children:"You're making progress every day!"})]})]})}function Bh({title:t,value:e,icon:n,color:i,progress:a}){const l={indigo:"bg-indigo-100 text-indigo-800",blue:"bg-blue-100 text-blue-800",purple:"bg-purple-100 text-purple-800",pink:"bg-pink-100 text-pink-800"};return d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:e})]}),d.jsx("div",{className:`p-3 rounded-lg ${l[i]}`,children:n})]}),a!==void 0&&d.jsx("div",{className:"mt-4",children:d.jsx(UR,{value:a,color:i})})]})}function Fh({icon:t,title:e,to:n,color:i}){const a={indigo:"bg-indigo-50 text-indigo-600 hover:bg-indigo-100",blue:"bg-blue-50 text-blue-600 hover:bg-blue-100",purple:"bg-purple-50 text-purple-600 hover:bg-purple-100",pink:"bg-pink-50 text-pink-600 hover:bg-pink-100"};return d.jsxs(Et,{to:n,className:`${a[i]} rounded-lg p-4 flex flex-col items-center transition-colors`,children:[d.jsx("div",{className:"p-3 rounded-full bg-white shadow-sm mb-2",children:t}),d.jsx("span",{className:"font-medium text-sm",children:e})]})}function Iz(){const[t,e]=_.useState([]),[n,i]=_.useState(!0),[a,l]=_.useState(null),[c,h]=_.useState("all"),f=or();_.useEffect(()=>{console.log("Starting auth state monitoring");const R=bN(an,B=>{B?(console.log("User authenticated, fetching goals"),g(B)):(console.log("No user is signed in"),i(!1),e([]))});return()=>R()},[f]);const g=async R=>{try{i(!0),l(null);const B=Hs(Ci(yt,"goals"),qr("userId","==",R.uid),Vf("createdAt","desc"));console.log("Executing Firestore query");const F=await qs(B);console.log(`Found ${F.docs.length} goals`);const te=F.docs.map(W=>{var D;const re=W.data();return{id:W.id,...re,dueDate:(D=re.dueDate)!=null&&D.toDate?re.dueDate.toDate():null,tasks:Array.isArray(re.tasks)?re.tasks:[]}});e(te)}catch(B){console.error("Error fetching goals:",B),l("Failed to load your goals. Please try again later.")}finally{i(!1)}},y=R=>{if(!R.tasks||R.tasks.length===0)return 0;const B=R.tasks.filter(F=>F.completed).length;return Math.round(B/R.tasks.length*100)},b=R=>{const B=y(R);return B>=100?"bg-green-500":R.dueDate&&new Date>R.dueDate?"bg-red-500":B>=70?"bg-green-500":B>=30?"bg-yellow-500":"bg-indigo-500"},w=R=>{h(R)},S=()=>{switch(c){case"active":return t.filter(R=>y(R)<100&&(!R.dueDate||new Date<=R.dueDate));case"completed":return t.filter(R=>y(R)>=100);case"overdue":return t.filter(R=>R.dueDate&&new Date>R.dueDate&&y(R)<100);default:return t}},P=(()=>{const R={};return t.forEach(B=>{B.category&&(R[B.category]=(R[B.category]||0)+1)}),R})(),k=()=>{const R=an.currentUser;R&&g(R)};return d.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"My Goals"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:k,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 p-2 rounded-md",disabled:n,children:d.jsx("svg",{className:`w-5 h-5 ${n?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),d.jsxs("button",{onClick:()=>f("/app/goals/create"),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create Goal"]})]})]}),d.jsxs("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2",children:[d.jsxs("button",{onClick:()=>w("all"),className:`px-4 py-2 rounded-md ${c==="all"?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700"}`,children:["All Goals (",t.length,")"]}),d.jsx("button",{onClick:()=>w("active"),className:`px-4 py-2 rounded-md ${c==="active"?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Active"}),d.jsx("button",{onClick:()=>w("completed"),className:`px-4 py-2 rounded-md ${c==="completed"?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Completed"}),d.jsx("button",{onClick:()=>w("overdue"),className:`px-4 py-2 rounded-md ${c==="overdue"?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Overdue"})]}),Object.keys(P).length>0&&d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 mb-6",children:Object.entries(P).map(([R,B])=>d.jsx("div",{className:"bg-white p-3 rounded-md shadow-sm",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm font-medium text-gray-600",children:R}),d.jsx("span",{className:"text-sm font-bold text-indigo-600",children:B})]})},R))}),a&&d.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"text-sm text-red-700",children:a}),d.jsx("button",{onClick:k,className:"mt-2 text-sm text-red-700 underline hover:text-red-900",children:"Try again"})]})]})}),n?d.jsx("div",{className:"flex justify-center items-center py-12",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):S().length===0?d.jsxs("div",{className:"bg-white rounded-xl shadow p-12 text-center",children:[d.jsx("div",{className:"text-5xl mb-4",children:""}),d.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No goals found"}),d.jsx("p",{className:"text-gray-600 mb-6",children:c==="all"?"You haven't created any goals yet.":`You don't have any ${c} goals.`}),c==="all"&&d.jsx("button",{onClick:()=>f("/app/goals/create"),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-md",children:"Create Your First Goal"})]}):d.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:S().map(R=>d.jsxs(Et,{to:`/app/goals/${R.id}`,className:"bg-white rounded-xl shadow hover:shadow-md transition-shadow p-6",children:[R.category&&d.jsx("div",{className:"inline-block px-3 py-1 mb-3 text-xs font-medium rounded-full bg-indigo-100 text-indigo-800",children:R.category}),d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:R.title}),R.priority&&d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                                        ${R.priority==="High"?"bg-red-100 text-red-800":R.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:R.priority})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`${b(R)} h-2 rounded-full`,style:{width:`${y(R)}%`}})}),d.jsxs("div",{className:"flex justify-between mt-1",children:[d.jsx("span",{className:"text-xs text-gray-500",children:"Progress"}),d.jsxs("span",{className:"text-xs font-medium",children:[y(R),"%"]})]})]}),R.dueDate&&d.jsx("div",{className:"text-sm text-gray-600",children:new Date>R.dueDate?d.jsxs("span",{className:"text-red-600",children:["Due ",R.dueDate.toLocaleDateString()]}):d.jsxs("span",{children:["Due ",R.dueDate.toLocaleDateString()]})}),R.tasks&&R.tasks.length>0&&d.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[R.tasks.filter(B=>B.completed).length," of ",R.tasks.length," tasks completed"]})]},R.id))})]})}function Dz(){var ye,xe,X;const{goalId:t}=jT(),e=or(),[n,i]=_.useState(null),[a,l]=_.useState(!0),[c,h]=_.useState(null),[f,g]=_.useState(!1),[y,b]=_.useState({title:"",category:"other",priority:"Medium",description:"",dueDate:"",tasks:[],completed:!1}),[w,S]=_.useState(""),A=[{id:"health",name:"Health & Fitness",emoji:""},{id:"career",name:"Career & Work",emoji:""},{id:"education",name:"Education",emoji:""},{id:"finance",name:"Finance",emoji:""},{id:"personal",name:"Personal Growth",emoji:""},{id:"relationship",name:"Relationships",emoji:""},{id:"hobby",name:"Hobbies",emoji:""},{id:"spiritual",name:"Spiritual",emoji:""},{id:"other",name:"Other",emoji:""}],P=[{id:"Low",name:"Low",color:"bg-green-100 text-green-800"},{id:"Medium",name:"Medium",color:"bg-yellow-100 text-yellow-800"},{id:"High",name:"High",color:"bg-red-100 text-red-800"}];_.useEffect(()=>{(async()=>{try{if(!t)throw new Error("No goal ID provided");l(!0),h(null);const ne=Tn(yt,"goals",t),he=await id(ne);if(!he.exists())throw new Error("Goal not found");const O=he.data();let ee="";O.dueDate&&(ee=(O.dueDate.toDate?O.dueDate.toDate():O.dueDate).toISOString().split("T")[0]);const ue=Array.isArray(O.tasks)?O.tasks.map(ae=>({title:ae.title||ae.text||"",completed:ae.completed||!1})):[];i({id:he.id,...O,dueDate:O.dueDate,updatedAt:O.updatedAt}),b({title:O.title||"",category:A.some(ae=>ae.id===O.category)?O.category:"other",priority:P.some(ae=>ae.id===O.priority)?O.priority:"Medium",description:O.description||"",dueDate:ee,tasks:ue,completed:O.completed||!1})}catch(ne){console.error("Error fetching goal:",ne),h(ne.message||"Failed to load goal"),e("/app/goals")}finally{l(!1)}})()},[t,e]);const k=q=>{const{name:ne,value:he}=q.target;b(O=>({...O,[ne]:he}))},R=q=>{const{name:ne,checked:he}=q.target;b(O=>({...O,[ne]:he}))},B=q=>{const ne=[...y.tasks];ne[q]={...ne[q],completed:!ne[q].completed},b(he=>({...he,tasks:ne}))},F=()=>{w.trim()&&(b(q=>({...q,tasks:[...q.tasks,{title:w.trim(),completed:!1}]})),S(""))},te=q=>{const ne=[...y.tasks];ne.splice(q,1),b(he=>({...he,tasks:ne}))},W=q=>{if(!q||q.length===0)return 0;const ne=q.filter(he=>he.completed).length;return Math.round(ne/q.length*100)},re=async q=>{q.preventDefault(),l(!0),h(null);try{const ne=Tn(yt,"goals",t),he=W(y.tasks),O=y.dueDate?new Date(y.dueDate):null;await Tx(ne,{title:y.title,category:y.category,priority:y.priority,description:y.description,dueDate:O,tasks:y.tasks,completed:y.completed,progress:he,updatedAt:so()}),i(ee=>({...ee,title:y.title,category:y.category,priority:y.priority,description:y.description,dueDate:O,tasks:y.tasks,completed:y.completed,progress:he,updatedAt:new Date})),g(!1)}catch(ne){console.error("Error updating goal:",ne),h(ne.message||"Failed to update goal")}finally{l(!1)}},D=async()=>{if(window.confirm("Are you sure you want to delete this goal? This cannot be undone."))try{await jm(Tn(yt,"goals",t)),e("/app/goals")}catch(q){console.error("Error deleting goal:",q),h(q.message||"Failed to delete goal")}},C=q=>{if(!q)return"No date set";try{return(q.toDate?q.toDate():new Date(q)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(ne){return console.error("Date formatting error:",ne),"Invalid date"}},j=q=>{if(!q)return null;try{const he=(q.toDate?q.toDate():new Date(q))-new Date;return Math.ceil(he/(1e3*60*60*24))}catch(ne){return console.error("Error calculating days remaining:",ne),null}};if(a)return d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading goal details..."})]});if(c)return d.jsx("div",{className:"max-w-2xl mx-auto p-6",children:d.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-r",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"text-sm text-red-700",children:c}),d.jsxs("button",{onClick:()=>e("/app/goals"),className:"mt-2 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsx(m0,{className:"mr-1"})," Back to Goals"]})]})]})})});if(!n)return d.jsxs("div",{className:"max-w-2xl mx-auto p-6 text-center",children:[d.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-r mb-6",children:d.jsx("p",{className:"text-yellow-700",children:"Goal not found"})}),d.jsxs("button",{onClick:()=>e("/app/goals"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsx(m0,{className:"mr-2"})," Return to Goals"]})]});const M=W(n.tasks),L=j(n.dueDate),H=A.find(q=>q.id===n.category)||A.find(q=>q.id==="other"),V=P.find(q=>q.id===n.priority)||P.find(q=>q.id==="Medium");return d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"mb-6 flex justify-between items-start",children:[d.jsxs("button",{onClick:()=>e("/app/goals"),className:"inline-flex items-center text-indigo-600 hover:text-indigo-800",children:[d.jsx(m0,{className:"mr-2"})," Back to Goals"]}),d.jsx("div",{className:"flex space-x-2",children:f?d.jsx("button",{onClick:()=>g(!1),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}):d.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsx(Ey,{className:"mr-2"})," Edit"]})})]}),d.jsxs("div",{className:`bg-white rounded-xl shadow-md overflow-hidden ${n.completed?"border-l-4 border-green-500":""}`,children:[d.jsx("div",{className:`px-6 py-4 ${n.completed?"bg-green-50":"bg-indigo-50"} border-b`,children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${n.completed?"text-green-800":"text-indigo-800"}`,children:n.title}),d.jsxs("div",{className:"flex flex-wrap items-center mt-2 gap-2",children:[d.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${V.color}`,children:[d.jsx(Az,{className:"mr-1"})," ",V.name]}),d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[H.emoji," ",H.name]}),n.completed&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[d.jsx(p0,{className:"mr-1"})," Completed"]})]})]}),L!==null&&d.jsxs("div",{className:`mt-3 sm:mt-0 px-3 py-1 rounded-full text-sm font-medium ${L>0?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:[d.jsx(Bf,{className:"inline mr-1"}),L>0?`${L} day${L!==1?"s":""} remaining`:"Past due date"]})]})}),d.jsx("div",{className:"p-6",children:f?d.jsxs("form",{onSubmit:re,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title*"}),d.jsx("input",{type:"text",name:"title",id:"title",value:y.title,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category*"}),d.jsx("select",{name:"category",id:"category",value:y.category,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0,children:A.map(q=>d.jsxs("option",{value:q.id,children:[q.emoji," ",q.name]},q.id))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority*"}),d.jsx("select",{name:"priority",id:"priority",value:y.priority,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0,children:P.map(q=>d.jsx("option",{value:q.id,children:q.name},q.id))})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"completed",id:"completed",checked:y.completed,onChange:R,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"completed",className:"ml-2 block text-sm text-gray-700",children:"Mark as completed"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),d.jsx("textarea",{name:"description",id:"description",rows:"3",value:y.description,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700",children:"Due Date"}),d.jsx("input",{type:"date",name:"dueDate",id:"dueDate",value:y.dueDate,onChange:k,min:new Date().toISOString().split("T")[0],className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tasks"}),d.jsxs("span",{className:"text-sm text-gray-500",children:[W(y.tasks),"% completed"]})]}),d.jsx("div",{className:"mt-2 space-y-2",children:y.tasks.map((q,ne)=>d.jsxs("div",{className:"flex items-center group",children:[d.jsx("button",{type:"button",onClick:()=>B(ne),className:`flex-shrink-0 h-5 w-5 rounded-full flex items-center justify-center ${q.completed?"bg-green-100 text-green-600":"border border-gray-300 text-transparent"}`,children:q.completed&&d.jsx(p0,{className:"h-3 w-3"})}),d.jsx("input",{type:"text",value:q.title,onChange:he=>{const O=[...y.tasks];O[ne].title=he.target.value,b(ee=>({...ee,tasks:O}))},className:`ml-2 block flex-1 border-0 border-b border-transparent focus:border-indigo-500 focus:ring-0 py-1 px-1 sm:text-sm ${q.completed?"line-through text-gray-400":"text-gray-700"}`}),d.jsx("button",{type:"button",onClick:()=>te(ne),className:"ml-2 opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500 transition-opacity",children:d.jsx(HR,{className:"h-5 w-5"})})]},ne))}),d.jsxs("div",{className:"mt-3 flex",children:[d.jsx("input",{type:"text",value:w,onChange:q=>S(q.target.value),onKeyPress:q=>q.key==="Enter"&&F(),placeholder:"Add a new task",className:"block flex-1 border border-gray-300 rounded-l-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),d.jsx("button",{type:"button",onClick:F,className:"inline-flex items-center px-3 py-2 border border-l-0 border-gray-300 rounded-r-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:d.jsx(Ty,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[d.jsxs("button",{type:"button",onClick:D,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[d.jsx(zR,{className:"mr-2"})," Delete Goal"]}),d.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:a,children:a?"Saving...":"Save Changes"})]})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Progress"}),d.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:[M,"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:d.jsx("div",{className:`h-2.5 rounded-full transition-all duration-300 ${n.completed?"bg-green-500":"bg-indigo-600"}`,style:{width:`${M}%`}})})]}),n.description&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Description"}),d.jsx("p",{className:"text-gray-600 whitespace-pre-line bg-gray-50 p-3 rounded-md",children:n.description})]}),n.dueDate&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),d.jsxs("p",{className:"text-gray-600 flex items-center",children:[d.jsx(Bf,{className:"mr-2"}),C(n.dueDate),L!==null&&d.jsx("span",{className:`ml-3 text-xs px-2 py-1 rounded-full ${L>0?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:L>0?`${L} day${L!==1?"s":""} left`:"Past due"})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center",children:[d.jsx(Nz,{className:"mr-2"})," Tasks"]}),d.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:[((ye=n.tasks)==null?void 0:ye.filter(q=>q.completed).length)||0," of ",((xe=n.tasks)==null?void 0:xe.length)||0," completed"]})]}),((X=n.tasks)==null?void 0:X.length)>0?d.jsx("div",{className:"border rounded-lg divide-y",children:n.tasks.map((q,ne)=>d.jsxs("div",{className:`flex items-center p-3 hover:bg-gray-50 transition-colors ${q.completed?"bg-green-50":""}`,children:[d.jsx("button",{onClick:()=>B(ne),className:`flex-shrink-0 h-5 w-5 rounded-full flex items-center justify-center mr-3 ${q.completed?"bg-green-500 text-white":"border border-gray-300 hover:border-indigo-400"}`,"aria-label":q.completed?"Mark as incomplete":"Mark as complete",children:q.completed&&d.jsx(p0,{className:"h-3 w-3"})}),d.jsx("span",{className:`flex-grow ${q.completed?"line-through text-gray-500":"text-gray-700"}`,children:q.title||q.text||"Untitled task"})]},ne))}):d.jsx("div",{className:"text-center py-4 text-gray-400 border border-dashed rounded-lg",children:"No tasks added yet"})]}),n.updatedAt&&d.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200 text-xs text-gray-500",children:["Last updated: ",C(n.updatedAt)]})]})})]})]})}const y0=[{id:"health",name:"Health & Fitness",emoji:""},{id:"career",name:"Career & Work",emoji:""},{id:"education",name:"Education & Learning",emoji:""},{id:"finance",name:"Finance & Money",emoji:""},{id:"personal",name:"Personal Growth",emoji:""},{id:"relationship",name:"Relationships",emoji:""},{id:"hobby",name:"Hobbies & Recreation",emoji:""},{id:"spiritual",name:"Spiritual",emoji:""},{id:"other",name:"Other",emoji:""}],kz=[{category:"health",title:"Complete a 5K run",description:"Train progressively to be able to run 5 kilometers without stopping",priority:"Medium",smart:{specific:"Train to run 5K without stopping",measurable:"Track distance covered in each training session",achievable:"Gradually increase distance each week",relevant:"Improve cardiovascular health and overall fitness",timeBound:"Complete within 3 months"},tasks:[{text:"Get proper running shoes",completed:!1},{text:"Create a training schedule",completed:!1},{text:"Run 3 times per week",completed:!1}]},{category:"career",title:"Learn a new professional skill",description:"Enhance my career options by learning a valuable new skill",priority:"High",smart:{specific:"Complete online course in the chosen skill",measurable:"Earn certification or create portfolio pieces",achievable:"Allocate 5 hours per week for learning",relevant:"Will help advance my career path",timeBound:"Complete within 2 months"},tasks:[{text:"Research available courses",completed:!1},{text:"Enroll in selected course",completed:!1},{text:"Complete weekly assignments",completed:!1}]},{category:"finance",title:"Build an emergency fund",description:"Save money for unexpected expenses and financial security",priority:"High",smart:{specific:"Save 3 months of living expenses",measurable:"Track monthly savings amount",achievable:"Set aside 10% of income each month",relevant:"Provides financial security and peace of mind",timeBound:"Complete within 1 year"},tasks:[{text:"Calculate target amount",completed:!1},{text:"Open a dedicated savings account",completed:!1},{text:"Set up automatic transfers",completed:!1}]}];function Mz(){const t=or(),[e,n]=_.useState(1),[i,a]=_.useState(!1),[l,c]=_.useState(""),[h,f]=_.useState(""),[g,y]=_.useState(!1),[b,w]=_.useState(0),[S,A]=_.useState(""),[P,k]=_.useState(""),[R,B]=_.useState(""),[F,te]=_.useState("Medium"),[W,re]=_.useState(""),[D,C]=_.useState([{text:"",completed:!1}]),[j,M]=_.useState([{title:"",dueDate:"",completed:!1}]),[L,H]=_.useState("daily"),[V,ye]=_.useState(""),[xe,X]=_.useState(""),[q,ne]=_.useState(""),[he,O]=_.useState(""),[ee,ue]=_.useState(""),ae=new Date().toISOString().split("T")[0],be=()=>{const fe=new Date;return fe.setDate(fe.getDate()+30),fe.toISOString().split("T")[0]};_.useEffect(()=>{const fe=an.onAuthStateChanged(async Ae=>{if(!Ae){console.log(" No authenticated user. Redirecting to login..."),t("/login");return}console.log(" Authenticated user:",Ae.uid);try{const ft=Ci(yt,"goals"),Gn=Hs(ft,qr("userId","==",Ae.uid)),yi=await qs(Gn),Kn=yi.empty?0:yi.docs.length;console.log(` Found ${Kn} active goal(s)`),w(Kn)}catch(ft){console.error(" Error fetching active goals:",ft)}});return()=>fe()},[t]);const De=()=>{C([...D,{text:"",completed:!1}])},Se=fe=>{const Ae=[...D];Ae.splice(fe,1),C(Ae)},ct=(fe,Ae)=>{const ft=[...D];ft[fe].text=Ae,C(ft)},Ke=()=>{M([...j,{title:"",dueDate:"",completed:!1}])},Ht=fe=>{const Ae=[...j];Ae.splice(fe,1),M(Ae)},pi=(fe,Ae,ft)=>{const Gn=[...j];Gn[fe][Ae]=ft,M(Gn)},gi=()=>{if(c(""),e===1){if(!S.trim()){c("Please enter a goal title");return}if(!R){c("Please select a category");return}if(W&&new Date(W)<new Date){c("Due date cannot be in the past");return}}e===2&&(f("Great job defining your SMART goal!"),setTimeout(()=>f(""),3e3)),n(e+1),window.scrollTo(0,0)},ur=()=>{n(e-1),window.scrollTo(0,0)},dr=fe=>{A(fe.title),k(fe.description),B(fe.category),te(fe.priority),ye(fe.smart.specific),X(fe.smart.measurable),ne(fe.smart.achievable),O(fe.smart.relevant),ue(fe.smart.timeBound),C(fe.tasks),re(be()),y(!1)},hr=async fe=>{fe.preventDefault(),c(""),a(!0);try{const Ae=an.currentUser;if(!Ae){console.error("No authenticated user!"),c("You must be logged in to create a goal");return}if(!S.trim())return c("Goal title is required");if(!R)return c("Please select a category");if(!y0.find(qt=>qt.id===R))return c("Invalid category selected");if(!["Low","Medium","High"].includes(F))return c("Invalid priority selected");const ft=D.filter(qt=>qt.text.trim()!=="").map(qt=>({text:qt.text.trim(),completed:!1}));if(ft.length===0)return c("Please add at least one task");const Gn=j.filter(qt=>qt.title.trim()!=="").map(qt=>({title:qt.title.trim(),dueDate:qt.dueDate&&!isNaN(new Date(qt.dueDate))?new Date(qt.dueDate):null,completed:!1})),yi=(P==null?void 0:P.trim())||"",Kn=W&&!isNaN(new Date(W))?new Date(W):null,mo={userId:Ae.uid,title:S.trim(),description:yi,category:R,priority:F,dueDate:Kn,tasks:ft,milestones:Gn,smart:{specific:V,measurable:xe,achievable:q,relevant:he,timeBound:ee},reminder:L,progress:0,completed:!1,createdAt:so(),updatedAt:so()};console.log("Submitting goal:",mo);const Yn=await Sx(Ci(yt,"goals"),mo);if(!(Yn!=null&&Yn.id)){console.error("No document ID returned from Firestore!"),c("Error: Could not retrieve the goal ID");return}console.log("Goal created with ID:",Yn.id),t(`/app/goals/${Yn.id}`)}catch(Ae){console.error("Error creating goal:",Ae),Ae.code==="permission-denied"?c("Permission denied. This could be due to Firestore rules. Please check that all required fields are valid."):Ae.code==="unavailable"?c("The service is currently unavailable. Please try again later."):c(`Error creating goal: ${Ae.message}`),window.scrollTo(0,0)}finally{a(!1)}},fr=fe=>{const Ae=y0.find(ft=>ft.id===fe);return Ae?Ae.emoji:""};return d.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsx("button",{onClick:()=>t("/app/goals"),className:"mr-4 text-gray-600 hover:text-indigo-600","aria-label":"Back to goals",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),d.jsx("h1",{className:"text-3xl font-bold",children:"Create New Goal"})]}),b>0&&d.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg text-blue-800",children:d.jsxs("p",{className:"flex items-center",children:[d.jsx("span",{className:"mr-2",children:""}),"You currently have ",b," active goal",b!==1?"s":"","."]})}),d.jsx("div",{className:"mb-8",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`rounded-full h-8 w-8 flex items-center justify-center ${e>=1?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600"}`,children:"1"}),d.jsx("div",{className:"ml-2 text-sm font-medium",children:"Basic Info"})]}),d.jsx("div",{className:`flex-1 h-1 mx-4 ${e>=2?"bg-indigo-600":"bg-gray-200"}`}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`rounded-full h-8 w-8 flex items-center justify-center ${e>=2?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600"}`,children:"2"}),d.jsx("div",{className:"ml-2 text-sm font-medium",children:"SMART Framework"})]}),d.jsx("div",{className:`flex-1 h-1 mx-4 ${e>=3?"bg-indigo-600":"bg-gray-200"}`}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`rounded-full h-8 w-8 flex items-center justify-center ${e>=3?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600"}`,children:"3"}),d.jsx("div",{className:"ml-2 text-sm font-medium",children:"Tasks & Milestones"})]})]})}),l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:l}),h&&d.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-6 animate-pulse",children:h}),d.jsxs("form",{onSubmit:hr,className:"bg-white rounded-xl shadow p-6",children:[e===1&&d.jsxs("div",{children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("button",{type:"button",onClick:()=>y(!g),className:"flex items-center text-indigo-600 hover:text-indigo-800 mb-2",children:[d.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})}),g?"Hide Templates":"Use a Goal Template"]}),g&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6 bg-gray-50 p-4 rounded-lg",children:kz.map((fe,Ae)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white hover:border-indigo-300 cursor-pointer",onClick:()=>dr(fe),children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx("span",{className:"text-xl mr-2",children:fr(fe.category)}),d.jsx("h3",{className:"font-medium",children:fe.title})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-2",children:fe.description}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{type:"button",className:"text-sm text-indigo-600 hover:text-indigo-800",children:"Use Template"})})]},Ae))})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"title",children:"Goal Title*"}),d.jsx("input",{type:"text",id:"title",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"What do you want to achieve?",value:S,onChange:fe=>A(fe.target.value),required:!0})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"description",children:"Description"}),d.jsx("textarea",{id:"description",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:"3",placeholder:"Why is this goal important to you?",value:P,onChange:fe=>k(fe.target.value)})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Category*"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:y0.map(fe=>d.jsxs("button",{type:"button",className:`flex items-center p-3 border rounded-md hover:border-indigo-500 ${R===fe.id?"border-indigo-500 bg-indigo-50":"border-gray-200"}`,onClick:()=>B(fe.id),children:[d.jsx("span",{className:"text-xl mr-2",children:fe.emoji}),d.jsx("span",{children:fe.name})]},fe.id))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"priority",children:"Priority"}),d.jsxs("select",{id:"priority",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:F,onChange:fe=>te(fe.target.value),children:[d.jsx("option",{value:"Low",children:"Low"}),d.jsx("option",{value:"Medium",children:"Medium"}),d.jsx("option",{value:"High",children:"High"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"dueDate",children:"Due Date"}),d.jsx("input",{type:"date",id:"dueDate",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:W,onChange:fe=>re(fe.target.value),min:ae})]})]})]}),e===2&&d.jsxs("div",{children:[d.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg mb-6",children:[d.jsx("h3",{className:"font-bold text-indigo-800 mb-2",children:"The SMART Goal Framework"}),d.jsx("p",{className:"text-sm text-indigo-700",children:"Make your goal Specific, Measurable, Achievable, Relevant, and Time-bound to increase your chances of success."})]}),R&&d.jsx("div",{className:"mb-6 p-3 border-l-4 border-indigo-300 bg-indigo-50",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-xl mr-2",children:fr(R)}),d.jsx("h3",{className:"font-medium text-indigo-800",children:S})]})}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"specific",children:"Specific"}),d.jsx("textarea",{id:"specific",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:"2",placeholder:"What exactly do you want to accomplish?",value:V,onChange:fe=>ye(fe.target.value)}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'Example: "Run a half marathon" instead of "Get fit"'})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"measurable",children:"Measurable"}),d.jsx("textarea",{id:"measurable",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:"2",placeholder:"How will you track your progress and measure success?",value:xe,onChange:fe=>X(fe.target.value)}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'Example: "Complete a 13.1 mile run" with tracking of weekly mileage'})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"achievable",children:"Achievable"}),d.jsx("textarea",{id:"achievable",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:"2",placeholder:"Is this goal realistic given your resources and constraints?",value:q,onChange:fe=>ne(fe.target.value)}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Consider your available time, skills, and other commitments"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"relevant",children:"Relevant"}),d.jsx("textarea",{id:"relevant",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:"2",placeholder:"Why does this matter to you? How does it align with your larger goals?",value:he,onChange:fe=>O(fe.target.value)}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Connect this goal to your values and long-term vision"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"timeBound",children:"Time-bound"}),d.jsx("textarea",{id:"timeBound",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:"2",placeholder:"What's your timeline? When will you achieve this by?",value:ee,onChange:fe=>ue(fe.target.value)}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Set specific deadlines for your goal and milestones"})]})]}),e===3&&d.jsxs("div",{children:[d.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg mb-6",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx("span",{className:"text-xl mr-2",children:fr(R)}),d.jsx("h3",{className:"font-medium text-indigo-800",children:S})]}),W&&d.jsxs("p",{className:"text-sm text-indigo-600",children:["Target completion: ",new Date(W).toLocaleDateString()]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("label",{className:"block text-gray-700 font-medium",children:"Tasks"}),d.jsxs("button",{type:"button",onClick:De,className:"text-indigo-600 hover:text-indigo-800 text-sm flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Task"]})]}),D.map((fe,Ae)=>d.jsxs("div",{className:"flex items-center mb-3",children:[d.jsx("input",{type:"text",className:"flex-grow px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:`Task ${Ae+1}`,value:fe.text,onChange:ft=>ct(Ae,ft.target.value)}),D.length>1&&d.jsx("button",{type:"button",onClick:()=>Se(Ae),className:"ml-2 text-red-500 hover:text-red-700",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},Ae)),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Break down your goal into smaller, actionable tasks"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("label",{className:"block text-gray-700 font-medium",children:"Milestones (Optional)"}),d.jsxs("button",{type:"button",onClick:Ke,className:"text-indigo-600 hover:text-indigo-800 text-sm flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Milestone"]})]}),j.map((fe,Ae)=>d.jsxs("div",{className:"bg-gray-50 p-4 rounded-md mb-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("h4",{className:"font-medium mb-2",children:["Milestone ",Ae+1]}),j.length>1&&d.jsx("button",{type:"button",onClick:()=>Ht(Ae),className:"text-red-500 hover:text-red-700",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),d.jsx("div",{className:"mb-3",children:d.jsx("input",{type:"text",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Milestone title",value:fe.title,onChange:ft=>pi(Ae,"title",ft.target.value)})}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Due Date"}),d.jsx("input",{type:"date",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:fe.dueDate,onChange:ft=>pi(Ae,"dueDate",ft.target.value),min:ae})]})]},Ae)),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Add key milestones to track your progress"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"reminder",children:"Reminder Frequency"}),d.jsxs("select",{id:"reminder",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:L,onChange:fe=>H(fe.target.value),children:[d.jsx("option",{value:"daily",children:"Daily"}),d.jsx("option",{value:"weekly",children:"Weekly"}),d.jsx("option",{value:"monthly",children:"Monthly"}),d.jsx("option",{value:"none",children:"None"})]}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"How often would you like to be reminded about this goal?"})]})]}),d.jsxs("div",{className:"flex justify-between mt-8",children:[e>1?d.jsx("button",{type:"button",onClick:ur,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Back"}):d.jsx("div",{}),e<3?d.jsx("button",{type:"button",onClick:gi,className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Next"}):d.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 flex items-center",disabled:i,children:i?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):d.jsx(d.Fragment,{children:"Create Goal"})})]})]}),e===1&&d.jsxs("div",{className:"mt-8 bg-blue-50 p-4 rounded-lg",children:[d.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Tips for Setting Effective Goals:"}),d.jsxs("ul",{className:"text-sm text-blue-700 space-y-2",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"mr-2",children:""}),d.jsx("span",{children:"Be specific about what you want to achieve"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"mr-2",children:""}),d.jsx("span",{children:"Make sure your goal is measurable so you can track progress"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"mr-2",children:""}),d.jsx("span",{children:"Set ambitious but realistic goals that challenge you appropriately"})]})]})]}),e===2&&d.jsxs("div",{className:"mt-8 bg-blue-50 p-4 rounded-lg",children:[d.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"About SMART Goals:"}),d.jsx("p",{className:"text-sm text-blue-700 mb-2",children:"SMART goals help you clarify your ideas, focus your efforts, use your time and resources effectively, and increase your chances of achieving what you want."}),d.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"S"}),"pecific: Clear and well-defined"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"M"}),"easurable: Quantifiable progress and end result"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"A"}),"chievable: Realistic and attainable"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"R"}),"elevant: Worthwhile and aligned with your values"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"T"}),"ime-bound: Has a target date for completion"]})]})]}),e===3&&d.jsxs("div",{className:"mt-8 bg-blue-50 p-4 rounded-lg",children:[d.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Tips for Task Breakdown:"}),d.jsxs("ul",{className:"text-sm text-blue-700 space-y-2",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"mr-2",children:""}),d.jsx("span",{children:"Break your goal into small, actionable tasks that can be completed in a single session"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"mr-2",children:""}),d.jsx("span",{children:"Set milestones to celebrate progress and maintain motivation"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"mr-2",children:""}),d.jsx("span",{children:"Consider using reminders to stay consistent with your efforts"})]})]})]})]})}function Pz(){const[t,e]=_.useState([]),[n,i]=_.useState(!0),[a,l]=_.useState(""),[c,h]=_.useState(!1),f=or(),[g,y]=_.useState(""),[b,w]=_.useState(""),[S,A]=_.useState(""),[P,k]=_.useState(""),[R,B]=_.useState("30"),[F,te]=_.useState("AI Coach"),W=new Date().toISOString().split("T")[0];_.useEffect(()=>{(async()=>{try{const M=an.currentUser;if(!M)throw new Error("User not authenticated");const L=Hs(Ci(yt,"appointments"),qr("userId","==",M.uid)),V=(await qs(L)).docs.map(ye=>{const xe=ye.data(),X=xe.date instanceof Tt?xe.date.toDate():xe.date instanceof Date?xe.date:new Date(xe.date);return{id:ye.id,...xe,dateObj:X,date:X.toISOString().split("T")[0]}});V.sort((ye,xe)=>ye.dateObj-xe.dateObj),console.log("Fetched appointments:",V),e(V),i(!1)}catch(M){console.error("Error fetching appointments:",M),l(M.message),i(!1)}})()},[]);const re=async j=>{j.preventDefault(),l("");try{const M=an.currentUser;if(!M)throw new Error("You must be logged in to create an appointment");if(!g.trim())throw new Error("Appointment title is required");if(!S)throw new Error("Date is required");if(!P)throw new Error("Time is required");const L=new Date(`${S}T${P}`);if(L<new Date)throw new Error("Appointment cannot be in the past");const H={userId:M.uid,title:g,description:b,date:Tt.fromDate(L),duration:parseInt(R),coach:F,createdAt:so(),status:"scheduled"};await Sx(Ci(yt,"appointments"),H),y(""),w(""),A(""),k(""),B("30"),h(!1);const V=Hs(Ci(yt,"appointments"),qr("userId","==",M.uid)),xe=(await qs(V)).docs.map(X=>{const q=X.data(),ne=q.date instanceof Tt?q.date.toDate():q.date instanceof Date?q.date:new Date(q.date);return{id:X.id,...q,dateObj:ne,date:ne.toISOString().split("T")[0]}});xe.sort((X,q)=>X.dateObj-q.dateObj),e(xe)}catch(M){console.error("Error creating appointment:",M),l(M.message)}},D=async j=>{try{window.confirm("Are you sure you want to cancel this appointment?")&&(await jm(Tn(yt,"appointments",j)),e(t.filter(M=>M.id!==j)))}catch(M){console.error("Error deleting appointment:",M),l(M.message)}},C=j=>{const M={weekday:"short",year:"numeric",month:"short",day:"numeric"};return new Date(j).toLocaleDateString(void 0,M)};return n?d.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})}):d.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"My Appointments"}),d.jsxs("button",{onClick:()=>h(!c),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),c?"Cancel":"New Appointment"]})]}),a&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:a}),c&&d.jsxs("div",{className:"bg-white rounded-xl shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Schedule New Appointment"}),d.jsxs("form",{onSubmit:re,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Title*"}),d.jsx("input",{type:"text",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Appointment title",value:g,onChange:j=>y(j.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Coach"}),d.jsxs("select",{className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:F,onChange:j=>te(j.target.value),children:[d.jsx("option",{value:"AI Coach",children:"AI Coach"}),d.jsx("option",{value:"Professional Coach",children:"Professional Coach"}),d.jsx("option",{value:"Mentor",children:"Mentor"})]})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Description"}),d.jsx("textarea",{className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:"3",placeholder:"What do you want to discuss?",value:b,onChange:j=>w(j.target.value)})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Date*"}),d.jsx("input",{type:"date",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:S,onChange:j=>A(j.target.value),min:W,required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Time*"}),d.jsx("input",{type:"time",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:P,onChange:j=>k(j.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Duration (minutes)"}),d.jsxs("select",{className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:R,onChange:j=>B(j.target.value),children:[d.jsx("option",{value:"15",children:"15 min"}),d.jsx("option",{value:"30",children:"30 min"}),d.jsx("option",{value:"45",children:"45 min"}),d.jsx("option",{value:"60",children:"60 min"})]})]})]}),d.jsx("div",{className:"flex justify-end mt-6",children:d.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Schedule Appointment"})})]})]}),t.length===0?d.jsxs("div",{className:"bg-white rounded-xl shadow p-8 text-center",children:[d.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),d.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No upcoming appointments"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Schedule your first appointment to get started."}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 inline-flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Appointment"]})})]}):d.jsx("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:d.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(j=>d.jsx("li",{className:"p-6 hover:bg-gray-50",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 bg-indigo-100 p-2 rounded-lg",children:d.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:j.title}),d.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[d.jsxs("p",{children:[C(j.date),"  ",j.duration," minutes with ",j.coach]}),j.description&&d.jsx("p",{className:"mt-1",children:j.description})]})]})]})}),d.jsxs("div",{className:"mt-4 md:mt-0 flex space-x-3",children:[d.jsx("button",{onClick:()=>f(`/app/appointments/${j.id}`),className:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Details"}),d.jsx("button",{onClick:()=>D(j.id),className:"px-3 py-1 border border-red-300 rounded-md text-sm font-medium text-red-700 hover:bg-red-50",children:"Cancel"})]})]})},j.id))})})]})}function Oz(){const{id:t}=jT(),e=or(),[n,i]=_.useState(null),[a,l]=_.useState(!0),[c,h]=_.useState(""),[f,g]=_.useState(!1),[y,b]=_.useState(!1),[w,S]=_.useState(""),[A,P]=_.useState(""),[k,R]=_.useState(""),[B,F]=_.useState(""),[te,W]=_.useState("30"),[re,D]=_.useState("AI Coach"),[C,j]=_.useState("scheduled");_.useEffect(()=>{(async()=>{try{const xe=an.currentUser;if(!xe)throw new Error("You must be logged in to view this appointment");const X=Tn(yt,"appointments",t),q=await id(X);if(!q.exists())throw new Error("Appointment not found");const ne=q.data();if(ne.userId!==xe.uid)throw new Error("You do not have permission to view this appointment");const he=ne.date.toDate(),O=he.toISOString().split("T")[0],ee=he.toTimeString().substring(0,5);i({id:q.id,...ne,date:O,time:ee}),S(ne.title),P(ne.description||""),R(O),F(ee),W(ne.duration.toString()),D(ne.coach||"AI Coach"),j(ne.status||"scheduled"),l(!1)}catch(xe){console.error("Error fetching appointment:",xe),h(xe.message),l(!1)}})()},[t]);const M=async ye=>{ye.preventDefault(),h(""),g(!1);try{if(!an.currentUser)throw new Error("You must be logged in to update an appointment");if(!w.trim())throw new Error("Appointment title is required");if(!k||!B)throw new Error("Date and time are required");const X=new Date(`${k}T${B}`);if(X<new Date)throw new Error("Appointment cannot be in the past");const q=Tn(yt,"appointments",t);await Tx(q,{title:w,description:A,date:X,duration:parseInt(te),coach:re,status:C,updatedAt:so()}),i({...n,title:w,description:A,date:k,time:B,duration:te,coach:re,status:C})}catch(xe){console.error("Error updating appointment:",xe),h(xe.message)}},L=async()=>{if(window.confirm("Are you sure you want to cancel this appointment?")){b(!0);try{await jm(Tn(yt,"appointments",t)),e("/app/appointments")}catch(ye){console.error("Error deleting appointment:",ye),h(ye.message),b(!1)}}},H=(ye,xe)=>{const X={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(`${ye}T${xe}`).toLocaleDateString(void 0,X)},V=ye=>{const xe={scheduled:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",canceled:"bg-red-100 text-red-800",rescheduled:"bg-purple-100 text-purple-800"};return d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${xe[ye]||"bg-gray-100 text-gray-800"}`,children:ye.charAt(0).toUpperCase()+ye.slice(1)})};return a?d.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})}):c?d.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),d.jsx("button",{onClick:()=>e("/app/appointments"),className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Back to Appointments"})]}):d.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[d.jsxs("button",{onClick:()=>e("/app/appointments"),className:"flex items-center text-gray-600 hover:text-indigo-600 mb-6",children:[d.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Appointments"]}),d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Appointment Details"}),d.jsx("div",{className:"flex space-x-2",children:!f&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Edit"}),d.jsx("button",{onClick:L,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center",disabled:y,children:y?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Canceling..."]}):"Cancel Appointment"})]})})]}),c&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:c}),f?d.jsx("div",{className:"bg-white rounded-xl shadow p-6",children:d.jsxs("form",{onSubmit:M,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Title*"}),d.jsx("input",{type:"text",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:w,onChange:ye=>S(ye.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Coach"}),d.jsxs("select",{className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:re,onChange:ye=>D(ye.target.value),children:[d.jsx("option",{value:"AI Coach",children:"AI Coach"}),d.jsx("option",{value:"Professional Coach",children:"Professional Coach"}),d.jsx("option",{value:"Mentor",children:"Mentor"})]})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Description"}),d.jsx("textarea",{className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:"3",value:A,onChange:ye=>P(ye.target.value)})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Date*"}),d.jsx("input",{type:"date",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:k,onChange:ye=>R(ye.target.value),min:new Date().toISOString().split("T")[0],required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Time*"}),d.jsx("input",{type:"time",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:B,onChange:ye=>F(ye.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Duration (minutes)"}),d.jsxs("select",{className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:te,onChange:ye=>W(ye.target.value),children:[d.jsx("option",{value:"15",children:"15 min"}),d.jsx("option",{value:"30",children:"30 min"}),d.jsx("option",{value:"45",children:"45 min"}),d.jsx("option",{value:"60",children:"60 min"})]})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Status"}),d.jsxs("select",{className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:C,onChange:ye=>j(ye.target.value),children:[d.jsx("option",{value:"scheduled",children:"Scheduled"}),d.jsx("option",{value:"completed",children:"Completed"}),d.jsx("option",{value:"canceled",children:"Canceled"}),d.jsx("option",{value:"rescheduled",children:"Rescheduled"})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Save Changes"})]})]})}):d.jsxs("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:[d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n.title}),d.jsxs("div",{className:"mt-1 flex items-center",children:[V(n.status),d.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["with ",n.coach]})]})]}),d.jsx("div",{className:"bg-indigo-100 p-3 rounded-lg",children:d.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),d.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"When"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:H(n.date,n.time)}),d.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Duration: ",n.duration," minutes"]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Coach"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.coach}),n.coach==="AI Coach"&&d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Available 24/7 in your chat interface"})]})]}),n.description&&d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Description"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-line",children:n.description})]}),d.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Preparation"}),d.jsxs("ul",{className:"mt-2 space-y-3",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{className:"text-sm text-gray-700",children:"Review your goals and progress before the session"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{className:"text-sm text-gray-700",children:"Prepare any questions or topics you want to discuss"})]}),n.coach!=="AI Coach"&&d.jsxs("li",{className:"flex items-start",children:[d.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{className:"text-sm text-gray-700",children:"Join 5 minutes early to test your connection"})]})]})]})]}),n.status==="scheduled"&&d.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:[d.jsx("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Reschedule"}),n.coach==="AI Coach"&&d.jsx("button",{onClick:()=>e("/app/coach"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Start Session Now"})]})]})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Vz(t,e,n,i){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{g(i.next(y))}catch(b){c(b)}}function f(y){try{g(i.throw(y))}catch(b){c(b)}}function g(y){y.done?l(y.value):a(y.value).then(h,f)}g((i=i.apply(t,[])).next())})}function Lz(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(y){return f([g,y])}}function f(g){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(y){g=[6,y],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ml=function(){return ml=Object.assign||function(e){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},ml.apply(this,arguments)},qR=function(t){return{loading:t==null,value:t}},Uz=function(){return function(t,e){switch(e.type){case"error":return ml(ml({},t),{error:e.error,loading:!1,value:void 0});case"reset":return qR(e.defaultValue);case"value":return ml(ml({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},Bz=function(t){var e=t?t():void 0,n=_.useReducer(Uz(),qR(e)),i=n[0],a=n[1],l=_.useCallback(function(){var f=t?t():void 0;a({type:"reset",defaultValue:f})},[t]),c=_.useCallback(function(f){a({type:"error",error:f})},[]),h=_.useCallback(function(f){a({type:"value",value:f})},[]);return _.useMemo(function(){return{error:i.error,loading:i.loading,reset:l,setError:c,setValue:h,value:i.value}},[i.error,i.loading,l,c,h,i.value])},Fz=function(t,e){var n=Bz(function(){return t.currentUser}),i=n.error,a=n.loading,l=n.setError,c=n.setValue,h=n.value;return _.useEffect(function(){var f=bN(t,function(g){return Vz(void 0,void 0,void 0,function(){var y;return Lz(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return b.sent(),[3,4];case 3:return y=b.sent(),l(y),[3,4];case 4:return c(g),[2]}})})},l);return function(){f()}},[t]),[h,a,i]};function zz(){const[t]=Fz(an),[e,n]=_.useState([]),[i,a]=_.useState(!0),[l,c]=_.useState(null),[h,f]=_.useState(!1),[g,y]=_.useState(null),[b,w]=_.useState({title:"",content:"",mood:"neutral"}),S=[{id:"happy",name:"Happy",emoji:""},{id:"sad",name:"Sad",emoji:""},{id:"angry",name:"Angry",emoji:""},{id:"excited",name:"Excited",emoji:""},{id:"neutral",name:"Neutral",emoji:""},{id:"tired",name:"Tired",emoji:""},{id:"anxious",name:"Anxious",emoji:""}],A=async()=>{try{if(!t)return;a(!0),c(null);const D=Hs(Ci(yt,"journals"),qr("userId","==",t.uid),Vf("createdAt","desc")),C=await qs(D),j=[];C.forEach(M=>{var L,H;j.push({id:M.id,...M.data(),createdAt:((L=M.data().createdAt)==null?void 0:L.toDate())||new Date,updatedAt:((H=M.data().updatedAt)==null?void 0:H.toDate())||null})}),n(j)}catch(D){console.error("Error fetching journals:",D),c(D.message||"Failed to load journals")}finally{a(!1)}};_.useEffect(()=>{A()},[t]);const P=D=>{const{name:C,value:j}=D.target;w(M=>({...M,[C]:j}))},k=()=>{y(null),w({title:"",content:"",mood:"neutral"}),f(!0)},R=D=>{y(D),w({title:D.title,content:D.content,mood:D.mood||"neutral"}),f(!0)},B=()=>{f(!1),y(null)},F=async D=>{if(D.preventDefault(),!!t){a(!0),c(null);try{const C={title:b.title,content:b.content,mood:b.mood,userId:t.uid,updatedAt:so()};if(g){const j=Tn(yt,"journals",g.id);await Tx(j,C)}else C.createdAt=so(),await Sx(Ci(yt,"journals"),C);await A(),f(!1),y(null)}catch(C){console.error("Error saving journal:",C),c(C.message||"Failed to save journal")}finally{a(!1)}}},te=async D=>{if(window.confirm("Are you sure you want to delete this journal entry? This cannot be undone."))try{await jm(Tn(yt,"journals",D)),await A()}catch(C){console.error("Error deleting journal:",C),c(C.message||"Failed to delete journal")}},W=D=>D?new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",re=D=>{const j=D.split(/\s+/).length;return Math.ceil(j/200)};return t?i&&e.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading journals..."})]}):l?d.jsx("div",{className:"max-w-2xl mx-auto p-6",children:d.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-r",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"text-sm text-red-700",children:l}),d.jsx("button",{onClick:A,className:"mt-2 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Retry"})]})]})})}):d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Journal"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"Reflect on your thoughts and experiences"})]}),h?d.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:g?"Edit Journal Entry":"New Journal Entry"}),d.jsx("button",{onClick:B,className:"text-gray-500 hover:text-gray-700",children:d.jsx(HR,{className:"h-6 w-6"})})]}),d.jsxs("form",{onSubmit:F,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title*"}),d.jsx("input",{type:"text",name:"title",id:"title",value:b.title,onChange:P,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0,maxLength:100}),d.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[b.title.length,"/100 characters"]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"mood",className:"block text-sm font-medium text-gray-700",children:"How are you feeling?"}),d.jsx("select",{name:"mood",id:"mood",value:b.mood,onChange:P,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:S.map(D=>d.jsxs("option",{value:D.id,children:[D.emoji," ",D.name]},D.id))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"Your Thoughts*"}),d.jsx("textarea",{name:"content",id:"content",rows:"10",value:b.content,onChange:P,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0}),d.jsxs("div",{className:"flex justify-between mt-1",children:[d.jsxs("p",{className:"text-xs text-gray-500",children:[b.content.split(/\s+/).filter(Boolean).length," words"]}),d.jsxs("p",{className:"text-xs text-gray-500",children:[d.jsx(wT,{className:"inline mr-1"}),re(b.content)," min read"]})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[d.jsx("button",{type:"button",onClick:B,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:i,children:[d.jsx(Rz,{className:"mr-2"}),i?"Saving...":"Save Entry"]})]})]})]})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[d.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:[e.length," ",e.length===1?"Entry":"Entries"]}),d.jsxs("button",{onClick:k,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsx(Ty,{className:"mr-2"})," New Entry"]})]}),e.length===0?d.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden p-8 text-center",children:[d.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100",children:d.jsx(Ey,{className:"h-6 w-6 text-indigo-600"})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No journal entries yet"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by writing your first journal entry."}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:k,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsx(Ty,{className:"mr-2"})," Create your first entry"]})})]}):d.jsx("div",{className:"space-y-6",children:e.map(D=>{const C=S.find(j=>j.id===D.mood)||S.find(j=>j.id==="neutral");return d.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:D.title}),d.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-x-3 gap-y-1 text-sm text-gray-500",children:[d.jsxs("span",{className:"flex items-center",children:[C.emoji," ",C.name]}),d.jsxs("span",{className:"flex items-center",children:[d.jsx(wT,{className:"mr-1"}),re(D.content)," min read"]}),d.jsx("span",{className:"flex items-center",children:W(D.createdAt)}),D.updatedAt&&d.jsx("span",{className:"text-gray-400 italic",children:"Edited"})]})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>R(D),className:"text-indigo-600 hover:text-indigo-900","aria-label":"Edit journal entry",children:d.jsx(Ey,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>te(D.id),className:"text-red-600 hover:text-red-900","aria-label":"Delete journal entry",children:d.jsx(zR,{className:"h-5 w-5"})})]})]}),d.jsx("div",{className:"mt-4 prose max-w-none text-gray-600 whitespace-pre-line",children:D.content})]})},D.id)})})]})]}):d.jsx("div",{className:"max-w-2xl mx-auto p-6 text-center",children:d.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r mb-6",children:d.jsx("p",{className:"text-blue-700",children:"Please sign in to access your journal"})})})}const Hz=()=>d.jsxs("div",{className:"font-sans bg-gray-50 text-gray-800 min-h-screen flex flex-col",children:[d.jsx(Q6,{}),d.jsx("main",{className:"flex-grow",children:d.jsxs(x4,{children:[d.jsx(zn,{path:"/",element:d.jsx(gz,{})}),d.jsx(zn,{path:"/login",element:d.jsx(yz,{})}),d.jsx(zn,{path:"/register",element:d.jsx(vz,{})}),d.jsxs(zn,{element:d.jsx(DF,{}),children:[d.jsx(zn,{path:"/app",element:d.jsx(g4,{to:"/app/dashboard",replace:!0})}),d.jsx(zn,{path:"/app/dashboard",element:d.jsx(jz,{})}),d.jsx(zn,{path:"/app/goals",element:d.jsx(Iz,{})}),d.jsx(zn,{path:"/app/goals/create",element:d.jsx(Mz,{})}),d.jsx(zn,{path:"/app/goals/:goalId",element:d.jsx(Dz,{})}),d.jsx(zn,{path:"/app/appointments",element:d.jsx(Pz,{})}),d.jsx(zn,{path:"/app/appointments/:id",element:d.jsx(Oz,{})}),d.jsx(zn,{path:"/app/journal",element:d.jsx(zz,{})})]})]})}),d.jsx(Z6,{})]});SI.createRoot(document.getElementById("root")).render(d.jsx(H4,{basename:"/ai-coach",children:d.jsx(_.StrictMode,{children:d.jsx(Hz,{})})}));
